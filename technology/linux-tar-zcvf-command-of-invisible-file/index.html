<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Wyane">
  <meta name="description" content="Record Wyane&#39;s life and study">
  <meta name="keywords" content="Wyane,Blog,博客,ブログ">
  <meta name="google-site-verification" content="BSHAeX0rpMJl5P9uivMCvTuOjrwjHaZJd1ByR12z6BE" />
  <link rel="prev" href="https://huaien.co/technology/how-to-backup-hexo-to-github/" />
  <link rel="next" href="https://huaien.co/technology/linux-tar-zcvf-command-of-invisible-file/" />
  <link rel="canonical" href="https://huaien.co/technology/linux-tar-zcvf-command-of-invisible-file/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <link href="//use.fontawesome.com/releases/v5.9.0/css/all.css" rel="stylesheet">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-4547757701057415",
          enable_page_level_ads: true
     });
</script>
  
  <title>
       
       
           Linux打包压缩目录中的隐藏文件命令 | Wyane&#39;s Blog
       
  </title>
  <meta name="title" content="Linux打包压缩目录中的隐藏文件命令 | Wyane&#39;s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/huaien.co\/"
    },
    "articleSection" : "posts",
    "name" : "Linux打包压缩目录中的隐藏文件命令",
    "headline" : "Linux打包压缩目录中的隐藏文件命令",
    "description" : "有时候我们在Linux系统下打包目录文件的时候，打包后的结果只有目录中的可见文件，但是其实我们需要打包目录下包括隐藏文件，目录的所有文件。这时候我们需要用到的命令，在本文会介绍到。",
    "inLanguage" : "zh-cn",
    "author" : "Wyane",
    "creator" : "Wyane",
    "publisher": "Wyane",
    "accountablePerson" : "Wyane",
    "copyrightHolder" : "Wyane",
    "copyrightYear" : "2018",
    "datePublished": "2018-08-04 00:00:00 \x2b0000 UTC",
    "dateModified" : "2018-08-04 00:00:00 \x2b0000 UTC",
    "url" : "https:\/\/huaien.co\/technology\/linux-tar-zcvf-command-of-invisible-file\/",
    "wordCount" : "88019",
    "keywords" : [ "Linux","Shell","后端技术", "Wyane\x27s Blog"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://huaien.co/">Wyane&#39;s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/links/" title="Links">Links</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://huaien.co/">Wyane&#39;s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/links/" title="Links">Links</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Linux打包压缩目录中的隐藏文件命令</h1>
        <div class="post-meta">
        
                      
          <i class="far fa-folder-open"></i>
                <span class="post-category">
                        <a href="https://huaien.co/categories/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/"> 技术记录 </a>
                        
                </span>
          <span class="post-time">
         <i class="far fa-calendar-alt"></i>  <time datetime=2018-08-04 itemprop="datePublished">2018-08-04</time>
           </span>
     
         <i class="far fa-file-word"></i> <span class="post-word-count"> 88019 字</span>
         <i class="far fa-clock"></i> <span class="more-meta"> 176 分钟</span>
          
        </div>
    </header>
	
          <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title"></h2>
  
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#description-如果你使用的是dnspod来智能解析博客到github-pages和coding-pages的话-在开启https的时候就要注意了-域名解析的时候需要解析对地址-才能成功申请到ssl证书">description: 如果你使用的是DNSPOD来智能解析博客到GitHub Pages和Coding Pages的话，在开启HTTPS的时候就要注意了。域名解析的时候需要解析对地址，才能成功申请到SSL证书</a></li>
<li><a href="#背景">背景</a></li>
<li><a href="#原因">原因</a></li>
<li><a href="#解决">解决</a></li>
<li><a href="#结语">结语</a></li>
<li><a href="#description-本站是同时托管在github-pages和coding-pages-coding-pages很早的时候就支持后台开通https-用的是自动签发let-s-encrypt的免费证书-而在今年5月1日-github官方也宣布了github-pages支持https">description: 本站是同时托管在GitHub Pages和Coding Pages,Coding Pages很早的时候就支持后台开通HTTPS，用的是自动签发Let&rsquo;s Encrypt的免费证书。而在今年5月1日，GitHub官方也宣布了GitHub Pages支持HTTPS。</a></li>
<li><a href="#背景-1">背景</a></li>
<li><a href="#为github开启http">为GitHub开启HTTP</a>
<ul>
<li><a href="#已经成功绑定域名的情况">已经成功绑定域名的情况</a></li>
<li><a href="#https支持问题">HTTPS支持问题</a></li>
<li><a href="#成功开启">成功开启</a></li>
</ul></li>
<li><a href="#description-有时候我们需要文件夹内留下一个或两个文件-其余的全部删除的时候-用-rm-会将文件夹内包括我们需要的文件都删除掉-这个时候需要用到extglob模式来匹配文件-本文就来讲讲extglob模式">description: 有时候我们需要文件夹内留下一个或两个文件，其余的全部删除的时候，用<code>rm *</code>会将文件夹内包括我们需要的文件都删除掉，这个时候需要用到extglob模式来匹配文件。本文就来讲讲extglob模式。</a></li>
<li><a href="#背景-2">背景</a></li>
<li><a href="#方法">方法</a>
<ul>
<li><a href="#shopt-命令">shopt 命令</a>
<ul>
<li><a href="#set-命令">set 命令</a></li>
</ul></li>
<li><a href="#操作命令实例">操作命令实例</a></li>
<li><a href="#grep-v-反选">grep -v 反选</a></li>
</ul></li>
<li><a href="#来源">来源</a>
<ul>
<li><a href="#git学习资料">git学习资料</a></li>
<li><a href="#git-flow">git-flow</a></li>
<li><a href="#练习">练习</a></li>
<li><a href="#其他">其他</a></li>
<li><a href="#来自git学习资料整理-知乎搜集的">来自git学习资料整理（知乎搜集的）</a></li>
</ul></li>
<li><a href="#description-将hexo源码文件直接移动到其他平台后使用时会出现错误-大部分是因为node组件没有安装好的原因-本文记录了hexo移动到新平台后执行命令时出现的错误和解决办法">description: 将Hexo源码文件直接移动到其他平台后使用时会出现错误。大部分是因为node组件没有安装好的原因。本文记录了Hexo移动到新平台后执行命令时出现的错误和解决办法。</a></li>
<li><a href="#背景-3">背景</a></li>
<li><a href="#错误">错误</a></li>
<li><a href="#原因-1">原因</a></li>
<li><a href="#解决办法">解决办法</a>
<ul>
<li><a href="#npm-install">npm install</a></li>
<li><a href="#npm-audit-fix">npm audit fix</a></li>
</ul></li>
<li><a href="#description-linux服务器安装nvm后无法执行nvm来安装node-提示没有nvm这个命令-多次重装也不行-后来通过修改-bash-profile-文件来解决-本文记录了如何修改-bash-profile-文件和source命令来解决无法使用nvm来安装node-js的方法">description: Linux服务器安装nvm后无法执行nvm来安装node，提示没有nvm这个命令，多次重装也不行，后来通过修改<code>bash_profile</code>文件来解决。本文记录了如何修改<code>bash_profile</code>文件和source命令来解决无法使用nvm来安装node.js的方法。</a></li>
<li><a href="#nvm安装node-js的方法">nvm安装node.js的方法</a></li>
<li><a href="#遇到错误-无法安装node-js">遇到错误，无法安装node.js</a></li>
<li><a href="#解决方法">解决方法</a></li>
<li><a href="#nvm的使用方法">nvm的使用方法</a></li>
<li><a href="#参考来源">参考来源</a></li>
<li><a href="#description-在32位linux系统下的node-modules文件夹直接移动到64位linux系统下无法直接使用-需要重新配置64位linux系统用的环境-本文记录了32位linux系统的node-js移到64位下无法使用的解决过程">description: 在32位Linux系统下的node_modules文件夹直接移动到64位Linux系统下无法直接使用，需要重新配置64位Linux系统用的环境。本文记录了32位Linux系统的node.js移到64位下无法使用的解决过程。</a></li>
<li><a href="#背景-4">背景</a></li>
<li><a href="#错误信息">错误信息</a></li>
<li><a href="#解决方法-1">解决方法</a></li>
<li><a href="#description-本文介绍了如何在网页插入相关代码来使google找到并收录你的amp网页">description: 本文介绍了如何在网页插入相关代码来使Google找到并收录你的AMP网页。</a></li>
<li><a href="#背景-5">背景</a></li>
<li><a href="#如何让-google-发现我的-amp-网页">如何让 Google 发现我的 AMP 网页？</a>
<ul>
<li><a href="#非amp网页">非AMP网页</a></li>
<li><a href="#amp网页">AMP网页</a></li>
<li><a href="#独立的amp网页">独立的AMP网页</a></li>
</ul></li>
<li><a href="#如何检查-google-是否发现了我的-amp-网页">如何检查 Google 是否发现了我的 AMP 网页？</a></li>
<li><a href="#如何检查我的-amp-网页是否可以显示在-google-搜索中">如何检查我的 AMP 网页是否可以显示在 Google 搜索中？</a></li>
<li><a href="#description-本文记录了如何使用aws的ec2的默认用户ec2-user用户登录来创建root密码并切换到root登录的方法">description: 本文记录了如何使用AWS的EC2的默认用户ec2-user用户登录来创建root密码并切换到root登录的方法。</a></li>
<li><a href="#背景-6">背景</a></li>
<li><a href="#创建root密码">创建root密码</a></li>
<li><a href="#重置密码">重置密码</a></li>
<li><a href="#切换root用户">切换root用户</a></li>
<li><a href="#description-在使用宝塔面板安装flarum轻论坛程序时-出现错误提示-the-php-extension-fileinfo-is-required-本文介绍了解决办法">description: 在使用宝塔面板安装Flarum轻论坛程序时，出现错误提示：The PHP extension &lsquo;fileinfo&rsquo; is required，本文介绍了解决办法。</a></li>
<li><a href="#原因-2">原因</a></li>
<li><a href="#解决过程">解决过程</a>
<ul>
<li><a href="#进入对应版本的fileinfo扩展源码目录">进入对应版本的fileinfo扩展源码目录</a></li>
<li><a href="#初始化扩展安装">初始化扩展安装</a></li>
<li><a href="#生成编译配置">生成编译配置</a></li>
<li><a href="#编译并安装扩展">编译并安装扩展</a></li>
<li><a href="#写入配置文件">写入配置文件</a></li>
<li><a href="#重载php配置">重载PHP配置</a></li>
</ul></li>
<li><a href="#description-本文介绍了在编译php组件时候遇到内存不足提示virtual-memory-exhausted-cannot-allocate-memory的时候-如何增加swap虚拟内存来解决">description: 本文介绍了在编译PHP组件时候遇到内存不足提示virtual memory exhausted Cannot allocate memory的时候，如何增加SWAP虚拟内存来解决。</a></li>
<li><a href="#背景-7">背景</a></li>
<li><a href="#原因-3">原因</a></li>
<li><a href="#解决办法-1">解决办法</a>
<ul>
<li><a href="#通过free-m来查看下内存使用状况">通过free -m来查看下内存使用状况</a></li>
<li><a href="#创建一个目录-opt-images">创建一个目录/opt/images/</a></li>
<li><a href="#创建一个2gb大小的文件">创建一个2GB大小的文件</a></li>
<li><a href="#把创建的文件变成swap分区">把创建的文件变成SWAP分区</a></li>
<li><a href="#启用这个swap文件">启用这个SWAP文件</a></li>
<li><a href="#看看swap是否生效">看看SWAP是否生效</a></li>
<li><a href="#然后回到原来的作业">然后回到原来的作业</a></li>
<li><a href="#继续编译fileinfo">继续编译fileinfo</a></li>
<li><a href="#完成后关闭swap">完成后关闭SWAP</a></li>
</ul></li>
<li><a href="#参考资料">参考资料</a></li>
<li><a href="#description-我们在使用git的时候-通常都需要先添加ssh公钥到github或者其他代码托管平台来授权-这样的话我们必须先用ssh生成一个公钥-本文介绍了如何在ssh上生成公钥">description: 我们在使用Git的时候，通常都需要先添加SSH公钥到GitHub或者其他代码托管平台来授权，这样的话我们必须先用SSH生成一个公钥，本文介绍了如何在SSH上生成公钥。</a></li>
<li><a href="#背景-8">背景</a></li>
<li><a href="#生成">生成</a></li>
<li><a href="#得到公钥">得到公钥</a></li>
<li><a href="#description-nginx服务出现无法启动-启动失败提示nginx-emerg-bind-to-0-0-0-0-80-failed-98-address-already-in-use-错误的时候的解决办法">description: nginx服务出现无法启动，启动失败提示nginx:[emerg] bind() to 0.0.0.0:80 failed (98:Address already in use)错误的时候的解决办法。</a></li>
<li><a href="#背景-9">背景</a></li>
<li><a href="#原因-4">原因</a></li>
<li><a href="#解决办法-2">解决办法</a></li>
<li><a href="#description-我们在安装宝塔面板后忘记记下来给的默认账户和密码-之后我们要登录的时候却不知道账户和密码是什么-这时候我们可以通过ssh来命令找回或者重置密码">description: 我们在安装宝塔面板后忘记记下来给的默认账户和密码，之后我们要登录的时候却不知道账户和密码是什么，这时候我们可以通过ssh来命令找回或者重置密码。</a></li>
<li><a href="#找回密码">找回密码</a></li>
<li><a href="#找回用户名">找回用户名</a></li>
<li><a href="#原文地址-http-www-bt-cn-bbs-thread-1172-1-1-html">原文地址：<a href="http://www.bt.cn/bbs/thread-1172-1-1.html" rel="nofollow noreferrer" target="_blank">http://www.bt.cn/bbs/thread-1172-1-1.html</a></a></li>
<li><a href="#description-本文记录了宝塔面板上无法启动pure-ftpd的解决办法">description: 本文记录了宝塔面板上无法启动pure-ftpd的解决办法。</a></li>
<li><a href="#参考-https-www-bt-cn-bbs-thread-2746-1-1-html">参考：<a href="https://www.bt.cn/bbs/thread-2746-1-1.html" rel="nofollow noreferrer" target="_blank">https://www.bt.cn/bbs/thread-2746-1-1.html</a></a></li>
<li><a href="#description-在安装wordpress后如果没有配置好权限-在后台安装插件主题等会弹出提示需要输入ftp账户与密码-本文记录了该问题的解决方法">description: 在安装wordpress后如果没有配置好权限，在后台安装插件主题等会弹出提示需要输入ftp账户与密码，本文记录了该问题的解决方法。</a></li>
<li><a href="#本文来自-https-blog-csdn-net-u014182411-article-details-78127663-utm-source-copy">本文来自：<a href="https://blog.csdn.net/u014182411/article/details/78127663?utm_source=copy" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/u014182411/article/details/78127663?utm_source=copy</a></a></li>
<li><a href="#description-在使用服务器的时候-用ssh工具例如putty连接linux系统的服务器-在出现中文的时候会显示乱码-这个时候需要一些修改-就可以让linux系统在ssh终端中正常显示中文">description: 在使用服务器的时候，用SSH工具例如Putty连接Linux系统的服务器，在出现中文的时候会显示乱码，这个时候需要一些修改，就可以让Linux系统在SSH终端中正常显示中文。</a></li>
<li><a href="#查看当前系统编码设置">查看当前系统编码设置</a></li>
<li><a href="#查看当前系统的中文支持">查看当前系统的中文支持</a></li>
<li><a href="#修改linux系统的编码文件">修改Linux系统的编码文件</a>
<ul>
<li><a href="#临时生效-重启失效">临时生效，重启失效</a></li>
<li><a href="#永久生效">永久生效</a></li>
</ul></li>
<li><a href="#修改putty客户端的编码设置">修改Putty客户端的编码设置</a></li>
<li><a href="#正常显示中文效果">正常显示中文效果</a></li>
<li><a href="#学到的几个linux命令">学到的几个Linux命令</a></li>
<li><a href="#更改脚本字符集">更改脚本字符集</a></li>
<li><a href="#批量文件转码命令">批量文件转码命令</a></li>
<li><a href="#https-blog-csdn-net-wusuopubupt-article-details-50947243"><a href="https://blog.csdn.net/wusuopuBUPT/article/details/50947243" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/wusuopuBUPT/article/details/50947243</a></a></li>
<li><a href="#description-在2017年左右-看到论坛还有一些大佬的博客在讨论申请cloudflare-partner-当时并没多大兴趣去研究-最近因为看到越来越多人开源了面板-所以也想试试-就申请了cloudflare-partner合作伙伴计划-本文记录了如何申请cloudflare-partner合作伙伴计划">description: 在2017年左右，看到论坛还有一些大佬的博客在讨论申请CloudFlare Partner，当时并没多大兴趣去研究，最近因为看到越来越多人开源了面板，所以也想试试，就申请了CloudFlare Partner合作伙伴计划。本文记录了如何申请CloudFlare Partner合作伙伴计划。</a></li>
<li><a href="#什么是cloudflare">什么是CloudFlare</a></li>
<li><a href="#什么是cloudflare-partner">什么是CloudFlare Partner</a></li>
<li><a href="#申请cloudflare-partner">申请CloudFlare Partner</a>
<ul>
<li><a href="#填写信息">填写信息</a></li>
<li><a href="#注意点">注意点</a></li>
</ul></li>
<li><a href="#申请通过后的步骤">申请通过后的步骤</a></li>
<li><a href="#使用cloudflare-partner部署域名">使用Cloudflare Partner部署域名</a>
<ul>
<li><a href="#自用的情况">自用的情况</a></li>
<li><a href="#使用他人搭建的面板">使用他人搭建的面板</a></li>
<li><a href="#开源代码搭建面板">开源代码搭建面板</a></li>
</ul></li>
<li><a href="#参考">参考</a></li>
<li><a href="#https-wzfou-com-cloudflare-partner"><a href="https://wzfou.com/cloudflare-partner/" rel="nofollow noreferrer" target="_blank">https://wzfou.com/cloudflare-partner/</a></a></li>
<li><a href="#description-前两天搭了一个新的hexo博客-使用的是disqus评论系统-但是在设置上出现问题-导致一直无法加载-在查询了一番-才解决了这个问题-本文记录了disqus提示无法加载-如果您是管理员-请参阅故障排除指南-的解决办法">description: 前两天搭了一个新的Hexo博客，使用的是Disqus评论系统，但是在设置上出现问题，导致一直无法加载，在查询了一番，才解决了这个问题，本文记录了Disqus提示无法加载。如果您是管理员，请参阅故障排除指南。的解决办法。</a>
<ul>
<li><a href="#错误提示">错误提示：</a></li>
<li><a href="#解决方法-2">解决方法：</a></li>
<li><a href="#参考-1">参考：</a></li>
</ul></li>
<li><a href="#https-www-jianshu-com-p-edcc22f6cf33"><a href="https://www.jianshu.com/p/edcc22f6cf33" rel="nofollow noreferrer" target="_blank">https://www.jianshu.com/p/edcc22f6cf33</a></a></li>
<li><a href="#description-本文记录了如何修改git-remote配置的远程仓库地址-在不小心设置错误git-remote地址时可以用这个方法修改为正确的远程仓库地址配置">description: 本文记录了如何修改git remote配置的远程仓库地址。在不小心设置错误git remote地址时可以用这个方法修改为正确的远程仓库地址配置。</a></li>
<li><a href="#背景-10">背景</a></li>
<li><a href="#解决办法-3">解决办法</a></li>
</ul></li>
<li><a href="#you-can-also-close-false-or-open-true-something-for-this-content">You can also close(false) or open(true) something for this content.</a></li>
<li><a href="#p-s-comment-can-only-be-closed">P.S. comment can only be closed</a></li>
<li><a href="#you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</a>
<ul>
<li><a href="#mathjax-false">mathjax: false</a></li>
<li><a href="#方法1-只加入valine">方法1：只加入Valine</a>
<ul>
<li><a href="#修改站点配置文件">修改站点配置文件</a></li>
<li><a href="#2-主题的文章页模板添加valine">2.主题的文章页模板添加Valine</a></li>
</ul></li>
<li><a href="#方法2-同时加入多个评论系统的配置">方法2：同时加入多个评论系统的配置</a>
<ul>
<li><a href="#1-主题模板下新建comments-html">1.主题模板下新建comments.html</a></li>
<li><a href="#2-在文章页模板中调用上面新建的评论模板">2.在文章页模板中调用上面新建的评论模板</a></li>
</ul></li>
<li><a href="#参考来源-1">参考来源</a></li>
</ul></li>
<li><a href="#you-can-also-close-false-or-open-true-something-for-this-content-1">You can also close(false) or open(true) something for this content.</a></li>
<li><a href="#p-s-comment-can-only-be-closed-1">P.S. comment can only be closed</a></li>
<li><a href="#you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-1">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</a>
<ul>
<li><a href="#mathjax-false-1">mathjax: false</a></li>
<li><a href="#背景-11">背景</a></li>
<li><a href="#关于双平台同步">关于双平台同步</a>
<ul>
<li><a href="#1-初始化git">1. 初始化git</a></li>
<li><a href="#2-修改-git文件夹下的config配置文件">2. 修改.git文件夹下的config配置文件</a>
<ul>
<li><a href="#博客源文件目录下">博客源文件目录下</a></li>
<li><a href="#public目录下">public目录下</a></li>
</ul></li>
<li><a href="#3-测试一下">3. 测试一下</a></li>
</ul></li>
<li><a href="#标签处的back-home按钮位置错位">标签处的back・home按钮位置错位</a>
<ul>
<li><a href="#原因-5">原因</a></li>
<li><a href="#解决方法-3">解决方法</a></li>
</ul></li>
<li><a href="#文章页添加toc目录支持">文章页添加TOC目录支持</a></li>
<li><a href="#放大文章内图片显示">放大文章内图片显示</a></li>
<li><a href="#相关文章">相关文章</a></li>
<li><a href="#添加字数统计-阅读时间">添加字数统计,阅读时间</a>
<ul>
<li><a href="#导入font-awesome的cdn地址">导入font awesome的cdn地址</a></li>
<li><a href="#修改文章页面的排版">修改文章页面的排版</a></li>
</ul></li>
<li><a href="#放大文章内图片显示-1">放大文章内图片显示</a></li>
<li><a href="#相关文章-1">相关文章</a></li>
<li><a href="#参考文章">参考文章</a></li>
</ul></li>
<li><a href="#you-can-also-close-false-or-open-true-something-for-this-content-2">You can also close(false) or open(true) something for this content.</a></li>
<li><a href="#p-s-comment-can-only-be-closed-2">P.S. comment can only be closed</a></li>
<li><a href="#you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-2">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</a>
<ul>
<li><a href="#mathjax-false-2">mathjax: false</a></li>
<li><a href="#安装ruby">安装Ruby</a></li>
<li><a href="#rvm升级ruby">RVM升级Ruby</a></li>
<li><a href="#添加ruby仓库">添加ruby仓库</a></li>
<li><a href="#延伸阅读">延伸阅读</a></li>
<li><a href="#相关文章-2">相关文章</a></li>
<li><a href="#参考链接">参考链接</a></li>
</ul></li>
<li><a href="#you-can-also-close-false-or-open-true-something-for-this-content-3">You can also close(false) or open(true) something for this content.</a></li>
<li><a href="#p-s-comment-can-only-be-closed-3">P.S. comment can only be closed</a></li>
<li><a href="#you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-3">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</a></li>
<li><a href="#背景-12">背景</a></li>
<li><a href="#安装docker">安装Docker</a>
<ul>
<li><a href="#安装前的准备">安装前的准备</a></li>
<li><a href="#安装docker的命令">安装Docker的命令</a></li>
<li><a href="#查看docker版本">查看Docker版本</a></li>
</ul></li>
<li><a href="#docker内安装宝塔">Docker内安装宝塔</a>
<ul>
<li><a href="#拉取系统镜像">拉取系统镜像</a></li>
<li><a href="#创建运行容器">创建运行容器</a></li>
<li><a href="#进入该容器">进入该容器</a></li>
<li><a href="#容器内安装宝塔">容器内安装宝塔</a></li>
<li><a href="#错误信息-1">错误信息</a>
<ul>
<li><a href="#错误信息内容">错误信息内容</a></li>
<li><a href="#错误原因">错误原因</a></li>
<li><a href="#解决错误">解决错误</a></li>
</ul></li>
<li><a href="#获取宝塔面板入口">获取宝塔面板入口</a></li>
<li><a href="#设置容器自启">设置容器自启</a>
<ul>
<li><a href="#初次运行时">初次运行时</a></li>
<li><a href="#运行后的容器更新自启设置">运行后的容器更新自启设置</a></li>
</ul></li>
<li><a href="#退出容器等操作">退出容器等操作</a>
<ul>
<li><a href="#退出并停止容器">退出并停止容器</a></li>
<li><a href="#退出但是不停止容器">退出但是不停止容器</a></li>
<li><a href="#停止容器">停止容器</a></li>
<li><a href="#进入容器">进入容器</a></li>
</ul></li>
</ul></li>
<li><a href="#参考文章-1">参考文章</a></li>
<li><a href="#you-can-also-close-false-or-open-true-something-for-this-content-4">You can also close(false) or open(true) something for this content.</a></li>
<li><a href="#p-s-comment-can-only-be-closed-4">P.S. comment can only be closed</a></li>
<li><a href="#you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-4">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</a>
<ul>
<li><a href="#mathjax-false-3">mathjax: false</a></li>
</ul></li>
<li><a href="#背景-13">背景</a></li>
<li><a href="#环境要求">环境要求</a></li>
<li><a href="#准备工作">准备工作</a>
<ul>
<li><a href="#安装python3">安装python3</a></li>
<li><a href="#安装必备组件">安装必备组件</a></li>
<li><a href="#获取源码">获取源码</a></li>
<li><a href="#新建数据库">新建数据库</a></li>
<li><a href="#安装必备库-迁移模型-更新表结构">安装必备库，迁移模型(更新表结构)</a></li>
<li><a href="#运行网站">运行网站</a>
<ul>
<li><a href="#关于screen命令">关于screen命令</a></li>
</ul></li>
<li><a href="#反向代理">反向代理</a></li>
</ul></li>
<li><a href="#参考资料-1">参考资料</a>
<ul>
<li><a href="#以上两个视频教程是我从网上收集来的-一共有两个级别-有兴趣锻炼腹肌的同学可以试试哦">以上两个视频教程是我从网上收集来的，一共有两个级别。有兴趣锻炼腹肌的同学可以试试哦~</a></li>
<li><a href="#文章用手机发布排版不好">文章用手机发布排版不好。</a></li>
<li><a href="#url-server-backy-llc-laoxue-youzi-host">url: /server/backy-llc-laoxue-youzi-host</a></li>
<li><a href="#ps-三个服务器都是采用cpanel面板-因为几个服务器使用的时间都不是一样长-所以比较不是很准确-但是目前老薛的达拉斯softlayer服务器还是比较好的-平均响应时间最短-而游子主机的最长-但是backy-llc的服务器最不稳定-按服务态度来说都还不错-但是国内的还是用中文比较好交流">PS：三个服务器都是采用Cpanel面板。因为几个服务器使用的时间都不是一样长，所以比较不是很准确。但是目前老薛的达拉斯softlayer服务器还是比较好的，平均响应时间最短 ，而游子主机的最长，但是Backy LLC的服务器最不稳定。。按服务态度来说都还不错，但是国内的还是用中文比较好交流~</a></li>
<li><a href="#url-life-my-bad-memory">url: /life/my-bad-memory</a></li>
<li><a href="#纯属吐槽记录">纯属吐槽记录。。</a></li>
<li><a href="#description-相信很多人会搞不明白byte和bit的区别-本文记录了这两者的区别">description: 相信很多人会搞不明白Byte和Bit的区别，本文记录了这两者的区别。</a></li>
<li><a href="#转载自http-sujian-blog-51cto-com-8838-4632">转载自<a href="http://sujian.blog.51cto.com/8838/4632" rel="nofollow noreferrer" target="_blank">http://sujian.blog.51cto.com/8838/4632</a></a></li>
<li><a href="#url-life-change-blog-to-mt">url: /life/change-blog-to-mt</a></li>
<li><a href="#keywords-caddy-linux-服务器-后端技术">keywords: Caddy,Linux,服务器,后端技术</a></li>
<li><a href="#关于caddy">关于Caddy</a></li>
<li><a href="#安装前的检查">安装前的检查</a></li>
<li><a href="#安装步骤">安装步骤</a></li>
<li><a href="#使用caddy">使用Caddy</a>
<ul>
<li><a href="#升级caddy或者更新扩展">升级Caddy或者更新扩展</a></li>
<li><a href="#卸载caddy">卸载Caddy</a></li>
</ul></li>
<li><a href="#一些常见错误">一些常见错误</a>
<ul>
<li><a href="#提示-wget-command-not-found-的错误">提示 wget: command not found 的错误</a></li>
<li><a href="#启动提示失败-或提示成功但是实际失败">启动提示失败，或提示成功但是实际失败</a></li>
<li><a href="#caddy启动失败-打开-http-ip-显示的是-it-works">Caddy启动失败，打开 <a href="http://ip" rel="nofollow noreferrer" target="_blank">http://ip</a> 显示的是 It works !</a></li>
<li><a href="#下面是我遇到的问题">下面是我遇到的问题</a></li>
<li><a href="#参考资料-2">参考资料</a></li>
</ul></li>
<li><a href="#https-www-moerats-com-archives-404"><a href="https://www.moerats.com/archives/404/" rel="nofollow noreferrer" target="_blank">https://www.moerats.com/archives/404/</a></a></li>
<li><a href="#description-本文记录了如何查看linux的时区设置和变更时区">description: 本文记录了如何查看Linux的时区设置和变更时区。</a></li>
<li><a href="#解决方法-4">解决方法</a></li>
<li><a href="#description-本文记录了如何使用插件给wordpress开启代码高亮">description: 本文记录了如何使用插件给WordPress开启代码高亮。</a></li>
<li><a href="#description-本文记录了在typecho文章评论时带表情出现datebase-query-error的错误的解决办法">description: 本文记录了在typecho文章评论时带表情出现datebase query error的错误的解决办法。</a></li>
<li><a href="#description-之前有听说过这类软件-比如1password-之前有在ios的限免软件里面见到过-但是一直没有去了解-最近发现很多平台的密码给忘记了-而且找回密码需要用到绑定的手机来验证-但是有些网站绑定的手机号已经是国内高中-或者大学时期用得号码-想要找回非常麻烦-就比如之前所说的微博-还有特别要提的是百度的更改手机号的体验及其差-之后有时间会说到-这次想写写关于现在比较热门的几款密码管理器">description: 之前有听说过这类软件，比如1password，之前有在iOS的限免软件里面见到过，但是一直没有去了解。最近发现很多平台的密码给忘记了，而且找回密码需要用到绑定的手机来验证，但是有些网站绑定的手机号已经是国内高中，或者大学时期用得号码，想要找回非常麻烦，就比如之前所说的微博，还有特别要提的是百度的更改手机号的体验及其差，之后有时间会说到。这次想写写关于现在比较热门的几款密码管理器。</a></li>
<li><a href="#关于密码管理器">关于密码管理器</a></li>
<li><a href="#几款比较热门的密码管理器">几款比较热门的密码管理器</a>
<ul>
<li><a href="#keepass">Keepass</a>
<ul>
<li><a href="#客户端">客户端</a></li>
<li><a href="#windows客户端界面">Windows客户端界面</a></li>
<li><a href="#支持其他平台数据导入">支持其他平台数据导入</a></li>
</ul></li>
<li><a href="#lastpass">LastPass</a>
<ul>
<li><a href="#lastpass-chrome浏览器插件">LastPass Chrome浏览器插件</a></li>
<li><a href="#注册界面可以方便生成密码">注册界面可以方便生成密码</a></li>
<li><a href="#lastpass官网">LastPass官网</a></li>
<li><a href="#手机客户端很强大">手机客户端很强大</a></li>
<li><a href="#费用">费用</a></li>
</ul></li>
<li><a href="#bitwarden">Bitwarden</a>
<ul>
<li><a href="#全平台支持">全平台支持</a></li>
<li><a href="#chrome浏览器插件">Chrome浏览器插件</a></li>
<li><a href="#费用-1">费用</a></li>
</ul></li>
<li><a href="#enpass">Enpass</a>
<ul>
<li><a href="#跨平台支持">跨平台支持</a></li>
<li><a href="#设计风格">设计风格</a></li>
<li><a href="#数据管理方式">数据管理方式</a></li>
<li><a href="#费用-2">费用</a></li>
</ul></li>
</ul></li>
<li><a href="#总结">总结</a></li>
<li><a href="#最终方案是keepass-lastpass桌面端-keeweb浏览器端搭配使用">最终方案是Keepass+Lastpass桌面端+KeeWeb浏览器端搭配使用。</a></li>
<li><a href="#url-technology-css-study-note">url: /technology/css-study-note</a></li>
<li><a href="#more"><!--more--></a></li>
</ul></li>
<li><a href="#クラウドとは">クラウドとは</a></li>
<li><a href="#iaas-paas-saasの違い">IaaS、PaaS、SaaSの違い</a>
<ul>
<li><a href="#iaas">IaaS</a></li>
<li><a href="#paas">PaaS</a></li>
<li><a href="#saas">SaaS</a></li>
<li><a href="#２-クラウドプラットフォームの紹介">２、クラウドプラットフォームの紹介</a></li>
</ul></li>
<li><a href="#各クラウドサービス社の世界シェア">各クラウドサービス社の世界シェア</a>
<ul>
<li><a href="#仮想マシンの起動速度">仮想マシンの起動速度</a></li>
<li><a href="#vmの選択方法">VMの選択方法</a></li>
<li><a href="#計算方法-課金対">計算方法、課金対</a></li>
<li><a href="#ディスカウント">ディスカウント</a></li>
<li><a href="#ライセンス利用">ライセンス利用</a></li>
<li><a href="#データ分析サービスの違い">データ分析サービスの違い</a></li>
</ul></li>
<li><a href="#参考文献">参考文献：</a>
<ul>
<li><a href="#description-dnspod宣布收费功能彻底免费">description: DNSPOD宣布收费功能彻底免费。</a></li>
<li><a href="#span-style-font-size-xx-small-span-style-color-ff0000-此次产品升级最终解释权归dnspod所有-span-span">&gt;      <span style="font-size: xx-small;"><span style="color: #ff0000;">  此次产品升级最终解释权归DNSPod所有。</span></span></a></li>
<li><a href="#url-life-i-hate-about-electric-mobike-no-power">url: /life/i-hate-about-electric-mobike-no-power</a></li>
<li><a href="#谁知-换完电动车后-我心血来潮上网查了电动车电瓶的保养-也许是花了六百大洋的原因-发现自己以前用法对电瓶简直是折磨-难怪那么容易就罢工了-不过网上人们也是说电动车电瓶也只能用一年多-不过这价格啊-太贵了吧-知悉保养方法了-现在却对充电的时间和频率次数烦死了-原本电瓶已经坏了-所以比较无所谓-现在可是新的电瓶啊-唉-总之一句话-万恶的电动车-对于我使用过电动车-经历过没电的人-电动车是一个噩梦-我多么渴望能有一台燃油的车">谁知，换完电动车后，我心血来潮上网查了电动车电瓶的保养（也许是花了六百大洋的原因…），发现自己以前用法对电瓶简直是折磨…难怪那么容易就罢工了…不过网上人们也是说电动车电瓶也只能用一年多…不过这价格啊，太贵了吧。知悉保养方法了，现在却对充电的时间和频率次数烦死了！原本电瓶已经坏了，所以比较无所谓，现在可是新的电瓶啊。唉，总之一句话，万恶的电动车！对于我使用过电动车、经历过没电的人，电动车是一个噩梦，我多么渴望能有一台燃油的车…</a></li>
<li><a href="#url-life-nba-kevin-garnett-video">url: /life/nba-kevin-garnett-video</a></li>
<li><a href="#点击我弹出视频尽情欣赏哦-http-player-youku-com-player-php-sid-xmtgxnjmwmjiw-v-swf"><a href="http://player.youku.com/player.php/sid/XMTgxNjMwMjIw/v.swf" rel="nofollow noreferrer" target="_blank">点击我弹出视频尽情欣赏哦</a></a></li>
<li><a href="#url-video-iam-woman-fucking-video">url: /video/iam-woman-fucking-video</a></li>
<li><a href="#点击这里观看视频-http-player-youku-com-player-php-sid-xmte1nda0mzg4-v-swf"><a href="http://player.youku.com/player.php/sid/XMTE1NDA0Mzg4/v.swf" rel="nofollow noreferrer" target="_blank">点击这里观看视频</a></a></li>
<li><a href="#keywords-图床-imagevue-相册程序">keywords: 图床,Imagevue,相册程序</a></li>
<li><a href="#感谢zfreet-教程地址-http-www-zfreet-com-post-reset-password-of-imagevue-x2-html">感谢zfreet <a href="http://www.zfreet.com/post/reset-password-of-imagevue-x2.html" rel="nofollow noreferrer" target="_blank">教程地址</a></a></li>
<li><a href="#url-life-fuck-2011-fujian-gaokao">url: /life/fuck-2011-fujian-gaokao</a></li>
<li><a href="#本科二批报志愿截至7月20号-拖到最后一天报了省内去年的本三校-省外的本三-只能这样了">本科二批报志愿截至7月20号，拖到最后一天报了省内去年的本三校，省外的本三。。只能这样了。</a></li>
<li><a href="#description-本文记录了在git-push的时候出现rejected的远程版本和本地版本冲突错误时-通过强制覆盖已有的分支有的分支来及决的办法">description: 本文记录了在git push的时候出现rejected的远程版本和本地版本冲突错误时，通过强制覆盖已有的分支有的分支来及决的办法。</a></li>
<li><a href="#解决-1">解决</a></li>
<li><a href="#来源-1">来源</a></li>
<li><a href="#http-www-cnblogs-com-xwdreamer-archive-2012-05-29-2523958-html"><a href="http://www.cnblogs.com/xwdreamer/archive/2012/05/29/2523958.html" rel="nofollow noreferrer" target="_blank">http://www.cnblogs.com/xwdreamer/archive/2012/05/29/2523958.html</a></a></li>
<li><a href="#url-life-guosao-transport-problem">url: /life/guosao-transport-problem</a></li>
<li><a href="#update-域名解析成功-www-guosao-com与guosao-com均可访问">update：域名解析成功，www.guosao.com与guosao.com均可访问！</a></li>
<li><a href="#description-本文记录了如何通过两种方法备份hexo文件到github来实现方便的在多平台下写博客-维护博客">description: 本文记录了如何通过两种方法备份Hexo文件到GitHub来实现方便的在多平台下写博客，维护博客。</a></li>
<li><a href="#前言">前言</a></li>
<li><a href="#直接commit-push到分支">直接commit，push到分支</a>
<ul>
<li><a href="#前提">前提</a></li>
<li><a href="#方法-1">方法</a></li>
</ul></li>
<li><a href="#通过插件来实现同步">通过插件来实现同步</a>
<ul>
<li><a href="#通过npm安装">通过npm安装</a></li>
<li><a href="#通过github安装">通过github安装</a></li>
</ul></li>
<li><a href="#就能重新获得所有的源文件-就能重新-hexo-d发布对于每一个从git下载下来的项目或者主题-最好把每个的-git-文件夹删掉-否则得通过-submodule-的方式来安装">就能重新获得所有的源文件，就能重新 hexo d发布对于每一个从git下载下来的项目或者主题，最好把每个的 .git 文件夹删掉，否则得通过 submodule 的方式来安装。</a></li>
<li><a href="#description-本文记录了用32位系统安装宝塔面板提示错误的解决办法">description: 本文记录了用32位系统安装宝塔面板提示错误的解决办法。</a></li>
<li><a href="#bt">bt</a></li>
<li><a href="#关于h5ai">关于h5ai</a></li>
<li><a href="#代码很复杂">代码很复杂</a></li>
<li><a href="#解决过程-1">解决过程</a>
<ul>
<li><a href="#grep命令">grep命令</a></li>
<li><a href="#确认字符">确认字符</a></li>
<li><a href="#linux下定位">Linux下定位</a></li>
<li><a href="#修改代码">修改代码</a></li>
<li><a href="#ps">PS</a></li>
</ul></li>
<li><a href="#参考资料-3">参考资料</a></li>
<li><a href="#更多壁纸已压缩提供下载-gt-gt-http-u-guosao-com-file-28-html-http-u-guosao-com-file-28-html">更多壁纸已压缩提供下载&gt;&gt;<a href="http://u.guosao.com/file-28.html" rel="nofollow noreferrer" target="_blank">http://u.guosao.com/file-28.html</a></a></li>
<li><a href="#url-news-iphone-5-is-coming">url: /news/iphone-5-is-coming</a>
<ul>
<li><a href="#下面摘自网上的新闻评论">下面摘自网上的新闻评论。</a></li>
</ul></li>
<li><a href="#该新闻来自163-com">该新闻来自163.com</a></li>
<li><a href="#url-video-iphone-fan-with-shop-staff-talk">url: /video/iphone-fan-with-shop-staff-talk</a></li>
<li><a href="#虽然有为htc做广告的嫌疑-但是还是很生动形象的-哈哈">虽然有为HTC做广告的嫌疑，但是还是很生动形象的 哈哈</a></li>
<li><a href="#description-本文记录了如何开启nginx的目录文件列表功能">description: 本文记录了如何开启Nginx的目录文件列表功能。</a></li>
<li><a href="#winrar-exe-09-dec-2009-14-23-1m-pre">&gt; winrar.exe                                         09-Dec-2009 14:23      1M</pre></a></li>
<li><a href="#description-本文记录了linux系统搭建web环境做网站的ftp权限问题解决办法">description: 本文记录了Linux系统搭建Web环境做网站的FTP权限问题解决办法。</a></li>
<li><a href="#以上参考了-vps部落相关资源-https-www-vpsbuluo-com-jiaocheng-47-html">以上参考了<a href="https://www.vpsbuluo.com/jiaocheng/47.html" rel="nofollow noreferrer" target="_blank">vps部落相关资源</a></a></li>
<li><a href="#description-本文记录了lnmp环境下给已存在的虚拟主机添加伪静态规则">description: 本文记录了LNMP环境下给已存在的虚拟主机添加伪静态规则。</a></li>
<li><a href="#最后执行-usr-local-nginx-sbin-nginx-s-reload-命令重启-nginx-就ok了">·最后执行 /usr/local/nginx/sbin/nginx -s  reload 命令重启 nginx 就OK了</a></li>
<li><a href="#description-本文记录了lnmp环境下typecho无法登陆后台的解决方法">description: 本文记录了LNMP环境下typecho无法登陆后台的解决方法。</a></li>
<li><a href="#绑域名的时候-把网站的默认目录设置为-home-wwwroot-即可">&gt; 绑域名的时候，把网站的默认目录设置为/home/wwwroot/即可。</a></li>
<li><a href="#description-本文记录了如何把php文件目录列表程序directory-lister的字体美化为小夜版本-并将字体本地化调用">description: 本文记录了如何把PHP文件目录列表程序Directory Lister的字体美化为小夜版本，并将字体本地化调用。</a></li>
</ul></li>
<li><a href="#修改过程">修改过程</a>
<ul>
<li><a href="#对比样式表">对比样式表</a></li>
<li><a href="#修改样式表">修改样式表</a></li>
<li><a href="#加入-source-code-pro-字体">加入<code>Source Code Pro</code>字体</a></li>
<li><a href="#字体本地化">字体本地化</a></li>
</ul></li>
<li><a href="#对比">对比</a></li>
<li><a href="#感谢">感谢</a>
<ul>
<li><a href="#快去修改你的头像吧">快去修改你的头像吧~</a></li>
<li><a href="#url-news-naffnang-1000-ads">url: /news/naffnang-1000-ads</a></li>
<li><a href="#什么是拿福能">什么是拿福能？</a></li>
<li><a href="#什么是千人挑战">什么是千人挑战？</a></li>
<li><a href="#直达地址-http-www-nuffnang-com-cn-blog-2011-05-23-challenge-1000-http-www-nuffnang-com-cn-blog-2011-05-23-challenge-1000">直达地址》》<a href="http://www.nuffnang.com.cn/blog/2011/05/23/challenge-1000" rel="nofollow noreferrer" target="_blank">http://www.nuffnang.com.cn/blog/2011/05/23/challenge-1000</a></a></li>
<li><a href="#url-life-is-there-any-options">url: /life/is-there-any-options</a></li>
<li><a href="#现在就要用301-重定向了-反正也没pr值">现在就要用301 重定向了&hellip;反正也没PR值。。</a></li>
<li><a href="#description-本文记录了typecho发表评论需要发送两次才成功的解决方案">description: 本文记录了typecho发表评论需要发送两次才成功的解决方案。</a></li>
<li><a href="#但是这样造成第一次输入了评论-点击发送后-变成空白-也没显示出来-只能重新编辑评论内容-重新点击发送">但是这样造成第一次输入了评论，点击发送后，变成空白，也没显示出来。只能重新编辑评论内容，重新点击发送。。。</a></li>
<li><a href="#问题">问题</a></li>
<li><a href="#解决过程-2">解决过程</a></li>
<li><a href="#修复结果">修复结果</a></li>
<li><a href="#参考资料-4">参考资料</a></li>
<li><a href="#彻底解决deepin-linux的无线网络问题-https-bbs-deepin-org-forum-php-mod-viewthread-tid-153154"><a href="https://bbs.deepin.org/forum.php?mod=viewthread&amp;tid=153154" rel="nofollow noreferrer" target="_blank">彻底解决deepin linux的无线网络问题</a></a></li>
<li><a href="#description-一个学生做的随机在线聊天网站omegle">description: 一个学生做的随机在线聊天网站Omegle</a></li>
<li><a href="#先暂停-有事没时间继续写">先暂停，有事没时间继续写。</a></li>
<li><a href="#url-news-paypal-2011-gifts">url: /news/paypal-2011-gifts</a></li>
<li><a href="#在hostloc-上看到的消息-就申请了下-最后提示重庆的客服会联系我-不知道会不会是男的-囧-昨天为了银联和paypal支付超时的问题就联系客服-居然是男的接电话">在hostloc 上看到的消息，就申请了下，最后提示重庆的客服会联系我。。不知道会不会是男的，，囧。 昨天为了银联和PayPal支付超时的问题就联系客服，居然是男的接电话。。。</a></li>
<li><a href="#url-life-give-power-2011">url: /life/give-power-2011</a></li>
<li><a href="#所以在这里希望在新的一年里-爷爷父母兄弟姐妹等亲人身体健康-万事如意-兔年快乐-并祝自己在2011的高考里能顺顺利利-给力吧">所以在这里希望在新的一年里 爷爷父母兄弟姐妹等亲人身体健康、万事如意、兔年快乐！并祝自己在2011的高考里能顺顺利利，给力吧！</a></li>
<li><a href="#url-video-nakashima-mika-the-most-beautiful-of-me">url: /video/nakashima-mika-the-most-beautiful-of-me</a></li>
<li><a href="#一番绮丽な私を-将最美的我">一番绮丽な私を…『将最美的我。。。』</a></li>
<li><a href="#description-本文记录了如何用shadowbox插件来给wordpress增加幻灯片功能">description: 本文记录了如何用Shadowbox插件来给WordPress增加幻灯片功能。</a></li>
<li><a href="#blockquote"><blockquote></a></li>
<li><a href="#url-news-tencent-buy-comsenz">url: /news/tencent-buy-comsenz</a></li>
<li><a href="#gt-gt-gt-gt-gt-gt-了解更多-http-it-sohu-com-20100825-n274452616-shtml"><a href="http://it.sohu.com/20100825/n274452616.shtml" rel="nofollow noreferrer" target="_blank">&gt;&gt;&gt;&gt;&gt;&gt;了解更多</a></a></li>
<li><a href="#description-本文记录了添加ssl证书后如何配置nginx的伪静态配置来实现https的方法">description: 本文记录了添加SSL证书后如何配置Nginx的伪静态配置来实现https的方法。</a></li>
<li><a href="#more-1"><!--more--></a>
<ul>
<li><a href="#重定向配置">重定向配置</a></li>
<li><a href="#调试效果">调试效果</a></li>
</ul></li>
<li><a href="#参考-nginx-https-nginx-org-en-nginx">参考<a href="https://nginx.org/en/" title="Nginx" rel="nofollow noreferrer" target="_blank">Nginx</a></a></li>
<li><a href="#url-life-about-learning-english">url: /life/about-learning-english</a></li>
<li><a href="#有想到什么就再补充吧-想写的时候却什么都出不来">有想到什么就再补充吧，想写的时候却什么都出不来 :-(</a></li>
<li><a href="#url-server-thanksgiving-backy-llc">url: /server/thanksgiving-backy-llc</a></li>
<li><a href="#还有等等的其他-总之这次打折真的听疯狂的">还有等等的其他，总之这次打折真的听疯狂的。</a></li>
<li><a href="#url-video-the-vampire-daries">url: /video/the-vampire-daries</a></li>
<li><a href="#然后kiwe推荐给我-the-vampire-daries-吸血鬼日记-因为自己自从越狱后很少关注美剧了-因为当时试着去看其他美剧-看了一段-觉得不是很好看-就没继续看下去了-也没有继续找的念头了-但是吸血鬼日记一开始看就觉得很不错-有悬念-情节也不错-所以推荐下">然后Kiwe推荐给我《The Vampire Daries》（吸血鬼日记），因为自己自从越狱后很少关注美剧了，因为当时试着去看其他美剧，看了一段，觉得不是很好看，就没继续看下去了，也没有继续找的念头了，但是吸血鬼日记一开始看就觉得很不错，有悬念，情节也不错，所以推荐下。</a></li>
<li><a href="#url-video-the-vampire-daries-season-2">url: /video/the-vampire-daries-season-2</a></li>
<li><a href="#听说吸血鬼日记第三季将于2011-9-16强势回归-第三季开始的剧情不会如第二季第一集延续第一季最后一集的内容-会从吸血鬼始祖klaus及相关人物介绍回顾故事发展-再转回延续第二季的内容">听说吸血鬼日记第三季将于2011.9.16强势回归，第三季开始的剧情不会如第二季第一集延续第一季最后一集的内容，会从吸血鬼始祖Klaus及相关人物介绍回顾故事发展，再转回延续第二季的内容。</a></li>
<li><a href="#description-本文记录了typecho博客程序上传后缀为大写jpg附件失败的解决办法">description: 本文记录了typecho博客程序上传后缀为大写JPG附件失败的解决办法。</a></li>
<li><a href="#url-video-universal-red-army-version-of-you-are-the-one-played-song-can-you-feel-it">url: /video/universal-red-army-version-of-you-are-the-one-played-song-can-you-feel-it</a></li>
<li><a href="#其他的红军版歌曲陆续添加中-敬请围观">其他的红军版歌曲陆续添加中 - - 敬请围观 。。</a></li>
<li><a href="#description-caddy自带的filemanager插件可用很完美的搭建一个个人网盘-本文记录了如何利用caddy的filemanager插件搭建个人网盘">description: Caddy自带的Filemanager插件可用很完美的搭建一个个人网盘，本文记录了如何利用Caddy的Filemanager插件搭建个人网盘。</a>
<ul>
<li><a href="#认识一下file-manager">认识一下File Manager</a>
<ul>
<li><a href="#caddy-filebrowser扩展介绍">Caddy FileBrowser扩展介绍</a></li>
</ul></li>
<li><a href="#安装caddy与filemanager插件">安装Caddy与Filemanager插件</a></li>
<li><a href="#caddy-使用说明">Caddy 使用说明</a></li>
<li><a href="#修改caddyfile来配置filemanager">修改Caddyfile来配置Filemanager</a>
<ul>
<li><a href="#vi修改方式">vi修改方式</a></li>
<li><a href="#echo修改方式">echo修改方式</a></li>
<li><a href="#了解filebrowser扩展各个参数">了解FileBrowser扩展各个参数</a></li>
<li><a href="#重启caddy">重启Caddy</a></li>
</ul></li>
<li><a href="#开始使用filebrowser">开始使用FileBrowser</a>
<ul>
<li><a href="#登陆-修改密码">登陆，修改密码</a></li>
<li><a href="#切换中文">切换中文</a></li>
<li><a href="#快捷键">快捷键</a></li>
</ul></li>
<li><a href="#维护filemanager">维护FIlemanager</a>
<ul>
<li><a href="#升级filebrowser">升级FileBrowser</a></li>
<li><a href="#卸载filebrowser">卸载FileBrowser</a></li>
</ul></li>
<li><a href="#可能遇到的问题">可能遇到的问题</a>
<ul>
<li><a href="#启动显示成功-但是实际未运行">启动显示成功，但是实际未运行</a></li>
<li><a href="#caddy下载文件频繁中断">Caddy下载文件频繁中断</a></li>
<li><a href="#caddy启动失败-打开-http-ip-显示的是-it-works-1">Caddy启动失败，打开 <a href="http://ip" rel="nofollow noreferrer" target="_blank">http://ip</a> 显示的是 It works !</a></li>
<li><a href="#启动-caddy后-无法访问">启动 Caddy后，无法访问</a></li>
<li><a href="#filebrowser账号密码忘了或想要重置账号信息">FileBrowser账号密码忘了或想要重置账号信息</a></li>
</ul></li>
<li><a href="#参考资料-5">参考资料</a></li>
</ul></li>
<li><a href="#github-项目-https-github-com-filebrowser-filebrowser"><a href="https://github.com/filebrowser/filebrowser" rel="nofollow noreferrer" target="_blank">Github 项目</a></a></li>
<li><a href="#什么是webdav服务器">什么是WebDav服务器</a></li>
<li><a href="#我为什么要搭建webdav服务器">我为什么要搭建WebDav服务器？</a></li>
<li><a href="#利用caddy的webdav扩展组件来搭建webdav服务器">利用Caddy的WebDav扩展组件来搭建WebDav服务器</a>
<ul>
<li><a href="#安装caddy">安装Caddy</a></li>
<li><a href="#caddy的使用说明及相关路径">Caddy的使用说明及相关路径</a></li>
<li><a href="#搭建webdav服务器">搭建WebDav服务器</a>
<ul>
<li><a href="#修改caddy配置文件">修改Caddy配置文件</a>
<ul>
<li><a href="#vi方式">vi方式</a></li>
<li><a href="#echo方式">echo方式</a></li>
</ul></li>
<li><a href="#重启caddy-1">重启Caddy</a></li>
<li><a href="#验证搭建成功">验证搭建成功</a></li>
</ul></li>
</ul></li>
<li><a href="#配合filemanager扩展组件使用">配合FileManager扩展组件使用</a>
<ul>
<li><a href="#vi方式修改caddy配置文件">vi方式修改Caddy配置文件</a></li>
<li><a href="#echo方式修改caddy配置文件">echo方式修改Caddy配置文件</a></li>
<li><a href="#重启caddy-2">重启Caddy</a></li>
</ul></li>
<li><a href="#相关问题">相关问题</a>
<ul>
<li><a href="#配合keeweb使用出现-network-error">配合KeeWeb使用出现&rdquo;Network Error&rdquo;</a>
<ul>
<li><a href="#需启用http-cors扩展插件">需启用http.cors扩展插件</a></li>
<li><a href="#keeweb无法连接数据库文件-kdbx">KeeWeb无法连接数据库文件.kdbx</a></li>
</ul></li>
<li><a href="#没有定义root路径">没有定义root路径</a></li>
<li><a href="#出现其他问题">出现其他问题</a></li>
</ul></li>
<li><a href="#相关连接">相关连接</a></li>
<li><a href="#https-doub-io-jzzy-4"><a href="https://doub.io/jzzy-4/" rel="nofollow noreferrer" target="_blank">https://doub.io/jzzy-4/</a></a></li>
<li><a href="#description-除了nginx-apache-大家可能没有了解过caddy-这是一个go语言开发的http服务器-可以用它来简单快速的配置支持ssl证书的网站">description: 除了Nginx,Apache,大家可能没有了解过Caddy，这是一个Go语言开发的HTTP服务器，可以用它来简单快速的配置支持SSL证书的网站。</a>
<ul>
<li><a href="#安装caddy-1">安装Caddy</a></li>
<li><a href="#使用方法">使用方法</a></li>
<li><a href="#配置虚拟主机-添加网站">配置虚拟主机、添加网站</a>
<ul>
<li><a href="#修改方法">修改方法</a></li>
<li><a href="#caddyfile-的格式">Caddyfile 的格式</a></li>
<li><a href="#单网站写法">单网站写法</a></li>
<li><a href="#多网站写法">多网站写法</a></li>
<li><a href="#一些常见的指令">一些常见的指令</a></li>
<li><a href="#多网站配置例子">多网站配置例子</a>
<ul>
<li><a href="#vi模式修改caddy配置文件">vi模式修改Caddy配置文件</a></li>
<li><a href="#直接追加内容至caddy配置文件">直接追加内容至Caddy配置文件</a></li>
</ul></li>
</ul></li>
<li><a href="#本人在折腾中遇到的问题">本人在折腾中遇到的问题</a>
<ul>
<li><a href="#无法重启-启动caddy">无法重启/启动Caddy</a></li>
<li><a href="#网站的网址写法">网站的网址写法</a></li>
<li><a href="#开启ssl的方法">开启SSL的方法</a></li>
</ul></li>
<li><a href="#参考来源-2">参考来源</a></li>
</ul></li>
<li><a href="#https-www-zybuluo-com-zwh8800-note-844776"><a href="https://www.zybuluo.com/zwh8800/note/844776" rel="nofollow noreferrer" target="_blank">https://www.zybuluo.com/zwh8800/note/844776</a></a></li>
<li><a href="#description-本文记录了配置-htaccess来实现301重定向-旧域名指向新域名">description: 本文记录了配置.htaccess来实现301重定向（旧域名指向新域名）。</a></li>
<li><a href="#description-本文记录了如何用hugo静态博客程序和github-pages来搭建个人博客">description: 本文记录了如何用Hugo静态博客程序和Github Pages来搭建个人博客。</a></li>
<li><a href="#待续">待续</a></li>
<li><a href="#description-本文是介绍了用windows系统的vps来qq挂机">description: 本文是介绍了用Windows系统的VPS来QQ挂机。</a></li>
<li><a href="#vps挂q不乱码-centos-教程来自http-www-hostloc-com-thread-41194-1-1-html的guxin0123">vps挂Q不乱码~~【centos】教程来自<a href="http://www.hostloc.com/thread-41194-1-1.html的guxin0123" rel="nofollow noreferrer" target="_blank">http://www.hostloc.com/thread-41194-1-1.html的guxin0123</a></a></li>
<li><a href="#对于这个理由我也是无语了-明明上传的证件是没有错误的-老婆是怕被坏人盗去-然后做坏事-因为之前我们有用微博发过照片什么的-我是觉得记录了这么久-我们之间的点滴都没了-很心痛">对于这个理由我也是无语了，明明上传的证件是没有错误的。老婆是怕被坏人盗去，然后做坏事。因为之前我们有用微博发过照片什么的。我是觉得记录了这么久，我们之间的点滴都没了。很心痛。</a></li>
<li><a href="#description-本文记录了wordpress无法编辑更新文章的解决方法">description: 本文记录了WordPress无法编辑更新文章的解决方法。</a></li>
<li><a href="#他里面提到这个来自-http-wordpress-org-support-topic-164999-replies-1-http-wordpress-org-support-topic-164999-replies-1">他里面提到这个来自<a href="http://wordpress.org/support/topic/164999?replies=1" rel="nofollow noreferrer" target="_blank">http://wordpress.org/support/topic/164999?replies=1</a></a></li>
<li><a href="#description-本文记录了开启https后wordpress后台无法登陆的错误的解决办法">description: 本文记录了开启HTTPS后WordPress后台无法登陆的错误的解决办法。</a></li>
<li><a href="#description-本文记录了https开启后wordpress后台登录提示err-too-many-redirects的解决办法">description: 本文记录了HTTPS开启后WordPress后台登录提示ERR_TOO_MANY_REDIRECTS的解决办法。</a></li>
<li><a href="#description-现在大部分人都用手机来上网-如果你的wordpress博客在手机上显示效果不好看-可以用这款插件来帮你适应手机显示效果">description: 现在大部分人都用手机来上网，如果你的WordPress博客在手机上显示效果不好看，可以用这款插件来帮你适应手机显示效果。</a></li>
<li><a href="#wptouch具有更漂亮的模板-就像名字所说touch-该插件在iphone-ios系统和google的android系统上显示效果更佳-操作当然也更加舒适-由于wptouch根据来访用户的useragent来判断访客所使用的设备-所以直接访问网站的主域名即可显示效果">WPtouch具有更漂亮的模板，就像名字所说touch，该插件在iPhone iOS系统和Google的Android系统上显示效果更佳，操作当然也更加舒适。由于WPtouch根据来访用户的UserAgent来判断访客所使用的设备，所以直接访问网站的主域名即可显示效果。</a></li>
<li><a href="#url-life-write-down-important-things">url: /life/write-down-important-things</a></li>
<li><a href="#这个我一直在用-它具有在重要的日子发送发送邮件或者短信提醒你-服务还是蛮贴心的-好像能提前三天-提前一天和当天提醒-大家可以前去试试">这个我一直在用，它具有在重要的日子发送发送邮件或者短信提醒你，服务还是蛮贴心的，好像能提前三天，提前一天和当天提醒。大家可以前去试试。</a></li>
<li><a href="#url-technology-youku-noads-wordpress">url: /technology/youku-noads-wordpress</a></li>
<li><a href="#转自-deloz-http-deloz-net-1000000351-html">转自：<a href="http://deloz.net/1000000351.html" rel="nofollow noreferrer" target="_blank">Deloz</a></a></li>
<li><a href="#url-life-your-blog-finally-on-the-line">url: /life/your-blog-finally-on-the-line</a></li>
<li><a href="#wake-me-up-when-september-ends-http-cd05-static-jango-com-music-17-89-61-1789610821-mp3"><a href="http://cd05.static.jango.com/music/17/89/61/1789610821.mp3" rel="nofollow noreferrer" target="_blank">wake me up when september ends</a></a></li>
<li><a href="#url-life-yunnan-japan-earthquake">url: /life/yunnan-japan-earthquake</a></li>
</ul></li>
<li><a href="#沉痛悼念云南地震和日本地震遇难者"><strong>沉痛悼念云南地震和日本地震遇难者</strong></a></li>
</ul>
</nav>
  </div>
</div>
<script type="text/javascript">
  window.onload = function () {
    var fix = $('.post-toc');
    var end = $('.post-comment');
    var fixTop = fix.offset().top, fixHeight = fix.height();
    var endTop, miss;
    var offsetTop = fix[0].offsetTop;
    $(window).scroll(function () {
      var docTop = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
      if (end.length > 0) {
        endTop = end.offset().top;
        miss = endTop - docTop - fixHeight;
      }
      if (fixTop < docTop) {
        fix.css({ 'position': 'fixed' });
        if ((end.length > 0) && (endTop < (docTop + fixHeight))) {
          fix.css({ top: miss });
        } else {
          fix.css({ top: 0 });
        }
      } else {
        fix.css({ 'position': 'absolute' });
        fix.css({ top: offsetTop });
      }
    })
  }
</script> 
	
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <p>今天需要打包Hexo源码文件夹下面的所有文件，但是如果直接使用普通的打包命令不会将包括隐藏的文件或文件夹一起打包，所以得搜索了下，可以用下面的命令来打包。</p>

<p>通常使用的“tar  -zcvf”命令不会打包本层文件夹下的隐藏文件（如果打包整个文件夹的话是可以打包该文件夹下的隐藏文件的），下面的命令解决这个问题：</p>

<pre><code>tar -zcvf   xxx.tar.gz   `ls -a`
</code></pre>

<p>上面的命令可能会打包到上一级目录中的文件</p>

<p>怎么使用tar打包一个目录中所有的文件而不包含该目录名呢？</p>

<p>在该目录路径下，执行</p>

<pre><code>tar  --exclude=xxx.tar.gz -zcvf xxx.tar.gz ./
</code></pre>

<p>经过验证，用此方法打包的压缩文件中包含所有的隐藏文件。必要时还可以使用-p选项，保持文件到属性。</p>

<p>cp -a 拷贝时也可阳保持文件的属性</p>

<p>cp 目录时可以将目录中隐藏文件一起拷贝，而cp * 只能拷贝本层的非隐藏文件；cp . 会拷贝所有的文件（包括隐藏）</p>

<p><a href="https://blog.csdn.net/lk07828/article/details/44746749---" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/lk07828/article/details/44746749---</a>
title: 给托管在Coding Pages上的博客开启HTTPS支持 申请失败的原因
tags: [Coding Pages,后端技术]
date: 2018-08-06
categories:
 - 技术记录
url: /technology/enable-https-on-coding-pages
keywords: Coding Pages,HTTPS,后端技术,SSL</p>

<h2 id="description-如果你使用的是dnspod来智能解析博客到github-pages和coding-pages的话-在开启https的时候就要注意了-域名解析的时候需要解析对地址-才能成功申请到ssl证书">description: 如果你使用的是DNSPOD来智能解析博客到GitHub Pages和Coding Pages的话，在开启HTTPS的时候就要注意了。域名解析的时候需要解析对地址，才能成功申请到SSL证书</h2>

<h2 id="背景">背景</h2>

<p>前两天将<a href="http://blog.huaien.me/article/blogengine/how-to-backup-hexo-to-github/" rel="nofollow noreferrer" target="_blank">博客同时托管到GitHub Pages和Coding Pages，并备份到这两个平台</a>。
然后发现Coding Pages也是可以支持绑定域名和支持自定义域名的HTTPS。所以就顺便点击了申请证书，但是好几次都出现失败。之后研究了一下，才知道原因。</p>

<!--more-->

<h2 id="原因">原因</h2>

<p>不过需要注意的是，如果你同时使用GitHub Pages和Coding Pages来托管博客，用智能DNS解析的时候是将国内线路解析到Coding Pages，国外线路解析到GitHub Pages的话，在绑定域名的时候没什么问题，因为Coding是国内服务商，但是在开通HTTPS时候会出现申请失败的提示。</p>

<p>这是由于
&gt; 申请 SSL/TLS 证书需要通过 Let&rsquo;s Encrypt 的 HTTP 方式验证域名所有权。如果您的域名在境外无法访问 Coding Pages 的服务器，将导致 SSL/TLS 证书申请失败。</p>

<h2 id="解决">解决</h2>

<p>因此在申请Coding Pages的HTTPS之前需要将DNS解析的GitHub部分暂停或者删除，等生效后再申请。这样就会通过了。</p>

<p>成功后会显示状态为正常，并且可以开启强制HTTPS访问。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b626c4079b0c.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>最后在上方会显示Coding Pages 已经运行在<a href="https://huaien.me" rel="nofollow noreferrer" target="_blank">https://huaien.me</a></p>

<p>是加了https的链接
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b626c4067d8b.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>并且可以选择将不带www的域名设置为首选，或者反之。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b626c405933a.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<h2 id="结语">结语</h2>

<p>其实Coding Pages比较早就官方支持了Let&rsquo;s Encrypt 免费SSL证书和HTTPS。我是因为GitHub Pages屏蔽了百度蜘蛛，所以为了让百度可以正常收录，所以将博客也托管到了Coding Pages。但是在开通HTTPS的时候一直申请失败，才知道是解析问题。所以就做个记录。&mdash;
title: Github Pages已经官方支持HTTPS与如何开启GitHub Pages HTTPS支持
tags: [GitHub]
date: 2018-08-06
categories:
 - 小道消息
url: /news/github-pages-support-https
keywords: GitHub Pages,HTTPS</p>

<h2 id="description-本站是同时托管在github-pages和coding-pages-coding-pages很早的时候就支持后台开通https-用的是自动签发let-s-encrypt的免费证书-而在今年5月1日-github官方也宣布了github-pages支持https">description: 本站是同时托管在GitHub Pages和Coding Pages,Coding Pages很早的时候就支持后台开通HTTPS，用的是自动签发Let&rsquo;s Encrypt的免费证书。而在今年5月1日，GitHub官方也宣布了GitHub Pages支持HTTPS。</h2>

<h2 id="背景-1">背景</h2>

<p>根据GitHub博客，Github Pages是从今年5月1日开始支持的HTTPS的：
<a href="https://blog.github.com/2018-05-01-github-pages-custom-domains-https/" rel="nofollow noreferrer" target="_blank">https://blog.github.com/2018-05-01-github-pages-custom-domains-https/</a>
<!--more--></p>

<h2 id="为github开启http">为GitHub开启HTTP</h2>

<h3 id="已经成功绑定域名的情况">已经成功绑定域名的情况</h3>

<p>如果你的Github Pages已经绑定了自己的域名，那就可以直接在Github的设置里面打开自定义域名的HTTPS支持。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b6258e92e11e.png" alt="GitHub Pages里面的自定义域名设置" class="lazyload"><figcaption class="image-caption">GitHub Pages里面的自定义域名设置</figcaption></figure>
如图 在GitHub Pages的选项里面最后一栏有Enforce HTTPS选项。要开启这个功能需要下面条件。</p>

<blockquote>
<p>域名已经解析到GitHub 服务器来绑定域名</p>
</blockquote>

<p>具体请参考这里</p>

<p><a href="https://help.github.com/articles/about-supported-custom-domains/" rel="nofollow noreferrer" target="_blank">https://help.github.com/articles/about-supported-custom-domains/</a></p>

<p>这是如果没有解析到GitHub服务器，会提示你没有正确把域名指向GitHub服务器。这需要你添加CNAME记录解析到 你的github pages地址，如username.github.io</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b62629e6acac.png" alt="没有正确解析指向GitHub服务器会提示错误" class="lazyload"><figcaption class="image-caption">没有正确解析指向GitHub服务器会提示错误</figcaption></figure></p>

<h3 id="https支持问题">HTTPS支持问题</h3>

<p>如果HTTPS出现支持问题可以通过直接添加A记录解析到GitHub服务器来启用HTTPS。</p>

<p>具体请参考这里：
<a href="https://help.github.com/articles/troubleshooting-custom-domains/#https-errors" rel="nofollow noreferrer" target="_blank">https://help.github.com/articles/troubleshooting-custom-domains/#https-errors</a></p>

<p>需要做的是 添加以下任意一个A记录解析到下面的服务器IP
- 185.199.108.153
- 185.199.109.153
- 185.199.110.153
- 185.199.111.153</p>

<p>这样就会出现前面图片的结果，会提示 ：</p>

<blockquote>
<p>— Not yet available for your site because the certificate has not finished being issued.
Please allow 24 hours for this process to complete.</p>
</blockquote>

<h3 id="成功开启">成功开启</h3>

<p>解析后会开始申请证书。通常需要24小时来完成。<br />
耐心等待就好。但是事实上只要几分钟，刷新页面就可以了。如图，我提交后不到几分钟就可以打钩HTTPS选项了
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/02/5b626e2386220.png" alt="几分钟后HTTPS选项就可以启用了" class="lazyload"><figcaption class="image-caption">几分钟后HTTPS选项就可以启用了</figcaption></figure></p>

<p>开启之后上面会提示</p>

<blockquote>
<p>Your site is published at <a href="https://huaien.me/" rel="nofollow noreferrer" target="_blank">https://huaien.me/</a></p>
</blockquote>

<p>已经是加了https的链接。</p>

<p>以上就是开启GitHub Pages的HTTPS支持的方法。&mdash;
title: linux下删除某个文件之外的其他所有文件的命令之extglob模式
tags: [Linux,Shell,后端技术]
date: 2018-08-06
categories: [技术记录]
url: /technology/remove-all-except-this-file-linux-command
keywords: Linux,命令,Shell,后端技术</p>

<h2 id="description-有时候我们需要文件夹内留下一个或两个文件-其余的全部删除的时候-用-rm-会将文件夹内包括我们需要的文件都删除掉-这个时候需要用到extglob模式来匹配文件-本文就来讲讲extglob模式">description: 有时候我们需要文件夹内留下一个或两个文件，其余的全部删除的时候，用<code>rm *</code>会将文件夹内包括我们需要的文件都删除掉，这个时候需要用到extglob模式来匹配文件。本文就来讲讲extglob模式。</h2>

<h2 id="背景-2">背景</h2>

<p>比如最近我在备份Hexo的时候，多次需要调试效果，因为有备份一个文件夹叫hexo.zip，把这个传到服务器的网站根目录下，然后将其解压。但是之后再重建Hexo的时候需要将目录下所有文件除了hexo.zip都删除的时候，不能只用到简单的rm命令了。
<!--more--></p>

<h2 id="方法">方法</h2>

<p>最简单的方法是开启extglob模式，开启之后Shell可以另外识别出下列5个模式匹配操作符，更加方便的匹配文件。</p>

<h3 id="shopt-命令">shopt 命令</h3>

<p>shopt命令是set命令的一种替代，很多方面都和set命令一样，但它增加了很多选项。可有使用“-p”选项来查看shopt选项的设置。“-u”开关表示一个复位的选项，“-s”表示选项当前被设置。</p>

<pre><code># shopt -s extglob      #打开extglob模式
# shopt -u extglob      #关闭extglob模式
</code></pre>

<h4 id="set-命令">set 命令</h4>

<blockquote>
<p>set命令作用主要是显示系统中已经存在的shell变量，以及设置shell变量的新变量值。使用set更改shell特性时，符号&rdquo;+&ldquo;和&rdquo;-&ldquo;的作用分别是打开和关闭指定的模式。set命令不能够定义新的shell变量。如果要定义新的变量，可以使用declare命令以变量名=值的格式进行定义即可。</p>
</blockquote>

<p>具体set命令可以参考<a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html" rel="nofollow noreferrer" target="_blank">官方手册</a></p>

<pre><code>?(pattern-list) - 所给模式匹配0次或1次；

*(pattern-list) - 所给模式匹配0次以上包括0次；

+(pattern-list) - 所给模式匹配1次以上包括1次；

@(pattern-list) - 所给模式仅仅匹配1次；

!(pattern-list) - 不匹配括号内的所给模式。
</code></pre>

<h3 id="操作命令实例">操作命令实例</h3>

<pre><code># shopt -s extglob      #打开extglob模式
# rm -fr !(file1)    #删除除了file1的所有文件
</code></pre>

<p>如果是多个要排除的，可以这样利用管道线：</p>

<pre><code># rm -rf !(file1|file2)  #删除除了file1和file2的所有文件
</code></pre>

<pre><code># rm -i !(*.zip)       #删除除了.zip 之外的所有文件
</code></pre>

<pre><code># shopt -u extglob      #关闭extglob模式
</code></pre>

<h3 id="grep-v-反选">grep -v 反选</h3>

<p>或者还可以利用 grep -v 反选操作  （推荐，支持正则表达式）</p>

<p>示例：</p>

<pre><code>rm -rf `ls -a | grep -v &quot;^tes&quot;`  #删除目录下除了test 文件以外的其他文件以及文件夹
</code></pre>

<h2 id="来源">来源</h2>

<ul>
<li><a href="https://www.jianshu.com/p/9292881a1a10" rel="nofollow noreferrer" target="_blank">https://www.jianshu.com/p/9292881a1a10</a></li>
<li><a href="https://www.jb51.net/article/122897.htm" rel="nofollow noreferrer" target="_blank">https://www.jb51.net/article/122897.htm</a></li>
<li><a href="https://www.codetd.com/article/1689145---" rel="nofollow noreferrer" target="_blank">https://www.codetd.com/article/1689145---</a>
title: Git学习相关资料整理
tags: [Git]
date: 2018-08-07
categories: [技术记录]
url: /technology/git-learning-sheet
keywords: Git
description: 最近经常使用到git，不懂的时候网上查询，收集了一些资料的地址和教程。并收录部分电子书到仓库。
&mdash;</li>
</ul>

<p>部分电子书已经收录到仓库中，可以在这里查看到：<a href="https://down.huaien.me/00.%E7%94%B5%E5%AD%90%E4%B9%A6_Ebook/" rel="nofollow noreferrer" target="_blank">电子书仓库</a>
<!--more--></p>

<h3 id="git学习资料">git学习资料</h3>

<p>这里面的内容也是从网上收集，但是已经忘记了是从哪里找来的，感谢原作者。
- <a href="http://git-scm.com/book/en/v2" rel="nofollow noreferrer" target="_blank">Pro Git</a>
- <a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" rel="nofollow noreferrer" target="_blank">廖雪峰: git教程</a>:最好的中文教程。
- <a href="https://www.atlassian.com/git?atl_source=cac-bitbucket-1&amp;atl_medium=ace&amp;atl_campaign=ACE-158-Stash-GIT-on-Bitbucket-CAC_git" rel="nofollow noreferrer" target="_blank">Git Tutorials</a>: bitbucket的教程。
- <a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/zh_cn/" rel="nofollow noreferrer" target="_blank">Git Magic</a>: 网上较火的一套教程。
- <a href="https://github.com/gotgit/gotgithub" rel="nofollow noreferrer" target="_blank">GotGithub</a>: 一本中文的介绍github使用的书。
- <a href="http://gitimmersion.com/index.html" rel="nofollow noreferrer" target="_blank">Git Immersion</a>: 答题的形式学习git.
- <a href="http://www.git-tower.com/learn/" rel="nofollow noreferrer" target="_blank">Learn Version Control with Git</a>
- <a href="http://blog.jobbole.com/tag/pro-git/" rel="nofollow noreferrer" target="_blank">伯乐在线</a>: git详解系列
- <a href="http://backlogtool.com/git-guide/cn/" rel="nofollow noreferrer" target="_blank">猴子都能懂的Git入门</a></p>

<h3 id="git-flow">git-flow</h3>

<ul>
<li><a href="http://danielkummer.github.io/git-flow-cheatsheet/" rel="nofollow noreferrer" target="_blank">git-flow cheatsheet</a></li>
</ul>

<h3 id="练习">练习</h3>

<ul>
<li><a href="http://try.github.com/" rel="nofollow noreferrer" target="_blank">Try Git</a>： codeschool教程。</li>
<li><a href="https://github.com/Gazler/githug" rel="nofollow noreferrer" target="_blank">githug</a>: Git your game on!</li>
<li><a href="http://lingavin.com/githugtong-guan-gong-lue.html" rel="nofollow noreferrer" target="_blank">githug通关攻略</a></li>
<li><a href="https://github.com/hgarc014/git-game" rel="nofollow noreferrer" target="_blank">git-game</a>: terminal game to test git skills.</li>

<li><p><a href="http://pcottle.github.io/learnGitBranching/" rel="nofollow noreferrer" target="_blank">Learn Git Branching</a>: 形象直观的图形化练习网站。</p>

<h3 id="其他">其他</h3></li>

<li><p><a href="http://justinhileman.info/article/git-pretty/" rel="nofollow noreferrer" target="_blank">git pretty</a>: 美化git</p></li>

<li><p><a href="https://github.com/tiimgreen/github-cheat-sheet/blob/master/README.zh-cn.md" rel="nofollow noreferrer" target="_blank">GitHub秘籍</a></p></li>
</ul>

<h3 id="来自git学习资料整理-知乎搜集的">来自git学习资料整理（知乎搜集的）</h3>

<ul>
<li>首先你要学会git, 提供一些相关的资讯，望有帮助：</li>
<li>progit这本书是必看的</li>
<li><a href="http://git-scm.com/book" rel="nofollow noreferrer" target="_blank">http://git-scm.com/book</a> 和 <a href="http://git-scm.com/book/zh" rel="nofollow noreferrer" target="_blank">http://git-scm.com/book/zh</a></li>
<li>至少阅读：第一，第二，第三，第五，共4章，即可入门。</li>
<li>不过这个网站被墙了，提供下镜像吧：progit-zh.epub 和 [中文].Pro Git.pdf</li>
<li>在熟悉命令行后，也许你会需要UI，那可以选择：</li>
<li><a href="https://gitforwindows.org/" rel="nofollow noreferrer" target="_blank">Downloads - msysgit - Git for Windows</a></li>
<li><a href="http://code.google.com/p/tortoisegit/" rel="nofollow noreferrer" target="_blank">http://code.google.com/p/tortoisegit/</a></li>
<li><a href="http://www.sourcetreeapp.com/" rel="nofollow noreferrer" target="_blank">http://www.sourcetreeapp.com/</a></li>
<li>然后建议再看看 git-flow &ndash;&gt; 一个成功的Git分支模型</li>
<li>介绍：A successful Git branching model</li>
<li>翻译：<a href="http://www.juvenxu.com/2010/11/28/a-successful-git-branching-model/" rel="nofollow noreferrer" target="_blank">http://www.juvenxu.com/2010/11/28/a-successful-git-branching-model/</a></li>
<li>工具：nvie/gitflow · GitHub</li>
<li>git-flow 备忘清单</li>
<li>最后，你若需要本地搭建一个，那就用GITLAB: Self Hosted Git Management Application吧</li>
<li>补充一个刚发现的互动学习git的项目： Learn Git Branching</li>
<li>再补充一个：图解Git</li>
<li>再补充一个：Git Magic - 前言</li>

<li><p>然后剩下github的，看官方说明吧： <a href="https://help.github.com/---" rel="nofollow noreferrer" target="_blank">https://help.github.com/---</a>
title: 多平台维护Hexo提示node_modules错误问题
tags: [Hexo,node.js]
date: 2018-08-07
categories: [技术记录]
url: /technology/hexo-for-multiple-platform-error
keywords: node.js,Linux,Hexo,多平台,博客程序</p>

<h2 id="description-将hexo源码文件直接移动到其他平台后使用时会出现错误-大部分是因为node组件没有安装好的原因-本文记录了hexo移动到新平台后执行命令时出现的错误和解决办法">description: 将Hexo源码文件直接移动到其他平台后使用时会出现错误。大部分是因为node组件没有安装好的原因。本文记录了Hexo移动到新平台后执行命令时出现的错误和解决办法。</h2>

<h2 id="背景-3">背景</h2>

<p>在将Hexo在多个平台之间移动，配置，使用的时候会遇到组件问题，如下面，在原平台可以正常使用。但是移动到新的64位Linux系统后各种错误。大部分是因为node组件没有安装好的原因。<!--more--></p></li>
</ul>

<p>就像之前写的两个问题
- <a href="/article/frontend/not-able-to-install-nodejs-by-nvm/">Linux安装nvm后无法使用nvm安装node</a><br />
- <a href="/article/backend/unable-to-use-nodejs-on-64-bit-os/">32位Linux系统的node.js移到64位下无法使用</a></p>

<h2 id="错误">错误</h2>

<pre><code>root@do-sf2:/www/wwwroot/pan.guosao.com/data/User/admin/home/blog# hexo d -g
INFO  Start processing
INFO  Files loaded in 14 s
ERROR SyntaxError: Unexpected token - in file /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/themes/next/layout/_partials/header/menu.swig.
Error: SyntaxError: Unexpected token - in file /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/themes/next/layout/_partials/header/menu.swig.
    at Object.exports.throwError (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/utils.js:183:9)
    at exports.Swig.precompile (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:504:13)
    at exports.Swig.compile (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:605:16)
    at exports.Swig.compileFile (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:695:17)
    at Object.eval [as tpl] (eval at precompile (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:497:13), &lt;anonymous&gt;:7:18)
    at compiled (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:618:18)
    at Object.eval [as tpl] (eval at precompile (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:497:13), &lt;anonymous&gt;:445:164)
    at compiled (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/swig-templates/lib/swig.js:618:18)
    at Theme._View.View._compiled.locals [as _compiled] (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo/lib/theme/view.js:124:48)
    at Theme._View.View.View.render (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo/lib/theme/view.js:29:15)
    at route.set (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo/lib/hexo/index.js:386:29)
    at tryCatcher (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/bluebird/js/release/util.js:16:23)
    at /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/bluebird/js/release/method.js:15:34
    at RouteStream._read (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo/lib/hexo/router.js:134:3)
    at RouteStream.Readable.read (_stream_readable.js:449:10)
    at resume_ (_stream_readable.js:888:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)

</code></pre>

<h2 id="原因-1">原因</h2>

<p>出现上面的错误的原因是在移动到新平台后没有在博客目录下执行<code>npm install</code>来安装nodejs组件。导致无法正常生成页面。</p>

<h2 id="解决办法">解决办法</h2>

<h3 id="npm-install">npm install</h3>

<p>只需要执行<code>npm install</code>就可以，但是如果出现下面的提示，会提示让你执行<code>npm audit fix</code> 来自动修复检测到的漏洞。</p>

<pre><code># npm install
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;})

audited 5350 packages in 7.802s
found 4 moderate severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details

</code></pre>

<h3 id="npm-audit-fix">npm audit fix</h3>

<pre><code># npm audit fix
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;})

up to date in 5.927s
fixed 0 of 4 vulnerabilities in 5350 scanned packages
  4 vulnerabilities required manual review and could not be updated

</code></pre>

<p>注：</p>

<blockquote>
<p>npm audit 是 npm 6 新增的一个命令，可以允许开发人员分析复杂的代码并查明特定的漏洞。在刚刚发布的 npm 6.1.0 版本中，开发团队对该命令进行了完善。现在可使用 npm audit fix 子命令自动修复检测到的漏洞，而不必再自己进行跟踪和修复。<br />
新版本针对 npm audit 还包括以下改进：<br />
- npm audit &ndash;json —— 新的子命令，用于以 JSON 格式打印报告
- npm install 摘要输出中将包含审计软件包的数量
- npm-audit-report@1.2.1 —— 对审计安装和输出格式进行了大幅调整，新格式更加紧凑，更符合 CLI 视觉风格，同时仍然提供所需的重要信息。</p>

<p>此外，npm 6.1.0 同样扩展了 npm init 命令的功能，新增对 git 包的支持，即 npm init name。</p>
</blockquote>

<p>参考：<a href="https://www.oschina.net/news/96421/npm-6-1-0-released---" rel="nofollow noreferrer" target="_blank">https://www.oschina.net/news/96421/npm-6-1-0-released---</a>
title: Linux安装nvm后无法使用nvm安装node
tags: [nvm,node.js,Hexo,博客程序,后端技术]
date: 2018-08-07
categories: [技术记录]
url: /technology/not-able-to-install-nodejs-by-nvm
keywords: nvm,node.js,Hexo,博客程序,bash_profile,source命令,Linux,后端技术</p>

<h2 id="description-linux服务器安装nvm后无法执行nvm来安装node-提示没有nvm这个命令-多次重装也不行-后来通过修改-bash-profile-文件来解决-本文记录了如何修改-bash-profile-文件和source命令来解决无法使用nvm来安装node-js的方法">description: Linux服务器安装nvm后无法执行nvm来安装node，提示没有nvm这个命令，多次重装也不行，后来通过修改<code>bash_profile</code>文件来解决。本文记录了如何修改<code>bash_profile</code>文件和source命令来解决无法使用nvm来安装node.js的方法。</h2>

<p>今天在给服务器安装nvm的时候出现无法安装node的错误，查询了网上资料，可以通过修改bash_profile来解决。</p>

<!--more-->

<h2 id="nvm安装node-js的方法">nvm安装node.js的方法</h2>

<p>安装 Node.js 的最佳方式是使用 nvm。</p>

<p>cURL:</p>

<pre><code>$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh
</code></pre>

<p>Wget:</p>

<pre><code>$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh
</code></pre>

<p>安装完成后，重启终端并执行下列命令即可安装 Node.js。</p>

<pre><code>$ nvm install stable
</code></pre>

<h2 id="遇到错误-无法安装node-js">遇到错误，无法安装node.js</h2>

<p>但是最后一步的时候出现错误</p>

<p>提示</p>

<pre><code>
root@do-sf2:~# nvm install stable
-bash: nvm: command not found

</code></pre>

<p>重新安装的话提示</p>

<pre><code>root@do-sf2:~# wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
=&gt; nvm is already installed in /root/.nvm, trying to update using git
=&gt; =&gt; Compressing and cleaning up git repository

=&gt; nvm source string already in /root/.bashrc
=&gt; bash_completion source string already in /root/.bashrc
=&gt; Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm
[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion

</code></pre>

<h2 id="解决方法">解决方法</h2>

<p>安装完 nvm 后，输入nvm，当看到有输出时，则 nvm 安装成功。 如果遇到关闭shell后遇到以下提示：</p>

<pre><code>root@do-sf2:~# nvm
-bash: nvm: command not found

</code></pre>

<p>编辑.bash_profile文件，没有的话就新建一个</p>

<pre><code>vi .bash_profile
</code></pre>

<blockquote>
<p>注：~/.bash_profile:每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,他设置一些环境变量,执行用户的.bashrc文件.<br />
此文件类似于/etc/profile，也是需要需要重启才会生效，/etc/profile对所有用户生效，~/.bash_profile只对当前用户生效。<br />
~/.bash_profile 是交互式、login 方式进入bash 运行的；
~/.bashrc 是交互式 non-login 方式进入bash 运行的；
通常二者设置大致相同，所以通常前者会调用后者。<br />
摘自：<a href="https://blog.csdn.net/chenchong08/article/details/7833242" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/chenchong08/article/details/7833242</a></p>
</blockquote>

<p>内容为</p>

<pre><code>export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot;
</code></pre>

<p>最后source一下该文件</p>

<pre><code>source .bash_profile
</code></pre>

<p>注：</p>

<blockquote>
<p>source命令：<br />
source命令也称为“点命令”，也就是一个点符号（.）。source命令通常用于重新执行刚修改的初始化文件，使之立即生效，而不必注销并重新登录。<br />
用法：
source filename 或 . filename</p>
</blockquote>

<p>然后就可以安装node.js了</p>

<pre><code>root@do-sf2:~# nvm install stable
Downloading and installing node v10.8.0...
Downloading https://nodejs.org/dist/v10.8.0/node-v10.8.0-linux-x64.tar.xz...
######################################################################## 100.0%
Computing checksum with sha256sum
Checksums matched!
Now using node v10.8.0 (npm v6.2.0)
Creating default alias: default -&gt; stable (-&gt; v10.8.0)

</code></pre>

<h2 id="nvm的使用方法">nvm的使用方法</h2>

<pre><code>nvm install stable # 安装最新稳定版 node，现在是 5.0.0
nvm install 4.2.2 # 安装 4.2.2 版本
nvm install 0.12.7 # 安装 0.12.7 版本

# 特别说明：以下模块安装仅供演示说明，并非必须安装模块
nvm use 4 # 切换至 4.2.2 版本
npm install -g mz-fis # 安装 mz-fis 模块至全局目录，安装完成的路径是 /Users/&lt;你的用户名&gt;/.nvm/versions/node/v0.12.7/lib/mz-fis
nvm use 0 # 切换至 0.12.7 版本
npm install -g react-native-cli #安装 react-native-cli 模块至全局目录，安装完成的路径是 /Users/&lt;你的用户名&gt;/.nvm/versions/node/v4.2.2/lib/react-native-cli

nvm alias default 0.12.7 #设置默认 node 版本为 0.12.7
</code></pre>

<h2 id="参考来源">参考来源</h2>

<p><a href="https://blog.csdn.net/zjuwwj/article/details/72805671" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/zjuwwj/article/details/72805671</a></p>

<p><a href="https://hexo.io/zh-cn/docs/" rel="nofollow noreferrer" target="_blank">https://hexo.io/zh-cn/docs/</a></p>

<p><a href="https://blog.csdn.net/chenchong08/article/details/7833242---" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/chenchong08/article/details/7833242---</a>
title: 32位Linux系统的node_modules文件夹移到64位系统下报错
tags: [node.js,Linux,后端技术]
date: 2018-08-07
categories: [技术记录]
url: /technology/unable-to-use-nodejs-on-64-bit-os
keywords: node.js,Linux,node_modules,后端技术</p>

<h2 id="description-在32位linux系统下的node-modules文件夹直接移动到64位linux系统下无法直接使用-需要重新配置64位linux系统用的环境-本文记录了32位linux系统的node-js移到64位下无法使用的解决过程">description: 在32位Linux系统下的node_modules文件夹直接移动到64位Linux系统下无法直接使用，需要重新配置64位Linux系统用的环境。本文记录了32位Linux系统的node.js移到64位下无法使用的解决过程。</h2>

<h2 id="背景-4">背景</h2>

<p>把Hexo博客源码整个从32位的Linux系统搬到64位系统下，本来还没发现32位和64位，直到执行hexo clean的时候提示错误才发现。node_modules文件夹的指定模块报错。</p>

<!--more-->

<pre><code># hexo clean
ERROR Plugin load failed: hexo-generator-amp
Error: Missing binding /blog/node_modules/node-sass/vendor/linux-x64-64/binding.node
Node Sass could not find a binding for your current environment: Linux 64-bit with Node.js 10.x

Found bindings for the following environments:
  - Linux 32-bit with Node.js 8.x

This usually happens because your environment has changed since running `npm install`.
Run `npm rebuild node-sass` to download the binding for your current environment.
    at module.exports (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass/lib/binding.js:15:13)
    at Object.&lt;anonymous&gt; (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass/lib/index.js:14:35)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.&lt;anonymous&gt; (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo-generator-amp/lib/templatePath.js:4:22)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.&lt;anonymous&gt; (/www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/hexo-generator-amp/lib/generator.js:5:24)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
INFO  Deleted database.
INFO  Deleted public folder.

</code></pre>

<h2 id="错误信息">错误信息</h2>

<p>主要就是下面这两句</p>

<pre><code>Node Sass could not find a binding for your current environment: Linux 64-bit with Node.js 10.x

Found bindings for the following environments:
  - Linux 32-bit with Node.js 8.x
</code></pre>

<blockquote>
<p>就是node sass找不到适合你现在Linux 64位系统的环境捆绑，
当前找到的是适合32位Linux系统的。</p>
</blockquote>

<h2 id="解决方法-1">解决方法</h2>

<p>里面也附带了解决的办法</p>

<pre><code>This usually happens because your environment has changed since running `npm install`.
Run `npm rebuild node-sass` to download the binding for your current environment.
</code></pre>

<p>这通常是因为你换了环境然后执行<code>npm install</code>导致。
执行<code>npm rebuild node-sass</code> 来下下载适合你的当前环境的捆绑。</p>

<pre><code>root@do-sf2:/www/wwwroot/pan.guosao.com/data/User/admin/home/blog# npm rebuild node-sass

&gt; node-sass@4.9.2 install /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass
&gt; node scripts/install.js

Downloading binary from https://github.com/sass/node-sass/releases/download/v4.9.2/linux-x64-64_binding.node
Download complete  ] - :
Binary saved to /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass/vendor/linux-x64-64/binding.node
Caching binary to /root/.npm/node-sass/4.9.2/linux-x64-64_binding.node

&gt; node-sass@4.9.2 postinstall /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass
&gt; node scripts/build.js

Binary found at /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass/vendor/linux-x64-64/binding.node
Testing binary
Binary is fine
node-sass@4.9.2 /www/wwwroot/pan.guosao.com/data/User/admin/home/blog/node_modules/node-sass
root@do-sf2:/www/wwwroot/pan.guosao.com/data/User/admin/home/blog# hexo clean
INFO  Deleted database.

</code></pre>

<p>执行后就可以正常使用了。</p>

<hr />

<p>title: 正确使用AMP 让Google找到你的AMP页面
tags: [AMP,网站建设,SEO]
date: 2018-08-08
categories: [技术记录]
url: /technology/let-google-find-your-amp
keywords: Google,AMP,SEO,网页制作</p>

<h2 id="description-本文介绍了如何在网页插入相关代码来使google找到并收录你的amp网页">description: 本文介绍了如何在网页插入相关代码来使Google找到并收录你的AMP网页。</h2>

<h2 id="背景-5">背景</h2>

<p>在用Hexo的<a href="https://github.com/tea3/hexo-generator-amp" rel="nofollow noreferrer" target="_blank">hexo-generator-amp</a>插件后，发现并没有被收录AMP页面。
查看了下官方文档，如果要让你的AMP页面被找到，需要在head加入link。
<!--more--></p>

<h2 id="如何让-google-发现我的-amp-网页">如何让 Google 发现我的 AMP 网页？</h2>

<p>如果有其他网页链接到或引荐 AMP 网页，Google 会将这些 AMP 网页编入索引。</p>

<p>如果您的网页既有 AMP 版本，又有非 AMP 版本，请包含以下链接：</p>

<h3 id="非amp网页">非AMP网页</h3>

<p>在任意非 AMP 网页上，引荐相应网页的 AMP 版本，让 Google 和其他平台知道相应网页存在 AMP 版本：</p>

<pre><code>&lt;link rel=&quot;amphtml&quot; href=&quot;https://www.example.com/url/to/amp-version.html&quot; /&gt;
</code></pre>

<h3 id="amp网页">AMP网页</h3>

<p>在 AMP 网页上，添加以下文本，以便引荐相应的非 AMP 规范版本：</p>

<pre><code>&lt;link rel=&quot;canonical&quot; href=&quot;https://www.example.com/url/to/regular-html-version.html&quot; /&gt;
</code></pre>

<h3 id="独立的amp网页">独立的AMP网页</h3>

<p>对于独立的 AMP 网页（即不存在非 AMP 版本），请将 AMP 网页本身指定为规范版本：</p>

<pre><code>&lt;link rel=&quot;canonical&quot; href=&quot;https://www.example.com/url/to/amp-document.html&quot; /&gt;
</code></pre>

<p>Google 在发现独立的 AMP 网页后，也会将其编入索引。因此，对于独立的 AMP 网页，请务必确保能够通过其他已编入索引的网页链接到它们，或将它们列入站点地图。</p>

<p>最后，请务必仔细检查以确保您未在 AMP 网页的 robots.txt 文件中阻止 Google！</p>

<p>虽然Hexo的amp生成插件有一段代码需要加入head里面。
例如本站用的Next主题，需要在<a href="https://github.com/iissnan/hexo-theme-next/blob/master/layout/_partials/head.swig里面加入" rel="nofollow noreferrer" target="_blank">https://github.com/iissnan/hexo-theme-next/blob/master/layout/_partials/head.swig里面加入</a></p>

<pre><code>{% if is_post() &amp;&amp; config.generator_amp %}
  &lt;link rel=&quot;amphtml&quot; href=&quot;./amp/index.html&quot;&gt;
{% endif %}
</code></pre>

<p>但是生成页面后查看页面源码，却没有在正常页面里面发现上面这个amp的指向码，所以觉得应该是判断的语句有问题，索性就直接删除了判断语句，直接用中间那一句就好。也就是</p>

<pre><code>&lt;link rel=&quot;amphtml&quot; href=&quot;./amp/index.html&quot;&gt;
</code></pre>

<p>再次生成后就发现页面里面有该代码了。</p>

<p>而且在AMP的测试网站测试正常页面的时候也会提示
&gt; 链接到在提交的网址上检测到的 AMP 网址
您可能输入的是权威网页的网址。该网页链接到以下 AMP 网址：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/08/08/5b6a55a0a87b3.png" alt="AMP的测试网站" class="lazyload"><figcaption class="image-caption">AMP的测试网站</figcaption></figure></p>

<h2 id="如何检查-google-是否发现了我的-amp-网页">如何检查 Google 是否发现了我的 AMP 网页？</h2>

<p>我们在 Search Console 中提供了 <a href="https://support.google.com/webmasters/answer/6328309" rel="nofollow noreferrer" target="_blank">AMP 搜索结果外观报告</a>，以帮助您了解 Google 发现了哪些 AMP 网页。在 Search Console 中依次点击“搜索结果外观”&gt;“Accelerated Mobile Pages”即可找到此类报告。</p>

<p>搜索结果外观报告可帮助您快速找出未编入索引的 AMP 网页存在的最常见的问题，以便您在网站上实现 AMP 网页的过程中系统性地解决这些问题。您可能只需对模板进行细微调整，或者为内容管理系统 (CMS) 安装兼容的插件，便能解决相关问题。</p>

<p>请注意，如果您最近才创建了有效的 AMP 网页，那么这些网页可能要过几天才会显示在搜索结果外观报告中。</p>

<h2 id="如何检查我的-amp-网页是否可以显示在-google-搜索中">如何检查我的 AMP 网页是否可以显示在 Google 搜索中？</h2>

<p>只有有效的 AMP 网页才可显示在 Google 搜索中。因此，请使用 <a href="https://validator.ampproject.org/" rel="nofollow noreferrer" target="_blank">AMP HTML 网页验证工具</a>、<a href="https://chrome.google.com/webstore/detail/amp-validator/nmoffdblmcmgeicmolmhobpoocbbmknc" rel="nofollow noreferrer" target="_blank">Chrome 扩展程序</a>或通过更加自动化的流程（例如 cron 作业）来检查您的 AMP 网页是否有效，从而确保所有新内容均有效。</p>

<p>虽然总体来讲在您的 AMP 网页中添加结构化数据是不错的做法（我们建议使用 JSON-LD），但这对新闻发布商来说尤其重要，因为包含<a href="https://developers.google.com/structured-data/rich-snippets/articles" rel="nofollow noreferrer" target="_blank">相应标记属性</a>的新闻内容可能会显示在 Google 搜索结果的“焦点新闻”链接版块（包括“焦点新闻”轮换展示部分）中。使用 <a href="https://developers.google.com/structured-data/testing-tool" rel="nofollow noreferrer" target="_blank">Google 结构化数据测试工具</a>测试结构化数据的操作步骤很简单。
更多请参考：</p>

<p><a href="https://www.ampproject.org/docs/fundamentals/discovery" rel="nofollow noreferrer" target="_blank">https://www.ampproject.org/docs/fundamentals/discovery</a></p>

<p><a href="https://productforums.google.com/forum/?hl=zh-hant#!topic/webmaster-zh-cn/1uPZAhxpReg---" rel="nofollow noreferrer" target="_blank">https://productforums.google.com/forum/?hl=zh-hant#!topic/webmaster-zh-cn/1uPZAhxpReg---</a>
title: AWS用ec2-user用户来更改root密码并使用root用户
tags: [AWS,后端技术]
date: 2018-08-09
categories: [技术记录]
url: /technology/change-password-for-root-on-aws-ec2
keywords: EC2,AWS,root,ec2-user,密码,后端技术</p>

<h2 id="description-本文记录了如何使用aws的ec2的默认用户ec2-user用户登录来创建root密码并切换到root登录的方法">description: 本文记录了如何使用AWS的EC2的默认用户ec2-user用户登录来创建root密码并切换到root登录的方法。</h2>

<h2 id="背景-6">背景</h2>

<p>AWS的EC2在创建实例后，默认是使用ec2-user用户加密钥文件来登录ssh，使用AWS默认的EC2账户登录服务器后，用户权限收到很大的限制，有些目录无法访问，需要切换到root账户下工作。<!--more--></p>

<h2 id="创建root密码">创建root密码</h2>

<p>初次登录aws后并没有默认的root用户密码，需要在ec2用户下创建root密码，可以使用命令</p>

<pre><code>sudo passwd root
</code></pre>

<p>在出现提示后创建新密码。</p>

<h2 id="重置密码">重置密码</h2>

<p>如果出现root密码丢失的情况，也可以使用上边的命令重新生成新的root密码。</p>

<h2 id="切换root用户">切换root用户</h2>

<p>密码更改完成，后续的切换用户操作用 su 命令输入设定好的新密码就可以切换到root用户了。</p>

<p>经常登录AWS EC2的话，这个在一开始就会用到，如果修改密码，这个命令也是很方便的。&mdash;
title: 宝塔面板安装Flarum轻论坛程序时提示The PHP extension &lsquo;fileinfo&rsquo; is required
tags: [php,宝塔,Flarum,后端技术]
date: 2018-08-10
categories: [技术记录]
url: /technology/bt-panel-install-fileinfo-for-php
keywords: 宝塔,fileinfo,php,Flarum,后端技术,轻论坛</p>

<h2 id="description-在使用宝塔面板安装flarum轻论坛程序时-出现错误提示-the-php-extension-fileinfo-is-required-本文介绍了解决办法">description: 在使用宝塔面板安装Flarum轻论坛程序时，出现错误提示：The PHP extension &lsquo;fileinfo&rsquo; is required，本文介绍了解决办法。</h2>

<h2 id="原因-2">原因</h2>

<p>宝塔面板默认并没有安装fileinfo模块，可按以下教程安装：</p>

<p>注意：以下教程中56为PHP版本，请替换成您要安装此扩展的PHP版本，Flarum轻论坛程序最低要求PHP5.6+
<!--more--></p>

<h2 id="解决过程">解决过程</h2>

<h3 id="进入对应版本的fileinfo扩展源码目录">进入对应版本的fileinfo扩展源码目录</h3>

<pre><code>cd /www/server/php/56/src/ext/fileinfo
</code></pre>

<h3 id="初始化扩展安装">初始化扩展安装</h3>

<pre><code>/www/server/php/56/bin/phpize
</code></pre>

<h3 id="生成编译配置">生成编译配置</h3>

<pre><code>./configure --with-php-config=/www/server/php/56/bin/php-config
</code></pre>

<h3 id="编译并安装扩展">编译并安装扩展</h3>

<pre><code>make &amp;&amp; make install
</code></pre>

<h3 id="写入配置文件">写入配置文件</h3>

<pre><code>echo 'extension=fileinfo.so' &gt;&gt; /www/server/php/56/etc/php.ini
</code></pre>

<h3 id="重载php配置">重载PHP配置</h3>

<pre><code>service php-fpm-56 reload
</code></pre>

<p>这样就可以了。&mdash;
title: 编译安装PHP组件出现错误提示内存不足：virtual memory exhausted Cannot allocate memory
tags: [PHP,后端技术]
date: 2018-08-10
categories: [技术记录]
url: /technology/no-enough-memory-to-make-php
keywords: PHP,fileinfo,SWAP,后端技术</p>

<h2 id="description-本文介绍了在编译php组件时候遇到内存不足提示virtual-memory-exhausted-cannot-allocate-memory的时候-如何增加swap虚拟内存来解决">description: 本文介绍了在编译PHP组件时候遇到内存不足提示virtual memory exhausted Cannot allocate memory的时候，如何增加SWAP虚拟内存来解决。</h2>

<h2 id="背景-7">背景</h2>

<p>前面一篇我们介绍了<a href="https://huaien.me/article/backend/bt-panel-install-fileinfo-for-php/" rel="nofollow noreferrer" target="_blank">宝塔面板的PHP默认不安装fileinfo组件，需要手动编译安装</a>。在php5.6上是没有出现问题，但是在编译php7.1的版本的<code>make &amp;&amp; make install</code>这一步出现错误，提示：
<!--more--></p>

<pre><code>virtual memory exhausted: Cannot allocate memory
Makefile:197: recipe for target 'libmagic/apprentice.lo' failed
</code></pre>

<p>下面是make编译后的详细信息：</p>

<pre><code>/www/server/php/71/src/ext/fileinfo# make &amp;&amp; make install /bin/sh /www/server/php/71/src/ext/fileinfo/libtool --mode=compile cc -I/www/server/php/71/src/ext/fileinfo/libmagic -I. -I/www/server/php/71/src/ext/fileinfo -DPHP_ATOM_INC -I/www/server/php/71/src/ext/fileinfo/include -I/www/server/php/71/src/ext/fileinfo/main -I/www/server/php/71/src/ext/fileinfo -I/www/server/php/71/include/php -I/www/server/php/71/include/php/main -I/www/server/php/71/include/php/TSRM -I/www/server/php/71/include/php/Zend -I/www/server/php/71/include/php/ext -I/www/server/php/71/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /www/server/php/71/src/ext/fileinfo/libmagic/apprentice.c -o libmagic/apprentice.lo
 cc -I/www/server/php/71/src/ext/fileinfo/libmagic -I. -I/www/server/php/71/src/ext/fileinfo -DPHP_ATOM_INC -I/www/server/php/71/src/ext/fileinfo/include -I/www/server/php/71/src/ext/fileinfo/main -I/www/server/php/71/src/ext/fileinfo -I/www/server/php/71/include/php -I/www/server/php/71/include/php/main -I/www/server/php/71/include/php/TSRM -I/www/server/php/71/include/php/Zend -I/www/server/php/71/include/php/ext -I/www/server/php/71/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /www/server/php/71/src/ext/fileinfo/libmagic/apprentice.c  -fPIC -DPIC -o libmagic/.libs/apprentice.o
virtual memory exhausted: Cannot allocate memory
Makefile:197: recipe for target 'libmagic/apprentice.lo' failed
make: *** [libmagic/apprentice.lo] Error 1

</code></pre>

<h2 id="原因-3">原因</h2>

<p>==这个意思是内存不足，无法完成编译。==</p>

<p>本次使用的是AWS t2.micro配置的EC2实例，实际上其内存有1GB，但是还是出现本次的错误，应该是同时运行的其他程序导致内存不足。</p>

<h2 id="解决办法-1">解决办法</h2>

<p>既然这样，物理内存不足我们没办法，但是可以通过自行增加虚拟内存的方法来解决。</p>

<h3 id="通过free-m来查看下内存使用状况">通过free -m来查看下内存使用状况</h3>

<pre><code># free -m
              total        used        free      shared  buff/cache   available
Mem:            990         466         447           3          76         401
Swap:             0           0           0

</code></pre>

<h3 id="创建一个目录-opt-images">创建一个目录/opt/images/</h3>

<p>你可以自己定路径</p>

<pre><code># mkdir /opt/images/
# rm -rf /opt/images/swap
</code></pre>

<h3 id="创建一个2gb大小的文件">创建一个2GB大小的文件</h3>

<pre><code># dd if=/dev/zero of=/opt/images/swap bs=1024 count=2048000
2048000+0 records in
2048000+0 records out
2097152000 bytes (2.1 GB, 2.0 GiB) copied, 30.3635 s, 69.1 MB/s

</code></pre>

<h3 id="把创建的文件变成swap分区">把创建的文件变成SWAP分区</h3>

<pre><code># mkswap /opt/images/swap
Setting up swapspace version 1, size = 2 GiB (2097147904 bytes)
no label, UUID=dd2fa2db-f8bd-41db-9e1a-5d9257924c6f

</code></pre>

<h3 id="启用这个swap文件">启用这个SWAP文件</h3>

<pre><code># swapon /opt/images/swap
swapon: /opt/images/swap: insecure permissions 0644, 0600 suggested.

</code></pre>

<h3 id="看看swap是否生效">看看SWAP是否生效</h3>

<pre><code># free -m
              total        used        free      shared  buff/cache   available
Mem:            990         467          64           3         458         356
Swap:          1999           0        1999

</code></pre>

<p>可以看到的确有2GB的SWAP内存</p>

<h3 id="然后回到原来的作业">然后回到原来的作业</h3>

<p>使用<code>cd -</code>回到原来的<code>/www/server/php/71/src/ext/fileinfo</code>目录</p>

<h3 id="继续编译fileinfo">继续编译fileinfo</h3>

<pre><code># make &amp;&amp; make install
</code></pre>

<p>执行成功</p>

<pre><code>See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /www/server/php/71/lib/php/extensions/no-debug-non-zts-20160303/

</code></pre>

<h3 id="完成后关闭swap">完成后关闭SWAP</h3>

<pre><code># swapoff swap
# rm -f /opt/images/swap

</code></pre>

<p>以后再出现内存不足可以通过增加SWAP虚拟内存来解决~</p>

<h2 id="参考资料">参考资料</h2>

<p><a href="https://www.cnblogs.com/chenpingzhao/p/4820814.html" rel="nofollow noreferrer" target="_blank">https://www.cnblogs.com/chenpingzhao/p/4820814.html</a></p>

<hr />

<p>title: Git生成 SSH 公钥添加到GitHub和Coding.net
tags: [Git,后端技术]
date: 2018-08-11
categories: [技术记录]
url: /technology/ssh-key-generator-git
keywords: Git,SSH,GitHub,Coding.net,秘钥,后端技术</p>

<h2 id="description-我们在使用git的时候-通常都需要先添加ssh公钥到github或者其他代码托管平台来授权-这样的话我们必须先用ssh生成一个公钥-本文介绍了如何在ssh上生成公钥">description: 我们在使用Git的时候，通常都需要先添加SSH公钥到GitHub或者其他代码托管平台来授权，这样的话我们必须先用SSH生成一个公钥，本文介绍了如何在SSH上生成公钥。</h2>

<h2 id="背景-8">背景</h2>

<p>大多数 Git 服务器都会选择使用 SSH 公钥来进行授权。系统中的每个用户都必须提供一个公钥用于授权，没有的话就要生成一个。例如我们在使用GitHub Pages来托管博客，或者将代码推到GitHub或者Coding上的话需要先生成一个SSH并填入到托管平台的设置中来授权。<!--more--></p>

<h2 id="生成">生成</h2>

<p>生成公钥的过程在所有操作系统上都差不多。 首先先确认一下是否已经有一个公钥了。SSH 公钥默认储存在账户的主目录下的<code>~/.ssh</code>目录。进去看看：</p>

<pre><code>$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub
</code></pre>

<p>关键是看有没有用 something 和 something.pub 来命名的一对文件，这个 something 通常就是 <code>id_dsa</code> 或 <code>id_rsa</code>。有 <code>.pub</code> 后缀的文件就是公钥，另一个文件则是密钥。假如没有这些文件，或者干脆连 .ssh 目录都没有，可以用 <code>ssh-keygen</code> 来创建。该程序在 Linux/Mac 系统上由 SSH 包提供，而在 Windows 上则包含在 MSysGit 包里：</p>

<pre><code>$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/schacon/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/schacon/.ssh/id_rsa.
Your public key has been saved in /Users/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
43:c5:5b:5f:b1:f1:50:43:ad:20:a6:92:6a:1f:9a:3a schacon@agadorlaptop.local
</code></pre>

<p>它先要求你确认保存公钥的位置（<code>.ssh/id_rsa</code>），然后它会让你重复一个密码两次，如果不想在使用公钥的时候输入密码，可以留空。</p>

<p>现在，所有做过这一步的用户都得把它们的公钥给你或者 Git 服务器的管理员（假设 SSH 服务被设定为使用公钥机制）。他们只需要复制 <code>.pub</code> 文件的内容然后发邮件给管理员。</p>

<h2 id="得到公钥">得到公钥</h2>

<p>公钥的样子大致如下：</p>

<pre><code>$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@agadorlaptop.local
</code></pre>

<p>将上面得到的公钥内容填到你要授权的托管平台的SSH钥设置中就好了~</p>

<p>关于在多个操作系统上设立相同 SSH 公钥的教程，可以查阅 GitHub 上有关 SSH 公钥的向导：<a href="http://github.com/guides/providing-your-ssh-key。" rel="nofollow noreferrer" target="_blank">http://github.com/guides/providing-your-ssh-key。</a></p>

<p>来源：<a href="https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E7%94%9F%E6%88%90-SSH-%E5%85%AC%E9%92%A5" rel="nofollow noreferrer" target="_blank">3 服务器上的 Git - 生成 SSH 公钥</a>&mdash;
title: 宝塔启动nginx服务失败提示failed (98:Address already in use)
tags: [宝塔,nginx,后端技术]
date: 2018-09-21
categories: [技术记录]
url: /technology/bt-panel-failed-to-start-nginx
keywords: 宝塔,nginx,端口,后端技术,80端口</p>

<h2 id="description-nginx服务出现无法启动-启动失败提示nginx-emerg-bind-to-0-0-0-0-80-failed-98-address-already-in-use-错误的时候的解决办法">description: nginx服务出现无法启动，启动失败提示nginx:[emerg] bind() to 0.0.0.0:80 failed (98:Address already in use)错误的时候的解决办法。</h2>

<h2 id="背景-9">背景</h2>

<p>发现宝塔的nginx没有在运行，于是在宝塔面板上手动重启，但是提示失败，失败信息是下面那样：<!--more--></p>

<blockquote>
<p>警告消息：</p>

<p>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] still could not bind()</p>
</blockquote>

<h2 id="原因-4">原因</h2>

<p>原因是nginx服务被卡死，导致80端口被占用，地址已经被使用。</p>

<p>解决这一问题的办法，我们得找到占用80端口的服务进程，并结束它。</p>

<h2 id="解决办法-2">解决办法</h2>

<p>用 <code>netstat -ntpl</code> 来查看端口使用情况</p>

<pre><code>root@woo2:/www/server/panel# netstat -ntpl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      6822/nginx.conf
tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN      6672/pure-ftpd (SER
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1769/sshd
tcp        0      0 0.0.0.0:888             0.0.0.0:*               LISTEN      6822/nginx.conf
tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN      20242/python
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1943/sendmail: MTA:
tcp        0      0 127.0.0.1:587           0.0.0.0:*               LISTEN      1943/sendmail: MTA:
tcp6       0      0 :::21                   :::*                    LISTEN      6672/pure-ftpd (SER
tcp6       0      0 :::22                   :::*                    LISTEN      1769/sshd
tcp6       0      0 :::3306                 :::*                    LISTEN      19710/mysqld

</code></pre>

<p>可以看到进程pid 6822占用了80的端口，导致nginx无法启动。</p>

<p>我们只要将6822进程结束就行了</p>

<pre><code>root@woo2:/www/server/panel# kill 6822

</code></pre>

<p>结束后再次查看端口使用情况</p>

<pre><code>root@woo2:/www/server/panel# netstat -ntpl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN      6672/pure-ftpd (SER
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1769/sshd
tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN      20242/python
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1943/sendmail: MTA:
tcp        0      0 127.0.0.1:587           0.0.0.0:*               LISTEN      1943/sendmail: MTA:
tcp6       0      0 :::21                   :::*                    LISTEN      6672/pure-ftpd (SER
tcp6       0      0 :::22                   :::*                    LISTEN      1769/sshd
tcp6       0      0 :::3306                 :::*                    LISTEN      19710/mysqld

</code></pre>

<p>发现已经没有80端口在使用中了。</p>

<p>然后就可以在宝塔面板上或者使用
<code>service nginx start</code>命令来启动nginx服务了。</p>

<hr />

<p>title: 宝塔面板忘记密码如何找回宝塔面板账户登录密码
tags: [宝塔,后端技术]
date: 2018-09-25
categories: [技术记录]
url: /technology/bt-panel-get-password-back
keywords: 宝塔,密码,安全,找回密码,忘记密码,后端技术</p>

<h2 id="description-我们在安装宝塔面板后忘记记下来给的默认账户和密码-之后我们要登录的时候却不知道账户和密码是什么-这时候我们可以通过ssh来命令找回或者重置密码">description: 我们在安装宝塔面板后忘记记下来给的默认账户和密码，之后我们要登录的时候却不知道账户和密码是什么，这时候我们可以通过ssh来命令找回或者重置密码。</h2>

<h2 id="找回密码">找回密码</h2>

<p>如果只是忘记了密码，还记得账号</p>

<p>可以输入以下命令回车找回密码（早期版本默认账号admin）<!--more--></p>

<pre><code>cat /www/server/panel/default.pl
</code></pre>

<p>下面是执行命令实例</p>

<pre><code>root@woo2:~# cat /www/server/panel/default.pl
c58d3170
</code></pre>

<p>返回的c58d3170就是密码。</p>

<h2 id="找回用户名">找回用户名</h2>

<p>如果你也不记得账号，可以通过下面的命令来重置密码并得到默认账户。</p>

<pre><code>cd /www/server/panel &amp;&amp; python tools.pyc panel newpassword
</code></pre>

<p>newpassword请改成你要修改的密码</p>

<pre><code class="language-bash">root@woo2:~# cd /www/server/panel &amp;&amp; python tools.pyc panel newpassword
rwlfzj3w
</code></pre>

<p>可以看到返回的rwlfzj3w就是你的账号，你可以用这个账号和新密码来登录面板，登录进去后可以去面板设置修改账号密码。</p>

<h2 id="原文地址-http-www-bt-cn-bbs-thread-1172-1-1-html">原文地址：<a href="http://www.bt.cn/bbs/thread-1172-1-1.html" rel="nofollow noreferrer" target="_blank">http://www.bt.cn/bbs/thread-1172-1-1.html</a></h2>

<p>title: 宝塔面板无法启动pure-ftpd服务的解决办法
tags: [宝塔,后端技术]
date: 2018-09-26
categories: [技术记录]
url: /technology/bt-panel-cannot-active-pure-ftpd
keywords: 宝塔,pure-ftpd,后端技术</p>

<h2 id="description-本文记录了宝塔面板上无法启动pure-ftpd的解决办法">description: 本文记录了宝塔面板上无法启动pure-ftpd的解决办法。</h2>

<p>宝塔面板安装pure-ftpd后发现并没有启动，多次手动重启还是显示关闭状态，重装好几次也无法启动。<!--more--></p>

<p>进入ssh
输入以下命令 看是否21端口给其他软件占用</p>

<pre><code>lsof -i :21
</code></pre>

<p>如果结果是下面这样就是系统自带的ftp软件给占用了21端口</p>

<pre><code>[root@izcupa3t172j1wz ~]# lsof -i :21
COMMAND PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
vsftpd  855 root    3u  IPv6  15453      0t0  TCP *:ftp (LISTEN)
</code></pre>

<p>输入以下命令启动即可</p>

<pre><code>pkill -9 vsftpd
</code></pre>

<pre><code>service pure-ftpd start
</code></pre>

<p>也可以用下面的命令启动pure-ftpd</p>

<pre><code>/etc/init.d/pure-ftpd start

</code></pre>

<h2 id="参考-https-www-bt-cn-bbs-thread-2746-1-1-html">参考：<a href="https://www.bt.cn/bbs/thread-2746-1-1.html" rel="nofollow noreferrer" target="_blank">https://www.bt.cn/bbs/thread-2746-1-1.html</a></h2>

<p>title: 解决wordpress后台安装插件时提示需要ftp账号和密码
tags: [WordPress]
date: 2018-09-26
categories: [技术记录]
url: /technology/wordpress-install-plugin-show-ftp-info
keywords: WordPress,插件,ftp,博客程序</p>

<h2 id="description-在安装wordpress后如果没有配置好权限-在后台安装插件主题等会弹出提示需要输入ftp账户与密码-本文记录了该问题的解决方法">description: 在安装wordpress后如果没有配置好权限，在后台安装插件主题等会弹出提示需要输入ftp账户与密码，本文记录了该问题的解决方法。</h2>

<p>在wordpress安装之后，想要安装一个插件来用，结果弹出提示输入ftp账户与密码。如下图<!--more--></p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvmtky7cxqj30ch0dzaab.jpg" alt="弹出提示输入ftp账户与密码" class="lazyload"><figcaption class="image-caption">弹出提示输入ftp账户与密码</figcaption></figure></p>

<p>最后搜索了一下网上的解决方案，所需要更改wordpress文件夹的权限，命令如下：</p>

<pre><code>sudo chown -R www  /home/wwwroot/wordpress
</code></pre>

<p>这个命令是将wordpress目录下的所有文件与子目录进行相同的拥有者变更为www(即以递回的方式逐个变更)</p>

<p>后面的<code>/home/wwwroot/wordpress</code>路径是自己安装wordpress的文件夹。</p>

<p>如果这样操作报一下错误的话</p>

<pre><code>chown: changing ownership of `/home/wwwroot/wordpress/.user.ini': Operation not permitted
</code></pre>

<p>只需要如下更改之后就ok了：</p>

<pre><code>sudo chown -R www  /home/wwwroot/hi/*
</code></pre>

<p>只需要在文件路径之后再加一个/* 。</p>

<hr />

<h2 id="本文来自-https-blog-csdn-net-u014182411-article-details-78127663-utm-source-copy">本文来自：<a href="https://blog.csdn.net/u014182411/article/details/78127663?utm_source=copy" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/u014182411/article/details/78127663?utm_source=copy</a></h2>

<p>title: 解决Linux系统SSH终端显示中文乱码以centos为例
tags: [Linux,SSH,后端技术]
date: 2018-09-27
categories: [技术记录]
url: /technology/linux-os-ssh-show-chinese
keywords: Linux,SSH,编码,乱码,后端技术</p>

<h2 id="description-在使用服务器的时候-用ssh工具例如putty连接linux系统的服务器-在出现中文的时候会显示乱码-这个时候需要一些修改-就可以让linux系统在ssh终端中正常显示中文">description: 在使用服务器的时候，用SSH工具例如Putty连接Linux系统的服务器，在出现中文的时候会显示乱码，这个时候需要一些修改，就可以让Linux系统在SSH终端中正常显示中文。</h2>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvntln8qacj30gj09sgmt" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure>
如果没有设置好编码，在SSH客户端连接Linux服务器的时候就是像上面那样显示效果。不过经过设置，可以正常显示中文。</p>

<!--more-->

<h2 id="查看当前系统编码设置">查看当前系统编码设置</h2>

<pre><code># echo $LANG
C
</code></pre>

<p>返回的值为C，可以知道当前的系统语言编码设置为C</p>

<h2 id="查看当前系统的中文支持">查看当前系统的中文支持</h2>

<pre><code># locale -a | grep zh_CN
zh_CN
zh_CN.gb18030
zh_CN.gb2312
zh_CN.gbk
zh_CN.utf8

</code></pre>

<p>以上列出的为当前系统可用中文字符集</p>

<blockquote>
<p>vim 只能正确识别列表中的中文编码文件，如需识别其他编码类型的中文文件，则需要做系统升级。</p>
</blockquote>

<h2 id="修改linux系统的编码文件">修改Linux系统的编码文件</h2>

<p>以下操作在root权限下操作。</p>

<h3 id="临时生效-重启失效">临时生效，重启失效</h3>

<pre><code># export LANG=&quot;zh_CN.UTF-8&quot;
</code></pre>

<p>查看编码设置是否变更为zh_CN.UTF-8</p>

<pre><code># echo $LANG
zh_CN.UTF-8
</code></pre>

<h3 id="永久生效">永久生效</h3>

<p>只需要编辑/etc/sysconfig/i18n文件就好了</p>

<p>用vi编辑</p>

<pre><code># vi /etc/sysconfig/i18n
</code></pre>

<p>在原来的内容前加上“#”注释掉</p>

<p>并添加一行</p>

<pre><code>LANG=&quot;zh_CN.UTF-8&quot;  
</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvntwapar7j30gj09sdg3" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>按esc退出insert模式</p>

<p>底行模式下输入<code>:wq</code>保存退出</p>

<p>用下面其中一种命令使修改生效</p>

<pre><code>source /etc/sysconfig/i18n
</code></pre>

<p>或者</p>

<pre><code>. /etc/sysconfig/i18n
</code></pre>

<p>附带网上几个版本的i18n配置文件</p>

<p>这个版本最普遍，当时可能是我的客户端没有找到这个编码导致还是有些中文无法显示。</p>

<pre><code>LANG=&quot;zh_CN.GB18030&quot;
SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh:en_US.UTF-8:en_US:en:zh_CN.GB18030&quot;
SYSFONT=&quot;latarcyrheb-sun16&quot;
</code></pre>

<p>下面这个可以完全显示。</p>

<pre><code>LANG=&quot;zh_CN.UTF-8&quot;  
SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh&quot;  
SYSFONT=&quot;latarcyrheb-sun16&quot;  
</code></pre>

<h2 id="修改putty客户端的编码设置">修改Putty客户端的编码设置</h2>

<p>其他的客户端也需要设置，方法差不多。</p>

<p>putty设置</p>

<p>左侧设置类别的Window-Appearance，右侧的Font settings的Change按钮</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvnt7nzrshj30cy0argmv" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>在字体设置中字体选择带有中文的字体如下图选择楷体Kaiti ，在下方的文字设置选择中文。OK确定</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvnt9pnoisj30c90fpjsa" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>设置类别的Windows-Translation，右侧如图选择UTF-8编码。这里要选择之前设置的服务器配置文件设置的编码。</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvntbuqak3j30cy0ap0u2" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>以上就是putty客户端的编码设置。</p>

<h2 id="正常显示中文效果">正常显示中文效果</h2>

<p>经过上面一系列的设置，就可以在SSH终端中正常显示中文了
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fvnteux1qej30gj09s756" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<h2 id="学到的几个linux命令">学到的几个Linux命令</h2>

<pre><code>#全局系统环境变量配置文件
echo 'export LANG=&quot;ZH_CN.GB18030&quot;' &gt;&gt;/etc/profile
</code></pre>

<pre><code>#使配置生效
source /etc/profile
</code></pre>

<pre><code>#查看结果
echo $LANG
</code></pre>

<h2 id="更改脚本字符集">更改脚本字符集</h2>

<p>有时候脚本内容出现中文乱码，也可以在脚本里面更改字符集</p>

<pre><code>#!/bin/sh
　export LANG=&quot;ZH_CN.GB18030&quot;
　（脚本内容）
</code></pre>

<h2 id="批量文件转码命令">批量文件转码命令</h2>

<pre><code>iconv -c -f gbk -t utf-8 $data_path/$item_uv
</code></pre>

<hr />

<p>最后付上原centos默认编码配置文件内容</p>

<p>位置</p>

<p>/etc/sysconfig/i18n</p>

<pre><code>LANG=C
SYSFONT=latarcyrheb-sun16
</code></pre>

<p>参考自</p>

<p><a href="https://blog.csdn.net/wzb56_earl/article/details/24046995" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/wzb56_earl/article/details/24046995</a></p>

<h2 id="https-blog-csdn-net-wusuopubupt-article-details-50947243"><a href="https://blog.csdn.net/wusuopuBUPT/article/details/50947243" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/wusuopuBUPT/article/details/50947243</a></h2>

<p>title: 如何申请成为Cloudflare Partner合作伙伴
tags: [CloudFlare Partner,CDN,SSL]
date: 2018-10-11
categories: [网络资源]
url: /internet/become-cloudflare-partner
keywords: CloudFlare Partner,CDN,SSL,合作伙伴,CNAME解析</p>

<h2 id="description-在2017年左右-看到论坛还有一些大佬的博客在讨论申请cloudflare-partner-当时并没多大兴趣去研究-最近因为看到越来越多人开源了面板-所以也想试试-就申请了cloudflare-partner合作伙伴计划-本文记录了如何申请cloudflare-partner合作伙伴计划">description: 在2017年左右，看到论坛还有一些大佬的博客在讨论申请CloudFlare Partner，当时并没多大兴趣去研究，最近因为看到越来越多人开源了面板，所以也想试试，就申请了CloudFlare Partner合作伙伴计划。本文记录了如何申请CloudFlare Partner合作伙伴计划。</h2>

<h2 id="什么是cloudflare">什么是CloudFlare</h2>

<p>CloudFlare想必大家还是挺熟悉的，作为世界最大的CDN服务提供商之一，CloudFlare不但提供了免费的域名DNS解析服务，包括了HTTPS加密的免费的CDN服务，还有吊炸天的1.1.1.1 1.0.0.1的公共DNS服务。而且解析速度非常之快，我也将自己10个左右的域名托管在CloudFlare的DNS解析服务上。试过如果添加解析记录或者修改解析记录后，几乎即时生效，虽然说这样有好有坏，但是反应速度之快，真的让我吓一跳。<!--more--></p>

<h2 id="什么是cloudflare-partner">什么是CloudFlare Partner</h2>

<p>上面提到了CloudFlare提供域名解析服务和CDN服务等，但是如果你使用的是免费套餐，必须把域名的NS服务器改为CloudFlare提供的地址，虽然大部分DNS解析服务商都是如此，但是有很多人不愿意修改DNS服务器，比如用了DNSPOD的智能解析服务，如果用NS解析来使用CloudFlare的话，就无法使用DNSPOD的解析服务。但是通过CloudFlare Partner合作伙伴计划，我们可以通过另一种方法来使用CloudFlare的DNS解析和CDN服务。</p>

<p>这就是通过解析cname记录来使用CloudFlare的服务。这样可以使用他们提供的SSL证书来开启HTTPS和CDN服务。
CloudFlare Partner其实就是CloudFlare为了拓展用户提供的合作分销计划。旨在为开发者或者主机提供商提供便利的API服务以拓展用户。用户不需要登录CloudFlare官网来管理域名解析，可以在WHMCS、Cpanel等面板中使用集成的Cloudflare CDN加速服务。</p>

<h2 id="申请cloudflare-partner">申请CloudFlare Partner</h2>

<h3 id="填写信息">填写信息</h3>

<p>申请CloudFlare Partner页面：</p>

<p><a href="https://www.cloudflare.com/partners/become-a-partner/" rel="nofollow noreferrer" target="_blank">https://www.cloudflare.com/partners/become-a-partner/</a></p>

<p>打开后界面如下</p>

<p><a href="https://ww1.sinaimg.cn/large/005YhI8igy1fw4bjkwemzj310d0h5768" rel="nofollow noreferrer" target="_blank"><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fw4bjkwemzj310d0h5768" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></a></p>

<p>自上而下需要填入的信息为
- 公司名称 （这个你可以只要域名名字，比如abc.com的话写abc）
- ==业务类目== *（这里我第一次选择了Web Designer/Developer被拒绝，回信说合作伙伴计划是提供给主机提供商的服务。）
- 网址 （你自己的域名如<a href="https://abc.com）" rel="nofollow noreferrer" target="_blank">https://abc.com）</a>
- 名字
- 姓氏
- 职位 （这个虽然为非必填，但是我填了申请成功）
- ==联系邮箱== *（这里为重点，需要使用企业邮箱，没有的话也可以用域名邮箱。比如QQ的域名邮箱，申请方便，可以接收到信。另外邮箱格式最好为admin@abc.com这样的，虽然我用的是w@abc.com这样的）
- 联系电话 （格式为+8613912345678）
- 通过什么途径知道的 （我选择的Customer request，客户要求）
- 备注 （可以放空）</p>

<p>最后我填写的资料差不多是下面这样的
<a href="https://ww1.sinaimg.cn/large/005YhI8igy1fw4bna1j9qj30cd0em74w" rel="nofollow noreferrer" target="_blank"><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ww1.sinaimg.cn/large/005YhI8igy1fw4bna1j9qj30cd0em74w" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></a></p>

<p>但是我前两次申请失败了。第一次因为选择业务类目选择的网页设计者/开发者，第二次还是用一样信息只是业务类目改为VPS/服务器提供商，估计是留底了。</p>

<p>点击提交后你的邮箱就会收到邮件
&gt; XXX &ndash; [Cloudflare]: Application Received
&gt; Dear XXX,
&gt;
&gt; Thank you for applying to Cloudflare&rsquo;s Certified Partner Program. Your application has been submitted. We review all applications and respond shortly.
&gt;
&gt; Cloudflare offers many benefits to you as a service provider:
&gt; *   Reduced server load
&gt; *   Bandwidth savings
&gt; *   Fewer customer support tickets
&gt; *   Mitigation of DDoS attacks
&gt; *   IPv4 / IPv6 gateway
&gt;
&gt; On average, a website on Cloudflare:
&gt; *   Loads twice as fast, on an international CDN
&gt; *   Uses 60% less bandwidth
&gt; *   Sees 65% fewer requests
&gt; *   Is way more secure
&gt;
&gt; Thank you for your interest in Cloudflare.
&gt;
&gt; Regards,
&gt; The Cloudflare Team</p>

<p>第一次申请不到五个小时就回信说拒绝了
&gt; XXX &ndash; [Cloudflare] Application Declined
&gt;
&gt; Dear XXX,
&gt;
&gt; Thank you for your interest in Cloudflare&rsquo;s Certified Hosting Provider program. Unfortunately at this time, Cloudflare has declined your application to become a partner in this program.
&gt;
&gt; The program is created for hosting providers offering commercial hosting only. I&rsquo;d like to encourage you to sign up for Cloudflare directly, take a look at our plans here: www.cloudflare.com/plans
&gt;
&gt; We apologize for any inconvenience that this may cause. If you feel that this decision was reached in error, please contact us at partners@cloudflare.com.
&gt;
&gt; Regards,
&gt; The Cloudflare Team</p>

<p>第二次只是修改了业务类目为VPS还是拒绝，但是时间花了将近5天才回复。</p>

<p>拒绝的原因还是一样，估计是我这个域名没有写有关主机相关的内容吧，后来看到其他人说可以通过反代一个VPS博客就可以，于是就换了一个com域名反代了一个主机博客。申请后大概过了一天回信通过。</p>

<pre><code>[Cloudflare] Partnership Application Approved for XXX

Congratulations - you've been approved for Cloudflare's Certified Partner Program!

Follow these four steps to get up and running:


Step 1: Log into the Cloudflare Partner Portal

Set Your Password: https://partners.cloudflare.com/reset-password/XXXX

In the partner portal, you will be able to manage your and your customers' services with Cloudflare as well as use it as a central source of news and information about Cloudflare.


Step 2: Integrate your control panels, billing system, or online store

To make it easy for your customers to sign up, Cloudflare offers several options to make this easy. We have pre-created plugins for popular control panel systems like cPanel, Parallels Plesk Panel, Interworx, and ISPsystem. For other systems or for custom systems, Cloudflare offers a documented Host API with which you can integrate. 

Plugin downloads, your Host API access key, and many other resources can be found in the Cloudflare Partner Portal at: https://partners.cloudflare.com


Step 3: Preserve Original Visitor IP in Log Files

All requests to a Cloudflare protected website will come from the Cloudflare IP address ranges: http://www.cloudflare.com/ips

DO NOT THROTTLE OR RATE-LIMIT these IP addresses, or your customers' website visitors will see a &quot;Website Offline&quot; page.

Cloudflare passes the original visitor IP address in the header of every request. To retrieve the original visitor IP from the header, install the appropriate software on your server, you can find download links in the Cloudflare Partner Portal at https://partners.cloudflare.com. (Note: If you use the cPanel plugin and are running Apache, the visitor IP software will automatically be installed).


Step 4: Enable Cloudflare for Three Test Websites

To ensure that Cloudflare was properly installed, enable Cloudflare for three test websites from your control panel.

To check if a website is on Cloudflare, use Terminal. Open Terminal, and enter the following dig command.

    dig www.mydomain.com

Output without Cloudflare-enabled:

    www.mydomain.com   10782   IN   CNAME      www.mydomain.com

Output with Cloudflare-enabled:

    www.mydomain.com    10782  IN           CNAME   www.mydomain.com.cdn.cloudflare.net.

If you see '.cdn.cloudflare.net' at the end, then Cloudflare is enabled.


Understanding How Cloudflare Integrates:
- The plugins and API provision Cloudflare via delegating CNAMEs. Your customers continue to point their domain to your authoritative DNS servers. You do the delegation for them via the plugins or API. Note: this is different than websites that sign up at cloudflare.com directly.
- Since Cloudflare works through CNAMEs, Cloudflare cannot be enabled on the root domain, which is an A record. If your customer wants to use Cloudflare to accelerate and protect traffic going to the root domain, they must add a redirect in the .htaccess file to 'www'.
- As a reference, here is one example:

    RewriteEngine On
    # Rewrite added for CloudflareInstall - mysite.com
    # Wednesday 25th of August 2010 04:59:42 AM
    RewriteCond %{HTTP_HOST} ^mysite.com$ [NC]
    RewriteCond %{SERVER_PORT} ^80$
    RewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,L]


Support Options:
- Partner Technical Support: submit a question here: https://support.cloudflare.com/anonymous_requests/new
    (Note: select &quot;Hosting Partners - Certified&quot; in the dropdown menu)
- Other: email partners@cloudflare.com


Once you have installed Cloudflare and enabled three test websites, within 24 hours you will receive an email outlining next steps and a Launch Plan. We look forward to getting you up and running as a Certified Partner.


Thanks!
The Cloudflare Team
</code></pre>

<h3 id="注意点">注意点</h3>

<p>看了一些人的申请攻略，总结了以下几点
1. 申请表填写的内容全部为英文，用中文填写会导致对方看不懂而拒绝申请。
2. 业务类型选择VPS/服务器
3. 内容要和VPS/服务器有关，如果你是主机推介博客，那就可以了，没有的话可以把你的域名反代一个主机推介博客。
4. 邮箱需要企业邮箱。就是name@yourdomainname.com这种格式的。有人说用国内企业邮箱会导致收不到信，国内企业邮箱服务的确有这种可能信，但是我这次用的是QQ域名邮箱和腾讯企业邮箱都可以正常接收到邮件。
5. 关于申请理由，可填可不填，有些人说可以填写国内网络登录CloudFlare不稳定，因为客户需求，所以申请。但是我这次没填写也通过了。</p>

<h2 id="申请通过后的步骤">申请通过后的步骤</h2>

<p>通过邮件通知你申请被批准后，需要留意邮件中的链接，
&gt; Step 1: Log into the Cloudflare Partner Portal
&gt;
&gt; Set Your Password: <a href="https://partners.cloudflare.com/reset-password/XXXX" rel="nofollow noreferrer" target="_blank">https://partners.cloudflare.com/reset-password/XXXX</a></p>

<p>第一步就是让你点击链接进去修改密码。
接着登录进去后会让你填写问卷调查。</p>

<p>填完点击下一步，就会显示你的CloudFlare Partner API，再返回到主页，你就可以看到Cloudflare Partner后台了。</p>

<h2 id="使用cloudflare-partner部署域名">使用Cloudflare Partner部署域名</h2>

<p>有几种办法来通过Cloudflare Partner来部署解析域名。</p>

<h3 id="自用的情况">自用的情况</h3>

<p>通过Cloudflare Partner CLI来管理
<a href="https://github.com/fffonion/cloudflare-partner-cli" rel="nofollow noreferrer" target="_blank">https://github.com/fffonion/cloudflare-partner-cli</a></p>

<h3 id="使用他人搭建的面板">使用他人搭建的面板</h3>

<p>我也用Cloudflare-CNAME-Setup搭建了一个<br />
<a href="https://cl.guosao.com" rel="nofollow noreferrer" target="_blank">https://cl.guosao.com</a></p>

<h3 id="开源代码搭建面板">开源代码搭建面板</h3>

<p>WeiUZ CloudFlare Partners PHP版本
<a href="https://github.com/mphreys/WeiUZ" rel="nofollow noreferrer" target="_blank">https://github.com/mphreys/WeiUZ</a></p>

<p>SonicBreaker
<a href="https://github.com/AxelPanda/SonicBreaker/" rel="nofollow noreferrer" target="_blank">https://github.com/AxelPanda/SonicBreaker/</a></p>

<p>CFPMP
<a href="https://github.com/Netrvin/CFPMP" rel="nofollow noreferrer" target="_blank">https://github.com/Netrvin/CFPMP</a></p>

<p>CloudFlare partner website with python and flask
<a href="https://github.com/luodaoyi/CloudFlarePartner" rel="nofollow noreferrer" target="_blank">https://github.com/luodaoyi/CloudFlarePartner</a></p>

<p>Cloudflare Partner Panel
<a href="https://github.com/ZE3kr/Cloudflare-CNAME-Setup" rel="nofollow noreferrer" target="_blank">https://github.com/ZE3kr/Cloudflare-CNAME-Setup</a></p>

<h2 id="参考">参考</h2>

<h2 id="https-wzfou-com-cloudflare-partner"><a href="https://wzfou.com/cloudflare-partner/" rel="nofollow noreferrer" target="_blank">https://wzfou.com/cloudflare-partner/</a></h2>

<p>title: Disqus提示无法加载的解决办法
tags: [Disqus]
date: 2018-11-25
categories: [技术记录]
url: /technology/disqus-error-to-load
keywords: Disqus,无法加载</p>

<h2 id="description-前两天搭了一个新的hexo博客-使用的是disqus评论系统-但是在设置上出现问题-导致一直无法加载-在查询了一番-才解决了这个问题-本文记录了disqus提示无法加载-如果您是管理员-请参阅故障排除指南-的解决办法">description: 前两天搭了一个新的Hexo博客，使用的是Disqus评论系统，但是在设置上出现问题，导致一直无法加载，在查询了一番，才解决了这个问题，本文记录了Disqus提示无法加载。如果您是管理员，请参阅故障排除指南。的解决办法。</h2>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/HTB1c6O0X6vuK1Rjy0Faq6x2aVXaB.jpg" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<!--more-->

<h3 id="错误提示">错误提示：</h3>

<p>Disqus 无法加载。如果您是管理员，请参阅故障排除指南。</p>

<p>We were unable to load Disqus. If you are a moderator please see our troubleshooting guide.</p>

<h3 id="解决方法-2">解决方法：</h3>

<p>在hexo中的根目录下的_config.yml文件中，这段代码：</p>

<pre><code class="language-json"># URL
## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'
url: https://www.nihoncard.com
root: /
permalink: :category/:title.html
permalink_defaults:
</code></pre>

<p>url: 处需要设置为带http的完整的链接。我原来写的是<code>/</code>就会出现以上错误。改了之后就好了。</p>

<h3 id="参考-1">参考：</h3>

<h2 id="https-www-jianshu-com-p-edcc22f6cf33"><a href="https://www.jianshu.com/p/edcc22f6cf33" rel="nofollow noreferrer" target="_blank">https://www.jianshu.com/p/edcc22f6cf33</a></h2>

<p>title: 手滑导致设置git remote仓库错误 如何修改远程仓库地址配置
tags: [git]
date: 2019-02-02
lastmod: 2019-04-02
categories: [技术记录]
url: /technology/change-git-remote-config
keywords: git,远程仓库</p>

<h2 id="description-本文记录了如何修改git-remote配置的远程仓库地址-在不小心设置错误git-remote地址时可以用这个方法修改为正确的远程仓库地址配置">description: 本文记录了如何修改git remote配置的远程仓库地址。在不小心设置错误git remote地址时可以用这个方法修改为正确的远程仓库地址配置。</h2>

<p>本文记录了如何修改git remote配置的远程仓库地址。在不小心设置错误git remote地址时可以用这个方法修改为正确的远程仓库地址配置。<!--more--></p>

<h2 id="背景-10">背景</h2>

<p>在同步github仓库的时候手滑了导致设置的git remote地址出错了。然后又添加了一下提示错误。
记录一下如何修改</p>

<p>在指定远程仓库的时候输入错误导致设置了错误的远程仓库，直接重新用下面的命令会提示错误</p>

<pre><code>$ git remote add origin git@github.com:github帐号名/仓库名.git
</code></pre>

<p>提示已经存在的出错信息：</p>

<pre><code>fatal: remote origin already exists.
</code></pre>

<h2 id="解决办法-3">解决办法</h2>

<pre><code># 删除错误的远程仓库配置
$ git remote rm origin
</code></pre>

<pre><code># 重新输入正确的远程仓库配置
$ git remote add origin git@github.com:github帐号名/仓库名.git
</code></pre>

<p>就不会提示已经存在的错误了</p>

<p>但是如果输入<code>$ git remote rm origin</code> 还是报错<code>error: Could not remove config section 'remote.origin'.</code>的话，就需要修改gitconfig文件的内容。</p>

<p>到你的github的安装路径下的etc文件夹，找到一个名为gitconfig的文件，打开它把里面的[remote &ldquo;origin&rdquo;]那一行删除就可以了。</p>

<hr />

<p>参考来源：<a href="https://blog.csdn.net/dengjianqiang2011/article/details/9260435" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/dengjianqiang2011/article/details/9260435</a></p>

<hr />

<p>title: &ldquo;Hugo添加Valine评论系统 以LeaveIt主题为例&rdquo;
date: 2019-04-19T09:56:14+09:00
lastmod: 2019-04-19T09:56:14+09:00
draft: false
keywords: [Hugo,Valine,评论系统,LeaveIt主题]
description: &ldquo;本文记录了如何给Hugo的主题LeaveIt添加Valine评论系统。&rdquo;
tags: [Hugo,Valine]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/valine-to-hugo-with-leaveit&rdquo;
featured_image:</p>

<h1 id="you-can-also-close-false-or-open-true-something-for-this-content">You can also close(false) or open(true) something for this content.</h1>

<h1 id="p-s-comment-can-only-be-closed">P.S. comment can only be closed</h1>

<p>comment: true
toc: true
autoCollapseToc: false</p>

<h1 id="you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</h1>

<p>contentCopyright: false
reward: false</p>

<h2 id="mathjax-false">mathjax: false</h2>

<p>最近将博客的生成器由Hexo转回到Hugo了，在这之后选了一些主题，试过Even,Jane,mainroad等等，最后还是选了v2上有人发布的这个LeaveIt主题。主要是因为这个主题简洁又不缺乏华丽的感觉。不过有点不足的是这个主题并不能直接用评论系统，在查看了相关教程之后，终于添加了原来使用的Valine评论系统。
<!--more--></p>

<p>今天参考了Even主题和Jane主题的源码，并且看了@5km的教程，尝试了好久，一直无法添加成功，最后在该教程的评论区，有其他人请教了和我一样的主题的问题，最后通过@5km的解答，终于成功实现了Valine评论系统的添加。</p>

<h2 id="方法1-只加入valine">方法1：只加入Valine</h2>

<p>由于LeaveIt主题并没有自带任何一个评论系统，所以如果只要Valine评论就直接修改下面文件即可。</p>

<h3 id="修改站点配置文件">修改站点配置文件</h3>

<p>首先先在站点的配置文件<code>config.toml</code>里面添加下面的配置。</p>

<pre><code class="language-toml">  # Valine.
  # You can get your appid and appkey from https://leancloud.cn
  # more info please open https://valine.js.org
  [params.valine]
    enable = true #开关
    appId = '你的appId'
    appKey = '你的appKey'
    notify = false  # mail notifier , https://github.com/xCss/Valine/wiki
    verify = false # Verification code
    avatar = 'mp' #神秘人(一个灰白头像) 
    placeholder = '说点什么吧...' #在评论框显示的温馨提示等
    visitor = true #访问量统计
</code></pre>

<h3 id="2-主题的文章页模板添加valine">2.主题的文章页模板添加Valine</h3>

<p>另外在LeaveIt的主题下的 <code>layouts/_default/single.html</code> 找到第97行的 <code>&lt;div class=&quot;post-comment&quot;&gt;</code> 代码块中的判断Disqus略称后的 <code>{{ end }}</code> 后面，插入Valine代码，插入后的效果如下：</p>

<pre><code class="language-html"> &lt;div class=&quot;post-comment&quot;&gt;
       {{ if ( .Params.showComments | default true ) }}
             {{ if ne .Site.DisqusShortname &quot;&quot; }}
                 {{ template &quot;_internal/disqus.html&quot; . }}
             {{ end }}
             &lt;!-- valine --&gt;
             {{- if .Site.Params.valine.enable -}}
             &lt;!-- id 将作为查询条件 --&gt;
             &lt;span id=&quot;{{ .URL | relURL }}&quot; class=&quot;leancloud_visitors&quot; data-flag-title=&quot;{{ .Title }}&quot;&gt;
                 &lt;span class=&quot;post-meta-item-text&quot;&gt;访问量 &lt;/span&gt;
                 &lt;span class=&quot;leancloud-visitors-count&quot;&gt;&lt;/span&gt;
                 &lt;p&gt;&lt;/p&gt;
             &lt;/span&gt;
             &lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
             &lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt;
             &lt;script src='//unpkg.com/valine/dist/Valine.min.js'&gt;&lt;/script&gt;
             &lt;script type=&quot;text/javascript&quot;&gt;
                 new Valine({
                     el: '#vcomments' ,
                     appId: '{{ .Site.Params.valine.appId }}',
                     appKey: '{{ .Site.Params.valine.appKey }}',
                     notify: {{ .Site.Params.valine.notify }},
                     verify: {{ .Site.Params.valine.verify }},
                     avatar:'{{ .Site.Params.valine.avatar }}',
                     placeholder: '{{ .Site.Params.valine.placeholder }}',
                     visitor: {{ .Site.Params.valine.visitor }}
                 });
             &lt;/script&gt;
             {{- end }}
       {{ end }}
 &lt;/div&gt;
</code></pre>

<p>其实这样已经可以实现了。回到博客文章下方就可以看到已经显示出来了。当然前提是你已经配置好过Valine了，就是在Leancloud上注册等等。相关可以查看<a href="https://valine.js.org/quickstart.html" title="Valine官方文档" rel="nofollow noreferrer" target="_blank">Valine官方文档</a>。
<figure><img src="/images/ring.svg" data-src="https://ww1.sinaimg.cn/large/007i4MEmgy1g27o6azai0j30m30dzweo.jpg" data-sizes="auto" alt="Valine已经可以用了" title="Valine已经可以用了" class="lazyload"><figcaption class="image-caption">Valine已经可以用了</figcaption></figure></p>

<h2 id="方法2-同时加入多个评论系统的配置">方法2：同时加入多个评论系统的配置</h2>

<p>这样是很多主题的做法，为了方便切换评论系统直接内置多个评论系统，这样做的话可以直接在站点配置文件里面修改即可使用。</p>

<h3 id="1-主题模板下新建comments-html">1.主题模板下新建comments.html</h3>

<p>在LeaveIt主题的/themes/LeaveIt/layouts/partials下新建comments.html模板（如有，则不需新建，直接修改内容即可。）在comments.html里面添加下面的内容。</p>

<pre><code class="language-html">{{ if and .IsPage (ne .Params.comment false) -}}
  &lt;!-- valine --&gt;
  {{- if .Site.Params.valine.enable -}}
  &lt;!-- id 将作为查询条件 --&gt;
  &lt;span id=&quot;{{ .URL | relURL }}&quot; class=&quot;leancloud_visitors&quot; data-flag-title=&quot;{{ .Title }}&quot;&gt;
    &lt;span class=&quot;post-meta-item-text&quot;&gt;阅读量 &lt;/span&gt;
    &lt;span class=&quot;leancloud-visitors-count&quot;&gt;&lt;/span&gt;
    &lt;p&gt;&lt;/p&gt;
  &lt;/span&gt;
  &lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
  &lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt;
  &lt;script src='//unpkg.com/valine/dist/Valine.min.js'&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    new Valine({
        el: '#vcomments' ,
        appId: '{{ .Site.Params.valine.appId }}',
        appKey: '{{ .Site.Params.valine.appKey }}',
        notify: {{ .Site.Params.valine.notify }}, 
        verify: {{ .Site.Params.valine.verify }}, 
        avatar:'{{ .Site.Params.valine.avatar }}', 
        placeholder: '{{ .Site.Params.valine.placeholder }}',
        visitor: '{{ .Site.Params.valine.visitor }}'
    });
  &lt;/script&gt;
  {{- end }}

  &lt;!-- Disqus --&gt;
  {{- if .Site.DisqusShortname -}}
    &lt;div id=&quot;disqus_thread&quot;&gt;&lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    (function() {
      // Don't ever inject Disqus on localhost--it creates unwanted
      // discussions from 'localhost:1313' on your Disqus account...
      if (window.location.hostname === 'localhost') return;
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = '{{ .Site.DisqusShortname }}';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    &lt;/script&gt;
    &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;http://disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;
  {{- end -}}

  &lt;!-- changyan --&gt;
  {{- if and .Site.Params.changyanAppid .Site.Params.changyanAppkey -}}
    &lt;div id=&quot;SOHUCS&quot; sid=&quot;{{ .URL }}&quot;&gt;&lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    (function(){
      if (window.location.hostname === 'localhost') return;
      var appid = '{{ .Site.Params.changyanAppid }}';
      var conf = '{{ .Site.Params.changyanAppkey }}';
      var width = window.innerWidth || document.documentElement.clientWidth; 
      if (width &lt; 960) {window.document.write('&lt;script id=&quot;changyan_mobile_js&quot; charset=&quot;utf-8&quot; type=&quot;text/javascript&quot; src=&quot;https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&amp;conf=' + conf + '&quot;&gt;&lt;\/script&gt;'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName(&quot;head&quot;)[0]||document.head||document.documentElement;var b=document.createElement(&quot;script&quot;);b.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;);b.setAttribute(&quot;charset&quot;,&quot;UTF-8&quot;);b.setAttribute(&quot;src&quot;,d);if(typeof a===&quot;function&quot;){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e===&quot;loaded&quot;||e===&quot;complete&quot;){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs(&quot;https://changyan.sohu.com/upload/changyan.js&quot;,function(){window.changyan.api.config({appid:appid,conf:conf})}); }
    })();
    &lt;/script&gt;
  {{- end -}}

  &lt;!-- LiveRe --&gt;
  {{- if .Site.Params.livereUID -}}
    &lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;{{ .Site.Params.livereUID }}&quot;&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    &lt;/script&gt;
    &lt;noscript&gt;Please enable JavaScript to view the comments powered by &lt;a href=&quot;https://livere.com/&quot;&gt;LiveRe.&lt;/a&gt;&lt;/noscript&gt;
    &lt;/div&gt;
  {{- end -}}

  &lt;!-- gitment --&gt;
  {{- if .Site.Params.gitment.owner -}}
    &lt;div id=&quot;comments-gitment&quot;&gt;&lt;/div&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.min.css&quot; crossorigin=&quot;anonymous&quot;&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/gitment@0.0.3/dist/gitment.browser.min.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      var gitment = new Gitment({
        id: '{{ .Date }}',
        title: '{{ .Title }}',
        link: decodeURI(location.href),
        desc: '{{ .Summary }}',
        owner: '{{ .Site.Params.gitment.owner }}',
        repo: '{{ .Site.Params.gitment.repo }}',
        oauth: {
          client_id: '{{ .Site.Params.gitment.clientId }}',
          client_secret: '{{ .Site.Params.gitment.clientSecret }}'
        }
      });
      gitment.render('comments-gitment');
    &lt;/script&gt;
    &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;https://github.com/imsun/gitment&quot;&gt;comments powered by gitment.&lt;/a&gt;&lt;/noscript&gt;
  {{- end -}}

  &lt;!-- gitalk --&gt;
  {{- if .Site.Params.gitalk.owner -}}
    &lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot; crossorigin=&quot;anonymous&quot;&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      var gitalk = new Gitalk({
        id: '{{ .Date }}',
        title: '{{ .Title }}',
        clientID: '{{ .Site.Params.gitalk.clientId }}',
        clientSecret: '{{ .Site.Params.gitalk.clientSecret }}',
        repo: '{{ .Site.Params.gitalk.repo }}',
        owner: '{{ .Site.Params.gitalk.owner }}',
        admin: ['{{ .Site.Params.gitalk.owner }}'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    &lt;/script&gt;
    &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;https://github.com/gitalk/gitalk&quot;&gt;comments powered by gitalk.&lt;/a&gt;&lt;/noscript&gt;
  {{- end }}

{{- end }}

</code></pre>

<h3 id="2-在文章页模板中调用上面新建的评论模板">2.在文章页模板中调用上面新建的评论模板</h3>

<p>例如本站用的LeaveIt主题是在<code>layouts/_default/single.html</code> 找到第97行的<code>&lt;div class=&quot;post-comment&quot;&gt;</code> 代码块中的判断Disqus略称后的 <code>{{ end }}</code>后面，插入调用代码。</p>

<pre><code class="language-html">{{ partial &quot;comments.html&quot; . }}
</code></pre>

<p>其实就是方法1的第二步，只是方法一是直接将评论代码加到文章页模板中，而这个是将评论代码统统放在comments.html模板下，再在文章页模板通过代码调用这个comments.html，只要站点配置文件config.toml里面存在相关开关配置，则评论系统就会被正常调用。</p>

<p>方法二参考的是其他的主题Even等，Valine评论系统是可以正常被调用，但是其他的没有测试过。</p>

<h2 id="参考来源-1">参考来源</h2>

<p><a href="https://www.smslit.top/2018/07/08/hugo-valine/" title="hugo博客添加评论系统Valine" rel="nofollow noreferrer" target="_blank">hugo博客添加评论系统Valine</a></p>

<p><a href="https://valine.js.org/quickstart.html" title="Valine官方文档" rel="nofollow noreferrer" target="_blank">Valine官方文档</a>&mdash;
title: &ldquo;一键备份博客源文件与发布文章到Github和Coding&rdquo;
date: 2019-07-25T14:58:47+08:00
lastmod: 2019-07-25T14:58:47+08:00
draft: false
keywords: [coding-pages,github,coding,博客]
description: &ldquo;利用shell脚本来实现更新文章后的一键备份博客源文件及发布文章到Github和Coding两个平台&rdquo;
tags: [coding-pages,github]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/one-click-script-deploy-hugo&rdquo;
featured_image:</p>

<h1 id="you-can-also-close-false-or-open-true-something-for-this-content-1">You can also close(false) or open(true) something for this content.</h1>

<h1 id="p-s-comment-can-only-be-closed-1">P.S. comment can only be closed</h1>

<p>comment: true
toc: true
autoCollapseToc: false</p>

<h1 id="you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-1">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</h1>

<p>contentCopyright: false
reward: false</p>

<h2 id="mathjax-false-1">mathjax: false</h2>

<h2 id="背景-11">背景</h2>

<p>经过一番折腾，利用shell脚本来实现更新文章后的一键备份博客源文件及发布文章到Github和Coding两个平台。
<!--more--></p>

<p>在服务器博客主目录下新建一个文件，名为deploy.sh，将下面的脚本代码复制到新建的deploy.sh文件内。</p>

<pre><code class="language-bash">[root@host huaien.co]# touch deploy.sh
[root@host huaien.co]# vi deploy.sh

</code></pre>

<p>原先的版本是这样的</p>

<pre><code class="language-bash">#!/bin/bash
echo &quot;............................&quot;
echo &quot;.开始执行文章发布更新与同步.&quot;
echo &quot;............................&quot;

echo &quot;进入博客主目录 /www/wwwroot/blog/huaien.co&quot;
cd /www/wwwroot/blog/huaien.co

echo &quot;检测上级目录tmp是否已有今日日期的目录，如有，改名为今日日期时分秒&quot;
mv ../tmp/$(date +%Y%m%d)/ ../tmp/$(date +%Y%m%d%H%M%S)/

echo &quot;在上级目录的tmp/下新建今日日期的目录&quot;
mkdir ../tmp/$(date +%Y%m%d)/
mkdir ../tmp/$(date +%Y%m%d)/huaien.co/

echo &quot;备份博客主目录下的.git目录至上级目录的tmp/今日日期/huaien.co/&quot;
cp -rv .git deploy_backupblog.sh deploy config.toml ../tmp/$(date +%Y%m%d)/huaien.co/

echo &quot;备份移动当前以后public目录至上级目录的tmp/今日日期/public/&quot;
mv -v public ../tmp/$(date +%Y%m%d)/public

echo &quot;生成博客内容 #会在博客主目录下生成public目录&quot;
hugo

echo &quot;复制备份好的原public目录下的.git目录至新生成的public目录下&quot;
cp -rv ../tmp/$(date +%Y%m%d)/public/.git ../tmp/$(date +%Y%m%d)/public/CNAME ../tmp/$(date +%Y%m%d)/public/deploy_public.sh  public/

echo &quot;进入public目录&quot;
cd public

echo &quot;-----------------开始将public同步到github和coding仓库---------------------&quot;
git add .
git commit -m &quot;更新博客&quot;
git push -u github master
echo &quot;同步到github仓库完成...&quot;
git push -u coding master
echo &quot;同步到coding仓库完成...&quot;

echo &quot;--------------------------同步public到仓库结束----------------------------&quot;
echo &quot;进入博客主目录&quot;
cd ..
echo &quot;复制原备份文件.git deploy_backupblog.sh config.toml到博客主目录&quot;
cp -rv ../tmp/$(date +%Y%m%d)/huaien.co/.git ../tmp/$(date +%Y%m%d)/huaien.co/deploy_backupblog.sh ../tmp/$(date +%Y%m%d)/huaien.co/config.toml ../tmp/$(date +%Y%m%d)/huaien.co/deploy ./
echo &quot;-----------------开始同步备份博客主目录到github和coding仓库----------------&quot;
git add .
git commit -m &quot;备份博客&quot;
git push -u github master
echo &quot;同步到github仓库完成...&quot;
git push -u coding master
echo &quot;同步到coding仓库完成...&quot;
echo &quot;-------------------------同步博客主目录到仓库结束---------------------------&quot;

echo &quot;................................&quot;
echo &quot;.文章发布更新与同步备份博客结束.&quot;
echo &quot;................................&quot;

</code></pre>

<p>由于上面这个需要转移.git文件夹等造成效率降低，所以将.git文件夹的备份改为删除除.git文件夹等以外的文件及文件夹。</p>

<pre><code class="language-bash">#!/bin/bash
echo &quot;............................&quot;
echo &quot;.开始执行文章发布更新与同步.&quot;
echo &quot;............................&quot;

echo &quot;进入博客的public目录 /www/wwwroot/blog/huaien.co/public&quot;
cd /www/wwwroot/blog/huaien.co/public

echo &quot;删除.git,deploy_public.sh以外的文件夹与文件&quot;
ls -a| egrep -v '^.git|deploy_public.sh$' |xargs rm -r

echo &quot;进入博客程序主目录&quot;
cd ..

echo &quot;生成博客内容 #会在博客主目录下生成public目录&quot;
hugo

echo &quot;进入博客的public目录&quot;
cd public

echo &quot;-----------------开始将public同步到github和coding仓库---------------------&quot;
git add .
git commit -m &quot;更新博客&quot;
git push -u github master
echo &quot;同步到github仓库完成...&quot;
git push -u coding master
echo &quot;同步到coding仓库完成...&quot;

echo &quot;--------------------------同步public到仓库结束----------------------------&quot;
echo &quot;进入博客主目录&quot;
cd ..

echo &quot;-----------------开始同步备份博客主目录到github和coding仓库----------------&quot;
git add .
git commit -m &quot;备份博客&quot;
git push -u github master
echo &quot;同步到github仓库完成...&quot;
git push -u coding master
echo &quot;同步到coding仓库完成...&quot;
echo &quot;-------------------------同步博客主目录到仓库结束---------------------------&quot;

echo &quot;................................&quot;
echo &quot;.文章发布更新与同步备份博客结束.&quot;
echo &quot;................................&quot;

</code></pre>

<h2 id="关于双平台同步">关于双平台同步</h2>

<p>如何同时同步到Github和Coding平台呢？之前用Hexo的时候都是直接用Hexo的Hexo-deploy插件来同时部署到Github和Coding双平台。但是现在换到Hugo后，都是直接通过修改git的config配置文件来直接部署到相关平台。</p>

<p>步骤如下</p>

<h3 id="1-初始化git">1. 初始化git</h3>

<p>在博客的源文件目录和public目录下分别执行下面的 命令以初始化git</p>

<pre><code class="language-bash">git init
</code></pre>

<h3 id="2-修改-git文件夹下的config配置文件">2. 修改.git文件夹下的config配置文件</h3>

<p>分别修改博客的源文件目录和public目录下生成的.ggit目录下的config配置文件</p>

<p>附上本博客的配置示例</p>

<h4 id="博客源文件目录下">博客源文件目录下</h4>

<pre><code class="language-yaml">[core]
	repositoryformatversion = 0
	filemode = true
	bare = false
	logallrefupdates = true
[remote &quot;github&quot;]
	url = git@github.com:HuaienYao/hugo-blog-backup.git
	fetch = +refs/heads/*:refs/remotes/github/*
[branch &quot;master&quot;]
	remote = github
    remote = coding
	merge = refs/heads/master
[remote &quot;coding&quot;]
	url = git@git.dev.tencent.com:Wyane/hugoblogbackup.git
	fetch = +refs/heads/*:refs/remotes/coding/*

[submodule &quot;themes/hugo-swift-theme&quot;]
	url = https://github.com/onweru/hugo-swift-theme.git
</code></pre>

<h4 id="public目录下">public目录下</h4>

<pre><code class="language-yaml">[core]
	repositoryformatversion = 0
	filemode = true
	bare = false
	logallrefupdates = true
[remote &quot;coding&quot;]
	url = git@git.dev.tencent.com:Wyane/Hugoblog.git
	fetch = +refs/heads/*:refs/remotes/coding/*
[branch &quot;master&quot;]
	remote = coding
    remote = github
	merge = refs/heads/master
[remote &quot;github&quot;]
	url = git@github.com:HuaienYao/HuaienYao.github.io.git
	fetch = +refs/heads/*:refs/remotes/github/*

</code></pre>

<h3 id="3-测试一下">3. 测试一下</h3>

<p>可以通过执行上面最初的一键部署脚本来测试下部署是否可以成功，当然在这前你必须得在相关平台上添加好SSH公钥。
具体可以参考下面
<a href="https://huaien.co/technology/ssh-key-generator-git/" rel="nofollow noreferrer" target="_blank">Git生成 SSH 公钥添加到GitHub和Coding.net</a></p>

<p>如果测试没问题就可以使用上面的一键部署脚本来部署博客了，不过也可以用手动输入git命令来同步部署。</p>

<hr />

<p>title: &ldquo;Hugo的LeaveIt主题优化记录一-修复错位，添加toc&rdquo;
date: 2019-07-29T07:42:33Z
lastmod: 2019-07-29T07:42:33Z
draft: false
keywords: [Hugo,博客程序,LeaveIt主题,Hugo主题,静态页面生成]
description: &ldquo;本博客正在使用的是Hugo的LeaveIt主题，但是有着着各种问题，这里记录了使用过程中的优化记录包括修复文章页标签处的错位和添加toc目录导航等&rdquo;
tags: [Hugo,博客程序]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/hugo-leaveit-theme-modified-of-bugs-1&rdquo;
featured_image:</p>

<hr />

<h2 id="标签处的back-home按钮位置错位">标签处的back・home按钮位置错位</h2>

<p>这个问题我现在才发现，原来是因为这个主题在生成静态文件的时候需要sass编译。难怪我每次修改<code>/themes/LeaveIt/assets/css/</code>下面的样式总不见效果。后来一直直接修改的站点目录下的/resources/_gen/assets/scss/css/XXX.content文件才会看到修改的效果。直到今天，我发现原来普通版本的hugo是不支持sass编译的，查看了这个<a href="https://github.com/liuzc/LeaveIt/issues/14/" rel="nofollow noreferrer" target="_blank">#14 Issue</a>才知道原来要用hugo extended版本才可以编译sass。
可以从<a href="https://github.com/gohugoio/hugo/releases/" rel="nofollow noreferrer" target="_blank">Hugo Release页面</a>下载该版本。</p>

<h3 id="原因-5">原因</h3>

<p>其实就是<code>/themes/LeaveIt/assets/css/_common/_page/post.scss</code>样式表的<code>.post-tags</code>样式问题，这个文件里的<code>.post-tags</code>样式应该是正常的，如下：</p>

<pre><code class="language-css">    .post-tags {
        padding: 1rem 0 1rem;
        display: flex;
        justify-content: space-between;
    }
</code></pre>

<p>而主题目录自带的<code>LeaveIt/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content</code>里的<code>.post-tags</code>样式却是不一样。</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/H39fd4ba308524a4cb510f832b7753b8fl.jpg" alt="原作者github主题截图" class="lazyload"><figcaption class="image-caption">原作者github主题截图</figcaption></figure></p>

<p><a href="https://github.com/liuzc/LeaveIt/blob/master/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content/" rel="nofollow noreferrer" target="_blank">点此</a>进入相关页面。</p>

<p>原因就在于作者生成的<code>LeaveIt/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content</code>里的<code>.post-tags</code>样式是错误的，正常应该在使用<code>hugo</code>命令生成静态页面的时候会通过sass编译重新生成<code>LeaveIt/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content</code>文件，但是由于我用的版本不是<code>hugo_extend</code>版本，所以每次生成静态页面都导致在 <code>/themes/LeaveIt/assets/css/_common/_page/post.scss</code> 里面修改的都不能更新到<code>LeaveIt/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content</code>所以没有效果。</p>

<h3 id="解决方法-3">解决方法</h3>

<ol>
<li>使用支持sass编译的<a href="https://github.com/gohugoio/hugo/releases//" rel="nofollow noreferrer" target="_blank">hugo extend版本</a>，就可以通过修改<code>/themes/LeaveIt/assets/css/_common/_page/post.scss</code>来实现效果。</li>
<li>使用普通的不支持sass编译的hugo版本，这样需要直接修改<code>LeaveIt/resources/_gen/assets/scss/css/</code>下的.content文件，这样的话修改<code>/themes/LeaveIt/assets/css/</code>下的文件均无法直接反应效果。</li>
<li>使用普通的不支持sass编译的hugo版本，在修改样式后，需要使用sass命令来编译生成一下.content文件，具体可以参考<a href="https://huaien.co/technology/install-ruby-update-on-centos/#延伸阅读" rel="nofollow noreferrer" target="_blank">这里</a></li>
</ol>

<h2 id="文章页添加toc目录支持">文章页添加TOC目录支持</h2>

<p>原版的LeaveIt主题没有很好的支持TOC文章目录导航，但是@<a href="https://github.com/ehlxr/" rel="nofollow noreferrer" target="_blank">ehlxr</a> 在Github提交了<a href="https://github.com/liuzc/LeaveIt/pull/11/commits" rel="nofollow noreferrer" target="_blank">相关pull请求</a> 根据这个成功添加了TOC目录支持。</p>

<p>1，在<code>/themes/LeaveIt/assets/css/_custom.scss</code>中添加下面的toc样式，可以根据自己的喜好自定义修改。</p>

<pre><code class="language-css">.post-toc {
    position: absolute;
    width: 200px;
    margin-left: 780px;
    padding: 10px;
    word-wrap: break-word;
    box-sizing: border-box;

    .post-toc-title {
        margin: 0;
        font-weight: 400;
        text-transform: uppercase;
    }

    .post-toc-content {
        &amp;.always-active ul {
            display: block;
        }

        &gt;nav&gt;ul {
            margin: 10px 0;
        }

        ul {
            padding-left: 0;
            list-style: none;

            ul {
            padding-left: 15px;
            display: none;
            }

            .has-active &gt; ul {
                display: block;
            }
        }
    }

    a:hover {
        color: #c05b4d;
        -webkit-transform: scale(1.1);
        -ms-transform: scale(1.1);
        transform: scale(1.1);
    }

    a {
        display: block;
        line-height: 30px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        -webkit-transition-duration: .2s;
        transition-duration: .2s;
        -webkit-transition-property: -webkit-transform;
        transition-property: -webkit-transform;
        transition-property: transform;
        transition-property: transform,-webkit-transform;
        -webkit-transition-timing-function: ease-out;
        transition-timing-function: ease-out;
    }
}

@media only screen and (max-width: 1224px) {
    .post-toc {
        display: none;
    }
} 
</code></pre>

<p>在<code>/themes/LeaveIt/layouts/partials/</code>下新建<code>toc.html</code>文件，内容为下：</p>

<pre><code class="language-html">&lt;div class=&quot;post-toc&quot; id=&quot;post-toc&quot;&gt;
  &lt;h2 class=&quot;post-toc-title&quot;&gt;{{ T &quot;toc&quot; }}&lt;/h2&gt;
  {{ $globalAutoCollapseToc := .Site.Params.autoCollapseToc | default false }}
  &lt;div class=&quot;post-toc-content{{ if not (or .Params.autoCollapseToc (and $globalAutoCollapseToc (ne .Params.autoCollapseToc false))) }} always-active{{ end }}&quot;&gt;
    {{.TableOfContents}}
  &lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  window.onload = function () {
    var fix = $('.post-toc');
    var end = $('.post-comment');
    var fixTop = fix.offset().top, fixHeight = fix.height();
    var endTop, miss;
    var offsetTop = fix[0].offsetTop;
    $(window).scroll(function () {
      var docTop = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
      if (end.length &gt; 0) {
        endTop = end.offset().top;
        miss = endTop - docTop - fixHeight;
      }
      if (fixTop &lt; docTop) {
        fix.css({ 'position': 'fixed' });
        if ((end.length &gt; 0) &amp;&amp; (endTop &lt; (docTop + fixHeight))) {
          fix.css({ top: miss });
        } else {
          fix.css({ top: 0 });
        }
      } else {
        fix.css({ 'position': 'absolute' });
        fix.css({ top: offsetTop });
      }
    })
  }
&lt;/script&gt; 
</code></pre>

<p>在文章页的模板<code>/themes/LeaveIt/layouts/_default/single.html</code>中 <code>&lt;/header&gt;</code>标签后引入TOC模板</p>

<pre><code class="language-html">	{{ if ( .Site.Params.toc | default true ) }}
          {{ partial &quot;toc.html&quot; . }}
	{{ end }}
</code></pre>

<p>添加后重新使用hugo来生成静态页面，可以在文章页查看到已经有toc目录导航了。当然前提是你得在编辑文章的时候使用到 h1，h2等标题样式。</p>

<p>最后站点的配置文件<code>config.toml</code>添加以下配置</p>

<pre><code class="language-toml">toc = true                # 是否开启目录
autoCollapseToc = true   # Auto expand and collapse toc
</code></pre>

<h2 id="放大文章内图片显示">放大文章内图片显示</h2>

<p>LeaveIt主题内置了LightGallery灯箱效果，所以图片原状态是比较小，需要点击才能放大，但是通过添加下面的代码就可以让图片放大显示，对眼睛舒服点。</p>

<p>在 <code>assets/css/_custom.scss</code> 中添加下面代码</p>

<pre><code class="language-css">	.post-warp .post-content img {
  		max-width: 100%;
}
</code></pre>

<h2 id="相关文章">相关文章</h2>

<ul>
<li><a href="https://huaien.co/technology/valine-to-hugo-with-leaveit/" rel="nofollow noreferrer" target="_blank">Hugo添加Valine评论系统 以LeaveIt主题为例</a></li>
<li><a href="https://huaien.co/technology/install-ruby-update-on-centos/" rel="nofollow noreferrer" target="_blank">Centos下安装和升级Ruby和sass</a></li>
<li><a href="https://mogeko.me/2018/025/" rel="nofollow noreferrer" target="_blank">Leavelt 主题优化</a>
&mdash;
title: &ldquo;Hugo的LeaveIt主题优化记录二-添加字数统计,阅读时间,放大图片&rdquo;
date: 2019-07-31T05:18:22Z
lastmod: 2019-07-31T05:18:22Z
draft: false
keywords: [Hugo,博客程序,LeaveIt主题,Hugo主题,静态页面生成]
description: &ldquo;本博客正在使用的是Hugo的LeaveIt主题，但是有着着各种问题，这里记录了使用过程中的优化记录包括添加字数统计,阅读时间,放大图片等&rdquo;
tags: [Hugo,博客程序]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/hugo-leaveit-theme-update-logs&rdquo;
featured_image:</li>
</ul>

<hr />

<h2 id="添加字数统计-阅读时间">添加字数统计,阅读时间</h2>

<p>原文章标题下的分类目录等的样式是下面图片的样子。图片截图于主题<a href="https://liuzhichao.com/2018/hugo-theme-leaveit/" rel="nofollow noreferrer" target="_blank">原作者博客</a></p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/Hc1715da2ca7c43d9b64791b16b8a97d8I.jpg" alt="截自主题原作者博客" class="lazyload"><figcaption class="image-caption">截自主题原作者博客</figcaption></figure></p>

<p>在添加了字数统计和阅读时间后，将排版改成下面这样：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/H0199dad846c04a20a55014a76bc46759K.jpg" alt="新的样式" class="lazyload"><figcaption class="image-caption">新的样式</figcaption></figure></p>

<p>直接放相关代码</p>

<h3 id="导入font-awesome的cdn地址">导入font awesome的cdn地址</h3>

<p>在主题目录的<code>/LeaveIt/layouts/partials/head.html</code>的 <code>&lt;/head&gt;</code>标签前(为了方便查看建议在原有的  <code>&lt;link&gt;</code>标签后)加入下面代码，以加入font awesome  5.9.0版本为例</p>

<pre><code class="language-html">&lt;link href=&quot;//use.fontawesome.com/releases/v5.9.0/css/all.css&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre>

<h3 id="修改文章页面的排版">修改文章页面的排版</h3>

<p>修改主题目录下的<code>/LeaveIt/layouts/_default/single.html</code>文件，将第7行开始的下面的代码</p>

<pre><code class="language-html">                Written by &lt;a itemprop=&quot;name&quot; href=&quot;{{.Site.BaseURL }}&quot; rel=&quot;author&quot;&gt;{{ if isset .Params &quot;author&quot; }}{{ .Params.author }}{{ else }}{{ .Site.Params.author }}{{ end }}&lt;/a&gt; with ♥ 
                &lt;span class=&quot;post-time&quot;&gt;
                on &lt;time datetime={{.Date.Format (.Site.Params.dateFormatToUse | default &quot;2006-01-02&quot;) }} itemprop=&quot;datePublished&quot;&gt;{{ .Date.Format (.Site.Params.dateFormatToUse | default &quot;January 2, 2006&quot;) }}&lt;/time&gt;
                &lt;/span&gt;
                in
                {{ with .Params.categories -}}
                &lt;i class=&quot;iconfont icon-folder&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;post-category&quot;&gt;
                        {{ range . }}
                        {{- $name := . -}}
                        {{- with $.Site.GetPage &quot;taxonomy&quot; (printf &quot;categories/%s&quot; $name) | default ($.Site.GetPage &quot;taxonomy&quot; (printf &quot;categories/%s&quot; ($name | urlize))) -}}
                          &lt;a href=&quot;{{ .Permalink }}&quot;&gt; {{ $name }} &lt;/a&gt;
                        {{ end -}}
                        {{ end }}
                &lt;/span&gt;
                {{- end }}
</code></pre>

<p>修改为</p>

<pre><code class="language-html">            {{ with .Params.categories -}}
          &lt;i class=&quot;far fa-folder-open&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;post-category&quot;&gt;
                        {{ range . }}
                        {{- $name := . -}}
                        {{- with $.Site.GetPage &quot;taxonomy&quot; (printf &quot;categories/%s&quot; $name) | default ($.Site.GetPage &quot;taxonomy&quot; (printf &quot;categories/%s&quot; ($name | urlize))) -}}
                          &lt;a href=&quot;{{ .Permalink }}&quot;&gt; {{ $name }} &lt;/a&gt;
                        {{ end -}}
                        {{ end }}
                &lt;/span&gt;
            {{- end }}
          &lt;span class=&quot;post-time&quot;&gt;
         &lt;i class=&quot;far fa-calendar-alt&quot;&gt;&lt;/i&gt;  &lt;time datetime={{.Date.Format (.Site.Params.dateFormatToUse | default &quot;2006-01-02&quot;) }} itemprop=&quot;datePublished&quot;&gt;{{ .Date.Format (.Site.Params.dateFormatToUse | default &quot;2006-01-02&quot;) }}&lt;/time&gt;
           &lt;/span&gt;
         &lt;i class=&quot;far fa-file-word&quot;&gt;&lt;/i&gt; &lt;span class=&quot;post-word-count&quot;&gt; {{ .WordCount }} 字&lt;/span&gt;
         &lt;i class=&quot;far fa-clock&quot;&gt;&lt;/i&gt; &lt;span class=&quot;more-meta&quot;&gt; {{ .ReadingTime }} 分钟&lt;/span&gt;
</code></pre>

<p>这样就修改成了上图的排版，添加了字数统计及阅读时间。以及添加了几个font awesome的图标。使得比较简单点。
不过用了字数统计，就需要在站点配置文件config.toml里面添加一个配置，表示网站内容包含中文，日语，韩文。可以更准确的统计字数。(或者在文章的frontmatter内单独添加这个配置应该也行的)</p>

<pre><code>hasCJKLanguage = true
</code></pre>

<h2 id="放大文章内图片显示-1">放大文章内图片显示</h2>

<p>LeaveIt主题内置了LightGallery灯箱效果，所以图片原状态是比较小，需要点击才能放大，但是通过添加下面的代码就可以让图片放大显示，对眼睛舒服点。</p>

<p>在 <code>assets/css/_custom.scss</code> 中添加下面代码</p>

<pre><code class="language-css">	.post-warp .post-content img {
  		max-width: 100%;
}
</code></pre>

<h2 id="相关文章-1">相关文章</h2>

<ul>
<li><a href="https://huaien.co/technology/hugo-leaveit-theme-modified-of-bugs-1/" rel="nofollow noreferrer" target="_blank">Hugo的LeaveIt主题优化记录一-修复错位，添加toc</a></li>
<li><a href="https://huaien.co/technology/valine-to-hugo-with-leaveit/" rel="nofollow noreferrer" target="_blank">Hugo添加Valine评论系统 以LeaveIt主题为例</a></li>
<li><a href="https://huaien.co/technology/install-ruby-update-on-centos/" rel="nofollow noreferrer" target="_blank">Centos下安装和升级Ruby和sass</a></li>
</ul>

<h2 id="参考文章">参考文章</h2>

<ul>
<li><a href="https://mogeko.me/2018/025/" rel="nofollow noreferrer" target="_blank">Leavelt 主题优化</a></li>
</ul>

<hr />

<p>title: &ldquo;Centos安装和升级Ruby和sass&rdquo;
date: 2019-07-31T04:59:52Z
lastmod: 2019-07-31T04:59:52Z
draft: false
keywords: [Centos,Ruby,SASS,Hugo]
description: &ldquo;本文记录了如何在Centos系统下安装和升级Ruby及sass&rdquo;
tags: [Centos,Ruby,SASS,Hugo]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/install-ruby-update-on-centos&rdquo;
featured_image:</p>

<h1 id="you-can-also-close-false-or-open-true-something-for-this-content-2">You can also close(false) or open(true) something for this content.</h1>

<h1 id="p-s-comment-can-only-be-closed-2">P.S. comment can only be closed</h1>

<p>comment: true
toc: true
autoCollapseToc: false</p>

<h1 id="you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-2">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</h1>

<p>contentCopyright: false
reward: false</p>

<h2 id="mathjax-false-2">mathjax: false</h2>

<h2 id="安装ruby">安装Ruby</h2>

<p>Centos下在线安装Ruby,版本可能比较旧</p>

<pre><code class="language-shell">sudo yum install ruby
</code></pre>

<!--more-->

<p>安装完成后可以通过<code>ruby -v</code>来查看版本</p>

<h2 id="rvm升级ruby">RVM升级Ruby</h2>

<p>如果版本太低了，可以听过RVM来升级Ruby</p>

<p>什么是RVM？
&gt; RAM（Ruby Version Manager ）是一款RAM的命令行工具，可以使用RAM轻松安装，管理Ruby版本。RVM包含了Ruby的版本管理和Gem库管理(gemset)</p>

<p>可以通过以下命令来安装RVM</p>

<p>先安装GPG keys:</p>

<pre><code class="language-bash">gpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
</code></pre>

<p>再安装RVM:</p>

<pre><code>\curl -sSL https://get.rvm.io | bash -s stable
</code></pre>

<p>如果需要在安装RVM的同时安装Ruby 和 Rails 的话用下面的命令:</p>

<pre><code class="language-bash">\curl -sSL https://get.rvm.io | bash -s stable --rails
</code></pre>

<p>安装完成后需要更新配置文件，来使其生效</p>

<pre><code class="language-bash">source /etc/profile.d/rvm.sh
</code></pre>

<p>接着可以通过<code>rvm -v</code>来查看RVM版本信息，如果可以代表安装成功。</p>

<pre><code class="language-bash">[root@host ~]# rvm -v
rvm 1.29.9 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
</code></pre>

<p>执行以下命令来查看Ruby版本</p>

<pre><code class="language-bash">rvm list known
</code></pre>

<p>结果如下</p>

<pre><code class="language-bash">[root@host ~]# rvm list known
# MRI Rubies
[ruby-]1.8.6[-p420]
[ruby-]1.8.7[-head] # security released on head
[ruby-]1.9.1[-p431]
[ruby-]1.9.2[-p330]
[ruby-]1.9.3[-p551]
[ruby-]2.0.0[-p648]
[ruby-]2.1[.10]
[ruby-]2.2[.10]
[ruby-]2.3[.8]
[ruby-]2.4[.6]
[ruby-]2.5[.5]
[ruby-]2.6[.3]
[ruby-]2.7[.0-preview1]
ruby-head

# for forks use: rvm install ruby-head-&lt;name&gt; --url https://github.com/githuby.git --branch 2.2

# JRuby
jruby-1.6[.8]
jruby-1.7[.27]
jruby-9.1[.17.0]
jruby[-9.2.7.0]
jruby-head

# Rubinius
rbx-1[.4.3]
rbx-2.3[.0]
rbx-2.4[.1]
rbx-2[.5.8]
rbx-3[.107]
rbx-4[.3]
rbx-head

# TruffleRuby
truffleruby[-19.1.0]

# Opal
opal

# Minimalistic ruby implementation - ISO 30170:2012
mruby-1.0.0
mruby-1.1.0
mruby-1.2.0
mruby-1.3.0
mruby-1[.4.1]
mruby-2[.0.1]
mruby[-head]

# Ruby Enterprise Edition
ree-1.8.6
ree[-1.8.7][-2012.02]

# Topaz
topaz

# MagLev
maglev-1.0.0
maglev-1.1[RC1]
maglev[-1.2Alpha4]
maglev-head

# Mac OS X Snow Leopard Or Newer
macruby-0.10
macruby-0.11
macruby[-0.12]
macruby-nightly
macruby-head

# IronRuby
ironruby[-1.1.3]
ironruby-head
</code></pre>

<p>然后就可以通过下面的命令来安装指定版本的Ruby，例如Ruby2.5</p>

<pre><code class="language-bash">rvm install 2.5

</code></pre>

<p>安装后可以通过下面的命令来检测是否安装成功</p>

<pre><code class="language-bash">[root@host ~]# ruby -v
ruby 2.5.5p157 (2019-03-15 revision 67260) [i686-linux]
</code></pre>

<h2 id="添加ruby仓库">添加ruby仓库</h2>

<p>如何添加ruby仓库</p>

<p>添加aliyun镜像并检测Ruby版本</p>

<pre><code class="language-bash">gem sources -a http://mirrors.aliyun.com/rubygems/ 
</code></pre>

<p>使用rvm安装发现下载缓慢，可以考虑删除原来的仓库地址，只保留阿里云镜像。</p>

<pre><code class="language-bash">gem sources --remove https://rubygems.org/
</code></pre>

<h2 id="延伸阅读">延伸阅读</h2>

<p>为什么要安装Ruby呢？因为Hugo的这个LeaveIt主题有用到sass编译，但是sass编译需要安装sass，</p>

<p>因为以上安装了Ruby，所以可以通过 gem安装sass。</p>

<pre><code class="language-bash">gem install sass
</code></pre>

<p>安装完成后用命令查看版本，看是否安装成功</p>

<pre><code class="language-bash">[root@host ~]# sass -v
Ruby Sass 3.7.4
</code></pre>

<p>显示sass安装成功后，我们每次在修改了LeaveIt主题的样式后都需要执行下面的命令，不然修改的样式没有变化。</p>

<pre><code class="language-bash">sass --style compressed [Leacelt 目录]/assets/css/main.scss:[Leacelt 目录]/resources/_gen/assets/scss/css/main.scss_b95b077eb505d5c0aff8055eaced30ad.content
</code></pre>

<p>需要替换上面的<code>[Leacelt 目录]</code>，命令执行后就会在LeaveIt主题目录下的<code>/resources/_gen/assets/scss/css/</code>下更新<code>.content文件</code>。</p>

<p>其实还有另一种方法，你可以直接使用Hugo提供的hugo_extended版本就可以直接编译sass了，不需要另外执行sass编译命令。         可以参考<a href="https://huaien.co/technology/hugo-leaveit-theme-modified-of-bugs-1/#%E5%8E%9F%E5%9B%A0/" rel="nofollow noreferrer" target="_blank">这里</a></p>

<h2 id="相关文章-2">相关文章</h2>

<ul>
<li><a href="https://huaien.co/technology/hugo-leaveit-theme-modified-of-bugs-1/" rel="nofollow noreferrer" target="_blank">Hugo的LeaveIt主题优化记录一-修复错位，添加toc</a></li>
</ul>

<h2 id="参考链接">参考链接</h2>

<ul>
<li><a href="https://rvm.io/" rel="nofollow noreferrer" target="_blank">RVM</a></li>
<li><a href="https://blog.csdn.net/qq_26440803/article/details/82717244/" rel="nofollow noreferrer" target="_blank">Centos7安装升级Ruby</a></li>
<li><a href="https://mogeko.me/2018/025/" rel="nofollow noreferrer" target="_blank">Leavelt 主题优化</a></li>
<li><a href="https://akisnote.com/2018/12/sass-scss/" rel="nofollow noreferrer" target="_blank">簡単！便利！HugoでSass/Scssを使う方法！</a></li>
<li><a href="https://www.sass.hk/install/" rel="nofollow noreferrer" target="_blank">如何安装Sass</a>&mdash;</li>
</ul>

<p>title: &ldquo;记录docker安装宝塔面板&rdquo;
date: 2019-09-30T10:58:47+09:00
lastmod: 2019-09-30T10:58:47+09:00
draft: false
keywords: [docker,宝塔面板,ubuntu,debian]
description: &ldquo;因为最近在学docker，而且有oracle的免费机，就像测试测试docker安装宝塔面板的效果。其实通过一系列操作可以学习到挺多docker命令。&rdquo;
tags: [docker,宝塔面板]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/docker-install-bt-panel&rdquo;
featured_image:</p>

<h1 id="you-can-also-close-false-or-open-true-something-for-this-content-3">You can also close(false) or open(true) something for this content.</h1>

<h1 id="p-s-comment-can-only-be-closed-3">P.S. comment can only be closed</h1>

<p>comment: true
toc: true
autoCollapseToc: false</p>

<h1 id="you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-3">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</h1>

<p>contentCopyright: false
reward: false
mathjax: false</p>

<hr />

<h1 id="背景-12">背景</h1>

<p>因为最近在学docker，而且有oracle的免费机，就像测试测试docker安装宝塔面板的效果。其实通过一系列操作可以学习到挺多docker命令。</p>

<!--MORE-->

<h1 id="安装docker">安装Docker</h1>

<p>首先你的机器上要有docker，如果没有安装的话可以通过下面的命令安装docker。</p>

<h2 id="安装前的准备">安装前的准备</h2>

<p>这里用的是Oracle免费机来测试，系统为Ubuntu
通过以下命令可以查看OS信息。</p>

<pre><code class="language-bash">root@instance:/home/ubuntu# uname -a
Linux instance 4.15.0-1021-oracle #23-Ubuntu SMP Wed Aug 7 16:35:09 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
root@instance:/home/ubuntu# cat /proc/version
Linux version 4.15.0-1021-oracle (buildd@lgw01-amd64-030) (gcc version 7.4.0 (Ubuntu 7.4.0-1ubuntu1~18.04.1)) #23-Ubuntu SMP Wed Aug 7 16:35:09 UTC 2019
root@instance:/home/ubuntu# cat /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=18.04
DISTRIB_CODENAME=bionic
DISTRIB_DESCRIPTION=&quot;Ubuntu 18.04.3 LTS&quot;
</code></pre>

<p>Docker 要求 Ubuntu 系统的内核版本高于 3.10
通过以下命令查看</p>

<pre><code class="language-bash">root@instance-20190921-1119:/home/ubuntu# uname -r
4.15.0-1021-oracle

</code></pre>

<p>这个机器是4.15 可以安装。</p>

<h2 id="安装docker的命令">安装Docker的命令</h2>

<p>然后这里用的是以下的命令安装docker。官方是使用<a href="https://yeasy.gitbooks.io/docker_practice/install/ubuntu.html" rel="nofollow noreferrer" target="_blank">这里</a>的方法，比较麻烦</p>

<pre><code class="language-bash">#先更新下ubuntu软件库
apt-get update
#通过apt-get安装docker
apt-get install docker.io
</code></pre>

<h2 id="查看docker版本">查看Docker版本</h2>

<p>接着查看docker版本，能显示就是安装成功</p>

<pre><code class="language-bash">root@instance:/home/ubuntu# docker version
Client:
 Version:           18.09.7
 API version:       1.39
 Go version:        go1.10.1
 Git commit:        2d0083d
 Built:             Fri Aug 16 14:20:06 2019
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.09.7
  API version:      1.39 (minimum version 1.12)
  Go version:       go1.10.1
  Git commit:       2d0083d
  Built:            Wed Aug 14 19:41:23 2019
  OS/Arch:          linux/amd64
  Experimental:     false
</code></pre>

<h1 id="docker内安装宝塔">Docker内安装宝塔</h1>

<h2 id="拉取系统镜像">拉取系统镜像</h2>

<p>先拉取一个系统镜像。这里选了debian，好用又比较小。</p>

<pre><code class="language-bash">docker pull debian
</code></pre>

<h2 id="创建运行容器">创建运行容器</h2>

<p>接着创建和运行容器</p>

<pre><code class="language-bash">docker run -i -t -d --name baota -p 20:20 -p 21:21 -p 80:80 -p 443:443 -p 888:888 -p 8888:8888 --privileged=true -v /home/www:/www debian
</code></pre>

<blockquote>
<p>上面命令的意思是创建一个docker容易命名为baota(名称大家自定义)让他后台运行，然后将宿主机的20，21，80，443，888，8888这五个端口映射到docker容器中去。
并且将宿主机的/home/www文件夹映射到docker容器的/www上去(注意：文件目录如果不存在。宿主机和容器会自己创建，无需手动创建)。privileged表示在运行容器的时候，给容器加特权，设置容器有写文件的权限。</p>
</blockquote>

<p>查看容器的运行状态和ID</p>

<pre><code class="language-bash">docker ps
</code></pre>

<h2 id="进入该容器">进入该容器</h2>

<pre><code class="language-bash">docker exec -it d497dcfd6062  /bin/bash(这里也可以直接用 bash)或者下面都行
docker exec -it baota /bin/bash
</code></pre>

<blockquote>
<p>exec 为在进入容器进行操作</p>

<p>-i :即使没有附加也保持STDIN 打开</p>

<p>-t :分配一个伪终端</p>

<p>这里的<code>d497dcfd6062</code>为上面<code>docker ps</code>得到的容器ID</p>
</blockquote>

<p>执行上进入容器命令后会显示下面这样，就是进入了这个Debian容器了</p>

<pre><code class="language-bash">root@e27df07f4a6d:/#
</code></pre>

<h2 id="容器内安装宝塔">容器内安装宝塔</h2>

<p>接着用宝塔官方的安装命令，这里用的是Debian系统下的宝塔安装命令。</p>

<pre><code class="language-bash">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh
</code></pre>

<p>会让你输入y来确认安装，然后就等着装好。</p>

<h2 id="错误信息-1">错误信息</h2>

<h3 id="错误信息内容">错误信息内容</h3>

<p>但是这里我最后出现错误</p>

<pre><code class="language-bash">------------------------------------------------------
Error: BT-Task service startup failed.
username: ed5ymzfg
Stopping Bt-Tasks.../etc/init.d/bt: line 76: ps: command not found
        done
Stopping Bt-Panel.../etc/init.d/bt: line 86: ps: command not found
        done
/etc/init.d/bt: line 23: ps: command not found
Starting Bt-Panel..     done
/etc/init.d/bt: line 53: ps: command not found
Starting Bt-Tasks... /etc/init.d/bt: line 58: ps: command not found
failed
------------------------------------------------------
--2019-09-30 02:25:28--  http://103.224.251.67/stop.html
Connecting to 103.224.251.67:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3460 (3.4K) [text/html]
Saving to: '/www/server/stop/index.html'

     0K ...                                                   100%  484M=0s

2019-09-30 02:25:28 (484 MB/s) - '/www/server/stop/index.html' saved [3460/3460]

--2019-09-30 02:25:29--  http://103.224.251.67/stop.html
Connecting to 103.224.251.67:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3460 (3.4K) [text/html]
Saving to: '/www/server/stop/index.html'

     0K ...                                                   100%  568M=0s

2019-09-30 02:25:29 (568 MB/s) - '/www/server/stop/index.html' saved [3460/3460]

------------------------------------------------------
Error: BT-Task service startup failed.
install.sh: line 478: ps: command not found
ERROR: The BT-Panel service startup failed.
============================================
</code></pre>

<h3 id="错误原因">错误原因</h3>

<p>我简单看了下，搜索网上解决办法，一个是
<a href="https://blog.csdn.net/weixin_42453905/article/details/89399089" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/weixin_42453905/article/details/89399089</a>
和 <a href="https://www.daniao.org/3790.html" rel="nofollow noreferrer" target="_blank">https://www.daniao.org/3790.html</a></p>

<h3 id="解决错误">解决错误</h3>

<p>好像是python版本还是python public包和面板冲突的原因，看了下本机python版本为2.7，然后就用下面的命令安装了python3</p>

<pre><code class="language-bash">apt install python3.6
</code></pre>

<p>然后解决下public包冲突，接着重启宝塔</p>

<pre><code class="language-bash">pip uninstall public
bt restart 
#或者
/etc/init.d/bt restart
</code></pre>

<p>但是这里还是提示错误</p>

<pre><code class="language-bash">Stopping Bt-Tasks.../etc/init.d/bt: line 76: ps: command not found
        done
Stopping Bt-Panel.../etc/init.d/bt: line 86: ps: command not found
        done
/etc/init.d/bt: line 23: ps: command not found
Starting Bt-Panel..     done
/etc/init.d/bt: line 53: ps: command not found
Starting Bt-Tasks... /etc/init.d/bt: line 58: ps: command not found
failed
------------------------------------------------------
--2019-09-30 02:25:28--  http://103.224.251.67/stop.html
Connecting to 103.224.251.67:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3460 (3.4K) [text/html]
Saving to: '/www/server/stop/index.html'

     0K ...                                                   100%  484M=0s

2019-09-30 02:25:28 (484 MB/s) - '/www/server/stop/index.html' saved [3460/3460]

--2019-09-30 02:25:29--  http://103.224.251.67/stop.html
Connecting to 103.224.251.67:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3460 (3.4K) [text/html]
Saving to: '/www/server/stop/index.html'

     0K ...                                                   100%  568M=0s

2019-09-30 02:25:29 (568 MB/s) - '/www/server/stop/index.html' saved [3460/3460]

------------------------------------------------------
Error: BT-Task service startup failed.
</code></pre>

<p>现在没了之前的BT-panel无法启动的错误，但是还有ps命令没找到的错误。所以需要安装下ps。
这里参考了这里
<a href="https://www.imooc.com/qadetail/217173" rel="nofollow noreferrer" target="_blank">https://www.imooc.com/qadetail/217173</a></p>

<pre><code class="language-bash">apt-get install procps
</code></pre>

<p>正常安装后测试一下ps命令，显示以下内容就是安装成功</p>

<pre><code class="language-bash">root@e27df07f4a6d:/# ps
  PID TTY          TIME CMD
    8 pts/1    00:00:00 bash
 5593 pts/1    00:00:03 python
 5669 pts/1    00:00:03 python
 6483 pts/1    00:00:01 python
 6553 pts/1    00:00:01 python
 6653 pts/1    00:00:01 python
 6737 pts/1    00:00:01 python
 6823 pts/1    00:00:01 python
 6899 pts/1    00:00:01 python
 6971 pts/1    00:00:00 ps
</code></pre>

<p>然后再重启下宝塔面板试试看</p>

<pre><code class="language-bash">root@e27df07f4a6d:/# /etc/init.d/bt restart
Stopping Bt-Tasks...    done
Stopping Bt-Panel...    done
Starting Bt-Panel.......        done
Starting Bt-Tasks...    done
</code></pre>

<p>没有提示错误可以启动。</p>

<h2 id="获取宝塔面板入口">获取宝塔面板入口</h2>

<p>但是这里因为刚才安装没有正常结束，应该最后没有正常显示面板入口 登录用户名密码等信息。</p>

<p>如果你直接进入 <a href="https://IP地址:8888" rel="nofollow noreferrer" target="_blank">https://IP地址:8888</a>
就会显示下面的内容</p>

<pre><code class="language-bash">请使用正确的入口登录面板
错误原因：当前宝塔新安装的已经开启了安全入口登录，新装机器都会随机一个8位字符的安全入口名称，亦可以在面板设置处修改，如您没记录或不记得了，可以使用以下方式解决

解决方法：在SSH终端输入以下一种命令来解决

1.查看面板入口：/etc/init.d/bt default

2.关闭安全入口：rm -f /www/server/panel/data/admin_path.pl

注意：【关闭安全入口】将使您的面板登录地址被直接暴露在互联网上，非常危险，请谨慎操作
</code></pre>

<p>根据提示内容，在容器内操作下面的命令来查看面板入口信息。</p>

<pre><code class="language-bash">/etc/init.d/bt default
</code></pre>

<p>会显示以下信息，然后用这个地址，用户名密码登陆就可以了</p>

<pre><code class="language-bash">==================================================================
BT-Panel default info!
==================================================================
Bt-Panel-URL: http://IP地址:8888/2bdsdb7ca
username: edsdmzfg
password: 6c750614
Warning:
If you cannot access the panel,
release the following port (8888|888|80|443|20|21) in the security group
==================================================================
</code></pre>

<h2 id="设置容器自启">设置容器自启</h2>

<p>这里我们开头并没有对容器设置了自动启动参数。
如果一开始要设置重启后自动启动容器的话，可以用下面的命令</p>

<h3 id="初次运行时">初次运行时</h3>

<pre><code class="language-bash">docker run --restart=always  -i -t -d --name baota -p 20:20 -p 21:21 -p 80:80 -p 443:443 -p 888:888 -p 8888:8888 --privileged=true -v /home/www:/www debian
</code></pre>

<p>其实就是<code>docker run</code>的时候加入<code>--restart=always</code></p>

<h3 id="运行后的容器更新自启设置">运行后的容器更新自启设置</h3>

<p>如果前面运行的时候没设置自动启动，但是现在想设置的话，可以用下面的命令</p>

<pre><code class="language-bash">docker update --restart=always &lt;CONTAINER ID&gt;
</code></pre>

<p>容器ID可以通过<code>docker ps -a</code>或者 <code>docker container ls</code>来查看</p>

<pre><code class="language-bash">root@instance:/home/ubuntu# docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                                                                              NAMES
e27df07f4a6d        debian              &quot;bash&quot;              2 hours ago         Up 2 hours          0.0.0.0:20-21-&gt;20-21/tcp, 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:888-&gt;888/tcp, 0.0.0.0:8888-&gt;8888/tcp   baota
root@instance:/home/ubuntu# docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                                                                              NAMES
e27df07f4a6d        debian              &quot;bash&quot;              2 hours ago         Up 2 hours          0.0.0.0:20-21-&gt;20-21/tcp, 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:888-&gt;888/tcp, 0.0.0.0:8888-&gt;8888/tcp   baota
</code></pre>

<h2 id="退出容器等操作">退出容器等操作</h2>

<h3 id="退出并停止容器">退出并停止容器</h3>

<p>最后如果要退出容器可以使用
<code>Ctrl+D</code> 或者<code>exit</code></p>

<pre><code class="language-shell">root@e27df07f4a6d:/# exit
exit
</code></pre>

<p>但是这样退出后会停止容器。</p>

<h3 id="退出但是不停止容器">退出但是不停止容器</h3>

<p>想要退出但是不停止容器就要用
<code>Ctrl+P+Q</code>
这样的话容器还在继续运行中。</p>

<h3 id="停止容器">停止容器</h3>

<p>想要停止运行中的容器就用</p>

<pre><code class="language-bash">docker stop 容器名或者容器ID
</code></pre>

<p>运行就用</p>

<pre><code class="language-bash">docker start 容器名或者容器ID
</code></pre>

<h3 id="进入容器">进入容器</h3>

<p>如果要进入正在运行的容器就用</p>

<pre><code class="language-bash">docker attach 容器名或者容器ID
</code></pre>

<p>或者</p>

<pre><code class="language-bash">docker exec -it 容器名或者容器ID /bin/bash
</code></pre>

<p>例如</p>

<pre><code class="language-bash">root@instance:/home/ubuntu# docker exec -it e27 /bin/bash
root@instance:/home/ubuntu# docker attach baota
</code></pre>

<p>注：docker的容器ID可以用只取前几位能定位到容器就可以。</p>

<h1 id="参考文章-1">参考文章</h1>

<ul>
<li><a href="https://www.cnblogs.com/phpper/p/10844757.html" rel="nofollow noreferrer" target="_blank">https://www.cnblogs.com/phpper/p/10844757.html</a></li>
<li><a href="https://www.qiancheng.me/post/coding/show-linux-issue-version" rel="nofollow noreferrer" target="_blank">https://www.qiancheng.me/post/coding/show-linux-issue-version</a></li>
<li><a href="http://www.runoob.com/docker/ubuntu-docker-install.html" rel="nofollow noreferrer" target="_blank">http://www.runoob.com/docker/ubuntu-docker-install.html</a></li>
<li><a href="http://www.runoob.com/docker/docker-exec-command.html" rel="nofollow noreferrer" target="_blank">http://www.runoob.com/docker/docker-exec-command.html</a></li>
<li><a href="https://www.bt.cn/bbs/thread-19376-1-1.html---" rel="nofollow noreferrer" target="_blank">https://www.bt.cn/bbs/thread-19376-1-1.html---</a>
title: &ldquo;记录docker的Debian下搭建Django框架开发的仿zhuye.kim导航&rdquo;
date: 2019-10-01T16:14:12Z
lastmod: 2019-10-02T01:14:12Z
draft: false
keywords: [docker,debian,Django,导航]
description: &ldquo;记录本次的折腾，主要是因为这个程序的官方还有moerats只写了centos的教程。因为我最近玩docker，就想用昨天docker拉取的Debian系统下搭建试试看。&rdquo;
tags: [docker,debian,Django,导航]
categories: [技术记录]
author: &ldquo;Wyane&rdquo;
url: &ldquo;/technology/debian-install-zhuye-kim&rdquo;
featured_image:</li>
</ul>

<h1 id="you-can-also-close-false-or-open-true-something-for-this-content-4">You can also close(false) or open(true) something for this content.</h1>

<h1 id="p-s-comment-can-only-be-closed-4">P.S. comment can only be closed</h1>

<p>comment: true
toc: true
autoCollapseToc: false</p>

<h1 id="you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright-4">You can also define another contentCopyright. e.g. contentCopyright: &ldquo;This is another copyright.&rdquo;</h1>

<p>contentCopyright: true
reward: false</p>

<h2 id="mathjax-false-3">mathjax: false</h2>

<!--more-->

<p>先祝祖国70华诞生日快乐！</p>

<h1 id="背景-13">背景</h1>

<p>zhuye.kim这个网页导航估计站长的话很熟悉了。一个简洁漂亮的网页导航。不过作者没有开放源码，所以没有机会试一试，但是有hostloc上的大佬用python＋Django仿了一个。可以来试试看，顺便学下Python和Django，之前昆哥一直给我推荐Django这个框架。
记录本次的折腾，主要是因为这个程序的官方还有moerats只写了centos的教程。因为我最近玩docker，就想用昨天docker拉取的Debian系统下搭建试试看。其实区别的话无非就是两个OS的命令 yum 和 apt-get的区别吧。。虽然如此还是记录一下。
<!--MORE--></p>

<h1 id="环境要求">环境要求</h1>

<p>官方要求是下面这样<br />
<code>Centos7 + Python3 + MySQL + Django1.8.x-2.0.x</code></p>

<p>这次我用的下面的环境<br />
<code>debian(docker镜像版 + Python3.7 + MySQL5.6 + Django1.8.x-2.0.x)</code></p>

<h1 id="准备工作">准备工作</h1>

<p>既然知道了所需环境，那就各个安装了就好。
Debian的话这里用的是昨天docker拉取的Debian镜像。相关教程可以查看<a href="https://huaien.co/technology/docker-install-bt-panel/" rel="nofollow noreferrer" target="_blank">这里</a>。</p>

<p>由于昨天的Debian也直接安装了宝塔面板，直接面板里安装了mysql5.6，所以mysql也有了。</p>

<p>接下来就安装下python3.7</p>

<p>我们先从docker进去Debian系统容器</p>

<p>先看下正在运行的容器ID</p>

<pre><code class="language-shell">root@instance:/home/ubuntu# docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                                                                              NAMES
e27df07f4a6d        debian              &quot;bash&quot;              30 hours ago        Up 6 hours          0.0.0.0:20-21-&gt;20-21/tcp, 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:888-&gt;888/tcp, 0.0.0.0:8888-&gt;8888/tcp   baota
</code></pre>

<p>如果容器没有在运行就会出现下面这样</p>

<pre><code class="language-shell">root@instance:/home/ubuntu# docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</code></pre>

<p>这样我们需要先运行一下容器。</p>

<p>查看下容器的ID或者说是有什么容器。</p>

<pre><code class="language-shell">root@instance:/home/ubuntu# docker ps --all
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES
e27df07f4a6d        debian              &quot;bash&quot;              30 hours ago        Exited (0) About a minute ago                       baota
</code></pre>

<p>知道了有个名字是“baota” ID为“e27df07f4a6d”的容器。</p>

<p>那我们就运行它，用ID也可以。</p>

<pre><code class="language-shell">root@instance-20190921-1119:/home/ubuntu# docker start baota
baota
</code></pre>

<p>启动后通过下面命令来进入正在运行的容器</p>

<pre><code class="language-shell">root@instance:/home/ubuntu# docker attach baota
root@e27df07f4a6d:/#
</code></pre>

<p>这样我们就在昨天搭建的Debian镜像容器里了。就是在debian的环境下操作了。</p>

<h2 id="安装python3">安装python3</h2>

<p>进入后你可以先用<code>python3 --version</code> 看下有没有python3，如果提示没有该命令的话就是没有安装，我的这个Debian系统是没有自带python3 的，所以需要自己安装。</p>

<p>我是用系统自带package包安装的，所以需要先更新下软件库。</p>

<pre><code class="language-shell">root@e27df07f4a6d:/# apt-get update
</code></pre>

<p>成功后接着安装python3</p>

<pre><code class="language-shell">root@e27df07f4a6d:/# apt-get install python3
</code></pre>

<p>然后软件库就会自动安装好最新版的python3，这里装了python3.7.3-1。</p>

<p>没有python3，自然也没有pip3，所以如果直接用
<code>apt-get install pip</code>安装的是pip2不支持python3，所以要用下面的命令来安装就可以了</p>

<pre><code class="language-shell">apt-get install python3-pip
</code></pre>

<p>完成后可以查看下版本确认下</p>

<pre><code class="language-shell">root@e27df07f4a6d:/# python3 --version
Python 3.7.3
root@e27df07f4a6d:/# pip3 --version
pip 18.1 from /usr/lib/python3/dist-packages/pip (python 3.7)
root@e27df07f4a6d:/# pip --version
pip 19.2.3 from /usr/local/lib/python2.7/dist-packages/pip (python 2.7)
</code></pre>

<h2 id="安装必备组件">安装必备组件</h2>

<p>就是 Git，screen 之类的</p>

<pre><code class="language-shell">apt-get install git screen -y
</code></pre>

<blockquote>
<p>-y：yes，在命令行交互提示中，直接输入 yes 的意思</p>
</blockquote>

<h2 id="获取源码">获取源码</h2>

<p>接着用git来拉取源码，因为我们昨天搭建了宝塔面板，网站的目录在 <code>/www/wwwroot/</code> 下，所以在这里拉取源码</p>

<pre><code class="language-shell">root@e27df07f4a6d:/# cd /www/wwwroot/
root@e27df07f4a6d:/www/wwwroot# git clone https://github.com/HuaienYao/zhuye_kim.git
</code></pre>

<h2 id="新建数据库">新建数据库</h2>

<p>我们在宝塔上新建数据库，这里数据库名字取<code>zhuye</code>，用户名取<code>zhuye</code> 密码用 <code>123456</code></p>

<p>或者你可以用原有的数据库，只需要修改<code>/www/wwwroot/zhuye_kim/zhuye_kim/settings.py</code>文件的68行起的database部分设置，<code>'NAME'</code>部分改为你的原有数据库名，<code>'USER'</code>改为你的原有数据库用户名，<code>'PASSWORD'</code>改为你原有数据库的密码。</p>

<pre><code class="language-shell"># Database

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'zhuye',
        'USER': 'zhuye',
        'PASSWORD': '123456',
        'HOST': '127.0.0.1',
        'PORT': '3306',
        'OPTIONS': {
            'init_command': &quot;SET sql_mode='STRICT_TRANS_TABLES'&quot;,
        }
    }
}
</code></pre>

<h2 id="安装必备库-迁移模型-更新表结构">安装必备库，迁移模型(更新表结构)</h2>

<p>这步我就照做就行。。还不理解python的知识。。</p>

<pre><code class="language-shell">cd /www/wwwroot/zhuye_kim/
pip3 install -r requirements.txt
python3 manage.py makemigrations --merge
python3 manage.py makemigrations
python3 manage.py migrate
</code></pre>

<h2 id="运行网站">运行网站</h2>

<pre><code class="language-shell">cd /www/wwwroot/zhuye_kim/
# screen就是开一个后台
screen -S zhuye
python3 manage.py runserver 127.0.0.1:8001
</code></pre>

<p>运行成功会显示以下信息</p>

<pre><code class="language-shell">sh-5.0# python3 manage.py runserver 127.0.0.1:8001
Performing system checks...

System check identified no issues (0 silenced).
October 01, 2019 - 16:44:23
Django version 2.0.12, using settings 'zhuye_kim.settings'
Starting development server at http://127.0.0.1:8001/
Quit the server with CONTROL-C.
</code></pre>

<p>如果要停止运行就是 Ctrl＋C</p>

<h3 id="关于screen命令">关于screen命令</h3>

<p>这是linux里开启多任务的命令，可以理解成窗口。如果你创建了这个，并运行了网站，但是如果你直接关闭窗口还是会停止的。如果只是想最小化，暂时断开的话，需要用<code>Ctrl+A+D</code> 就可以暂时断开（detach）这个任务。
之后回来可以通过<code>screen -r session名字</code> 这里就是你之前设置的zhuye</p>

<p>这里附上一些screen的常用命令</p>

<pre><code class="language-shell">screen -S yourname -&gt; 新建一个叫yourname的session
screen -ls -&gt; 列出当前所有的session
screen -r yourname -&gt; 回到yourname这个session
screen -d yourname -&gt; 远程detach某个session
screen -d -r yourname -&gt; 结束当前session并回到yourname这个session
</code></pre>

<h2 id="反向代理">反向代理</h2>

<p>然后就是在宝塔反向代理这个端口。</p>

<p>宝塔面板添加网站</p>

<p>如下图所示，在宝塔面板的【网站】【添加站点】添加一个站点。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/He609c1f0a4d84abd940ddfd1ebae2916e.jpg" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>然后在面板的网站列表找到你刚添加的网站，点击网站名弹出设置，左侧选择反向代理，如下图所示设置保存。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/H165db11268ec40c5a5e980d3d6222c5ah.jpg" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>如果前面没出错误信息，应该就可以访问了。</p>

<p>通过你的域名访问，当然你要提前把域名解析到这个服务器上。</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/Hb194233d718d495d84c0a8bd992d7211Q.jpg" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>后台就是 http://域名/admin 来访问</p>

<p>管理员用户名admin 密码12345678@</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ae01.alicdn.com/kf/Hf495610e6b2f41a0bb2584e73f85244bp.jpg" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<h1 id="参考资料-1">参考资料</h1>

<ul>
<li><a href="https://github.com/wenguonideshou/zhuye_kim" rel="nofollow noreferrer" target="_blank">zhuye.kim源码</a></li>
<li><a href="https://www.moerats.com/archives/679/" rel="nofollow noreferrer" target="_blank">Django框架开发的仿zhuye.kim的简单个人主页/导航程序</a></li>
<li><a href="https://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html" rel="nofollow noreferrer" target="_blank">linux screen 命令详解</a></li>
<li><a href="https://blog.csdn.net/keith_bb/article/details/65435337" rel="nofollow noreferrer" target="_blank">Linux-Ubuntu16.04下Python3.5安装pip3以及scrapy、numpy、itchat</a></li>
<li><a href="https://linux.cn/article-8215-1.html" rel="nofollow noreferrer" target="_blank">screen 命令使用及示例</a>
&mdash;
title: 每天坚持8分钟 造就坚实6块腹肌
id: 56
date: 2010-08-29
tags: [健身]
categories: [影音资源]
url: /video/8-mins-work-out-everyday</li>
</ul>

<hr />

<p>我想要是你能坚持锻炼 ，就可能有效果。这个视频教程挺不错，主要是坚持。哈哈
第一级 Level 1
<!--more--></p>

<p><a href="https://player.youku.com/player.php/sid/XMTYzODYxNzYw/v.swf" rel="nofollow noreferrer" target="_blank">请点击这里观看第一级</a></p>

<p>第二级 Level 2</p>

<p><a href="https://player.youku.com/player.php/sid/XMTY3NjU5OTQ0/v.swf" rel="nofollow noreferrer" target="_blank">请点击这里观看第二级</a></p>

<h2 id="以上两个视频教程是我从网上收集来的-一共有两个级别-有兴趣锻炼腹肌的同学可以试试哦">以上两个视频教程是我从网上收集来的，一共有两个级别。有兴趣锻炼腹肌的同学可以试试哦~</h2>

<p>title: 卓越当当京东三大图书零售商的价格战
id: 173
date: 2010-12-15
tags:
categories: [生活随想]
url: /life/jd-dangdang-joy-price-war</p>

<hr />

<p>这两天京东商城与国内另外两家网上图书零售商的价格战可谓火热，京东更是在14日对外宣称京东的图书价格将启用会员价，就是在原有的京东价上在打折20%，并称是国内最低价格。这样一来，必将对卓越与当当造成影响，即使这两家是国内最大的网上图书商。<!--more--></p>

<pre><code>   在得知这一消息后，我就去卓越、当当和京东选了几本自己喜欢的想买的书，在几家图书商上搜索了几本书，郎咸平的＜＜我们的日子为什么这么难＞＞，村上的＜＜1Q84＞＞等，得出结论：卓越和京东价格差不多，而当当最贵，京东的会员价是需要铁牌会员才能享受，就是要在京东消费过才行。而有些会员价与卓越一样，有些比较便宜。京东还没买过，只是刚刚涉及图书方面，有些书还没有，而且图书仓建设还没完成，所以不是每个地方都能及时送货。
   其实我以前只在卓越买过一次书，村上春树的处女作＜＜且听风吟＞＞、＜＜挪威的森林＞＞还有韩寒的最新小说＜＜1988我想和世界谈谈＞＞（这个曾在独唱团第一辑末尾出现过开头，觉得不错就买了），觉得卓越挺不错的，服务态度比较好，就是收到书的时间比卓越上的预计送达时间晚了两天，打了两个电话催促，后来在下午6点多送来了，书还是很新的，所以还蛮满意的。现在卓越实行无金额限制免运费，而当当好像有金额限制。
   在豆瓣读书或者其他地方，也有挺多人离开卓越与当当转去京东。其实网上买书大部分人都是对价格很在乎，实际上还应该看送货速度和服务态度。
</code></pre>

<h2 id="文章用手机发布排版不好">文章用手机发布排版不好。</h2>

<p>title: Backy LLC 老薛主机和游子主机
id: 160
date: 2010-12-08
tags:
- 服务器
categories: [服务器]</p>

<h2 id="url-server-backy-llc-laoxue-youzi-host">url: /server/backy-llc-laoxue-youzi-host</h2>

<p>Wyane目前一共有3个站点在线，分别是 MediaTense.com GuoSao.com 与IMYIA.com 。其中三个站点分别托管在不同的服务器上。<!--more--></p>

<p>这个，也是就是你目前所浏览的MT现在使用的是游子主机。由于我空间暂时没有大的需求，所以就买了游子的入门型主机，就是价格最低的主机：40元/年 ，选的是美国洛杉矶WebNX机房，应该是看中服务器使用的是LiteSpeed，不过我也挺喜欢softlayer机房，游子主机网站也是放在softlayer机房，所以犹豫了一下，最终还是选webnx。也算是抱着试试看的态度，但是游子给人的态度挺不错的。我看他QQ 一般都在线，这样就可以及时的解决问题了。你想，如果一个主机商 一天在线时间很少，那客户的服务岂不是很难保证了。我写这篇文章的时候 ，除了今天出现几次监控宝的故障报告，前面用了半个月在线率都是100。</p>

<p>这个算是我最重视的站吧。这个托管在BackyCorp的主机商，前段时间在感恩节的时候用优惠码买了三年。后来有点后悔，就是怕有问题要怎么办。毕竟主机不是一件长久的事。原来看到网上还有人推荐买Backy的终身Starter方案主机，优惠后50刀。一是我没那么多钱。二是终身是什么概念，主机商要是没了怎么办。我觉得三年就够长了。现在12月份他们还在搞终身Starter方案主机五折优惠。有兴趣可以<a href="http://matrixhost.org/specials.html" rel="nofollow noreferrer" target="_blank">点我去看看</a>。这家主机商的优点就是客服态度比较好，相应比较快，在提交支持单下面有个大约回复时间，不过不准，一个小时一般都提前回复了。而且网站首页也有live chat ，比较方便，但是要用英文交流，这有个基础的英语也就行了。我买了三年的starter主机，选的是美国西海岸softlayer机房，但是后来他们给安排到了美国中部。其实我看了下速度差不多，但是有点碍眼，就问了他们，他们说，西海岸的由于服务器不够了。所以先托管到其他服务器，由于这两天是周末，所以服务器调不过来，所以还是将我放到了他原来有一些客户没有续费的服务器上，后来还给我升级到了business套餐。10GB空间 300 GB流量，不错了。不过缺点就是不支持 支付宝，支持Paypal.我问他们今后支持吗，他们表示没有这个计划，所以这对于中国的朋友来说有点不好。还有一点就是服务器每天都有问题，监控宝每天都会发警告来，每次都是这个网站，每天监控宝的在线率不到98.左右但是我每次上的时候都是好好的，难道这就是传说中的便宜无好货？？</p>

<p>这个是在老薛主机购买的第二个主机，第一个由于LAX服务器使用过程中出现一些问题，但是老薛都解决好了，后来决定再买另一个用来做英文站，买了使用一个星期左右。监控宝的在线率都是100.而且平均响应时间都是最低 1200MS左右。时间用的还不就，不过使用一个星期还是不错的。</p>

<h2 id="ps-三个服务器都是采用cpanel面板-因为几个服务器使用的时间都不是一样长-所以比较不是很准确-但是目前老薛的达拉斯softlayer服务器还是比较好的-平均响应时间最短-而游子主机的最长-但是backy-llc的服务器最不稳定-按服务态度来说都还不错-但是国内的还是用中文比较好交流">PS：三个服务器都是采用Cpanel面板。因为几个服务器使用的时间都不是一样长，所以比较不是很准确。但是目前老薛的达拉斯softlayer服务器还是比较好的，平均响应时间最短 ，而游子主机的最长，但是Backy LLC的服务器最不稳定。。按服务态度来说都还不错，但是国内的还是用中文比较好交流~</h2>

<p>title: 最近记性真差
id: 185
date: 2010-12-22
tags:
categories: [生活随想]</p>

<h2 id="url-life-my-bad-memory">url: /life/my-bad-memory</h2>

<p>上次报考的时候需要身份证，于是就向妈妈要了身份证，后来用完后，我放在床头，再后来掉到床下，好像记得是我捡起来放到抽屉里，但是昨天去找一下，居然不见了，我这个人很怪，有时印象中的事情记忆不真实，就好像那些记忆是一场梦，梦里的场景我却当真，可现在我的身份证真的不见了。。。<!--more--></p>

<h2 id="纯属吐槽记录">纯属吐槽记录。。</h2>

<p>title: Byte与Bit有什么区别
id: 230
date: 2011-03-20 17:39:31
tags:
- IT知识
categories: [技术记录]
url: /technology/difference-byte-bit
keywords: Byte,Bit,信息技术</p>

<h2 id="description-相信很多人会搞不明白byte和bit的区别-本文记录了这两者的区别">description: 相信很多人会搞不明白Byte和Bit的区别，本文记录了这两者的区别。</h2>

<p>在工作中遇到一些概念模糊的地方, 特此转载来以供查询。
bit意为“位”或“比特”，是计算机运算的基础；
byte意为“字节”，是计算机文件大小的基本计算单位； <!--more--></p>

<p>说到usb2.0标准接口传输速率。许多人都将“480mbps”误解为480兆/秒。其实，这是错误的，事实上“480mbps”应为“480兆比特/秒”或“480兆位/秒”，它等于“60兆字节/秒”，大家看到差距了吧。</p>

<p>这要从bit和byte说起：bit和byte同译为&rdquo;比特&rdquo;，都是数据量度单位，bit=“比特”或“位”。
byte=字节即1byte=8bits,两者换算是1：8的关系。
mbps=mega bits per second(兆位/秒)是速率单位，所以正确的说法应该是说usb2.0的传输速度是480兆位/秒,即480mbps。
mb=mega bytes(兆比、兆字节)是量单位，1mb/s（兆字节/秒）=8mbps（兆位/秒）。</p>

<p>我们所说的硬盘容量是40gb、80gb、100gb，这里的b指是的byte也就是“字节”。
1 kb = 1024 bytes =2^10 bytes
1 mb = 1024 kb = 2^20 bytes
1 gb = 1024 mb = 2^30 bytes</p>

<p>比如以前所谓的56kb的modem换算过来56kbps除以8也就是7kbyte，所以真正从网上下载文件存在硬盘上的速度也就是每秒7kbyte。
也就是说与传输速度有关的b一般指的是bit。
与容量有关的b一般指的是byte。</p>

<p>最后再说一点: usb2.0 480mbps=60mb/s的传输速率还只是理论值，它还要受到系统环境的制约（cpu、硬盘和内存等），其实际读、取写入硬盘的速度约在11～16mb/s。但这也比usb1.1的12mbps(1.5m/s)快了近10倍。</p>

<h2 id="转载自http-sujian-blog-51cto-com-8838-4632">转载自<a href="http://sujian.blog.51cto.com/8838/4632" rel="nofollow noreferrer" target="_blank">http://sujian.blog.51cto.com/8838/4632</a></h2>

<p>title: Change Blog to Mediatense
id: 93
date: 2010-11-20
tags: []
categories: [生活随想]</p>

<h2 id="url-life-change-blog-to-mt">url: /life/change-blog-to-mt</h2>

<p>经过多天准备，将原来的Wyane&rsquo;S Blog 改为MediaTense ，虽然我也不知道这个单词组合有什么意义，就是觉得看得比较好看。<!--more--></p>

<p>把原来的blog.wyane.net二级域名也改为现在的MediaTense.COM ，今天刚从Go Daddy 注册的。原价11.99使用7.49的优惠码后一共7.67 。还行的价格，虽然没有像以前yahoo的1.99 ＄的劲爆价。其实原来想过很多个域名，但是都挺长的，而且没有什么意思的，完全自己自创词语  - -。:shock:</p>

<p>为什么我把原来的blog.wyane.net不用了。因为我不希望名字一直局限于Wyane&rsquo;S Blog，太单调了，我一直喜欢把博客的名字比较正式的。所以我为什么不用其他的个性国别域名后缀了，也有因为那些个性后缀玉米，价格都很高，虽然有些首年促销，但是续费价格我不能接受的。。。我要一个域名，就想一直用下去，原来我在yahoo 的1.99＄域名活动时注册4、5个域名，都不喜欢了。而且像那个ccav.in，总觉得做我这种网站不合适。现在.COM还是我最先考虑的，因为比较正式，不过.COM域名都比较缺乏了（指位数少的）我这个mediatense算比较长的了。我想到的还有些没有注册的6位数的。不过那不过是一些乱七八招的文字罢了。</p>

<p>唉。:sad:希望这个域名可以长久吧</p>

<pre><code>&lt;embed src=&quot;http://disk.kugou.com/player/2/7/0/1/default/300/18F615A1454C9848/mini.swf&quot; AllowScriptAccess=&quot;always&quot; id=&quot;KugouPlayer&quot; FlashVars=&quot;&quot; quality=&quot;high&quot; width=&quot;300&quot; height=&quot;70&quot; name=&quot;KugouPlayer&quot; align=&quot;middle&quot; type=&quot;application/x-shockwave-flash&quot;  wmode=&quot;transparent&quot; &gt;&lt;/embed&gt;
</code></pre>

<hr />

<p>tags:
  - Caddy
  - Linux
  - 后端技术
title: Caddy一个轻量的Go语言HTTP服务器的一键安装脚本教程
categories : [技术记录]
date: 2018-07-18
draft: false
url: /technology/caddy-a-light-http-server</p>

<h2 id="keywords-caddy-linux-服务器-后端技术">keywords: Caddy,Linux,服务器,后端技术</h2>

<p>最近在逛逗比根据地的时候发现了这个用Golang写的极简HTTP WEB Server，叫<a href="https://doub.io/shell-jc1/" rel="nofollow noreferrer" target="_blank">Caddy</a>，上网查了其实好多博客都写了关于这个。于是就想用闲置的服务器折腾试试。但是毕竟是折腾，过程中还是遇到挺多问题。这里就简单记录一下。
<!--more-->
下面部分内容与脚本来自<a href="https://doub.io/shell-jc1/" rel="nofollow noreferrer" target="_blank">逗比根据地</a></p>

<h2 id="关于caddy">关于Caddy</h2>

<blockquote>
<p>Caddy服务器是一个开源的，使用 Golang 编写，支持 HTTP/2 的 Web 服务端。它使用Golang 标准库提供HTTP 功能。 Caddy 一个显著的特性是默认启用HTTPS。它是第一个无需额外配置即可提供HTTPS 特性的Web 服务器。</p>
</blockquote>

<p>&ndash;来自维基百科</p>

<p>根据上面可以知道，Caddy是一个可以快速配置网站，给网站启用HTTPS的Web服务端。网上对他的评价是很适合新手上手。
&gt; Caddy的作者Matt Holt在caddy官网以及FAQ中对caddy的目标阐释如下： 其他Web Server为Web而设计，Caddy为human设计。功能定位上，与经常充当最前端反向代理的nginx不同，caddy致力于成为一个易用的静态文件Web Server。可以看出Caddy主打易用性，使用配置简单。并且得益于Go的跨平台特性，caddy很容易的支持了三大主流平台:Windows、 Linux、Mac。</p>

<p>Caddy比较适合应用个人静态文件。但是如果配合PHP，mysql好像可以跑动态网站。</p>

<h2 id="安装前的检查">安装前的检查</h2>

<blockquote>
<p>CentOS 6+ / Debian 6+ / Ubuntu 14.04 +
逗比推荐 Debian 7x64</p>
</blockquote>

<h2 id="安装步骤">安装步骤</h2>

<p>由于本次用的是逗比提供的一键安装脚本，过程很简单。</p>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-c# 如果上面这个脚本无法下载，尝试使用备用下载：
ertificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager
</code></pre>

<p>以上是Caddy一键安装脚本的下载，安装，以及包含了一个filemanager的在线文件管理器的插件的安装，如不需要可以去掉http.filemanager即可。如果还想安装其他插件，可以把名字加到命令后面，例如安装扩展：http.filemanager、http.git、http.filter的情况是</p>

<pre><code>bash caddy_install.sh install http.filemanager,http.git,http.filter
</code></pre>

<p>（这里省去下载部分，比如安装后需要重新安装新的插件，这样重新覆盖安装就行）就是各个插件用英文逗号,连接起来就行。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/19/5b4fdce134dd4.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>要查看其他的插件名字可以在<a href="https://caddyserver.com/download" rel="nofollow noreferrer" target="_blank">这里官网</a>查看。</p>

<h2 id="使用caddy">使用Caddy</h2>

<p>在安装后会出现安装成功，并列出部分使用Caddy的说明。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/19/5b4fe31ad8663.png" alt="安装完成后的界面" class="lazyload"><figcaption class="image-caption">安装完成后的界面</figcaption></figure></p>

<p>以下是Caddy的使用说明</p>

<pre><code>启动：/etc/init.d/caddy start

停止：/etc/init.d/caddy stop

重启：/etc/init.d/caddy restart

查看状态：/etc/init.d/caddy status

查看Caddy启动日志： tail -f /tmp/caddy.log

安装目录：/usr/local/caddy

Caddy配置文件位置：/usr/local/caddy/Caddyfile

Caddy自动申请SSL证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/
</code></pre>

<h3 id="升级caddy或者更新扩展">升级Caddy或者更新扩展</h3>

<p>只需要重新执行你当初安装时候用的命令即可，需要追加插件扩展的时候也是这样。会覆盖安装最新的Caddy+扩展（如有）</p>

<h3 id="卸载caddy">卸载Caddy</h3>

<blockquote>
<p>卸载不会删除虚拟主机的内容，只会删除Caddy自身和配置文件。</p>
</blockquote>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-certificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall
</code></pre>

<h2 id="一些常见错误">一些常见错误</h2>

<h3 id="提示-wget-command-not-found-的错误">提示 wget: command not found 的错误</h3>

<p>这是你的系统精简的太干净了，wget下载功能都没有安装，所以需要安装wget。</p>

<p>安装wget命令</p>

<pre><code># CentOS系统:
yum install -y wget

# Debian/Ubuntu系统:
apt-get install -y wget
</code></pre>

<h3 id="启动提示失败-或提示成功但是实际失败">启动提示失败，或提示成功但是实际失败</h3>

<p>启动失败或提示成功但是实际失败，请查看日志，如果看到类似这个提示：</p>

<pre><code>2017/0X/0X XX:XX:XX  listen tcp :80: bind: address already in use
</code></pre>

<p>那么说明是因为端口被占用导致的无法绑定端口从而无法启动。</p>

<p>用这个命令</p>

<pre><code>netstat -lntp
</code></pre>

<p>查看一下那个程序占用了端口并结束它。</p>

<p>这个已经不需要了，所以隐藏起来</p>

<h3 id="caddy启动失败-打开-http-ip-显示的是-it-works">Caddy启动失败，打开 <a href="http://ip" rel="nofollow noreferrer" target="_blank">http://ip</a> 显示的是 It works !</h3>

<p>一些系统会自带 apache2 ，而 apache2 会占用80端口，导致Caddy无法绑定端口，所以只要关掉就好了。</p>

<pre><code>netstat -lntp
# 我们可以通过这个命令查看是不是被其他软件占用了 80 端口。
</code></pre>

<p>不过 apache2 会默认开机自启动，如果不需要可以关闭自启动或者卸载 apache2 。</p>

<p>停止 Apache2</p>

<pre><code># CentOS系统
/etc/init.d/httpd stop
# Debian/Ubuntu系统
/etc/init.d/apache2 stop

# 尝试使用上面代码关闭，如果没效果或者提示什么错误无法关闭，那就用下面这个强行关闭进程。
kill -9 $(ps -ef|grep &quot;apache2&quot;|grep -v &quot;grep&quot;|awk '{print $2}')
</code></pre>

<p>取消开机自启动</p>

<pre><code># CentOS 系统
chkconfig --del httpd
# Debian/Ubuntu 系统
update-rc.d -f apache2 remove
</code></pre>

<p>卸载 Apache2</p>

<pre><code># CentOS 系统
yum remove httpd
# Debian/Ubuntu 系统
apt-get remove --purge apache2
</code></pre>

<p>关闭 Apache2后，就可以尝试启动 Caddy ，并试试能不能打开网页。</p>

<pre><code>/etc/init.d/caddy start
</code></pre>

<pre><code>### 启动 Caddy后，无法访问

iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT
iptables -I INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT

# 删除防火墙规则，内容一样把 -I 换成 -D 就行了：
iptables -D INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT
iptables -D INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT
</code></pre>

<p>以上这些问题我在执行过程中没遇到。</p>

<h3 id="下面是我遇到的问题">下面是我遇到的问题</h3>

<p>如果用AWS EC2安装的话，执行下载安装命令，输入y确认覆盖安装后出现错误提示：</p>

<pre><code>caddy_install.sh: line 41: kill: (3692) - Operation not permitted
caddy_linux.tar.gz: Permission denied
[错误] Caddy 下载失败 !

</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/19/5b4fe4350cb6d.png" alt="普通用户下载失败" class="lazyload"><figcaption class="image-caption">普通用户下载失败</figcaption></figure></p>

<p>这是由于AWS EC2登录的是ec2-user用户，安装脚本需要切换到root用户</p>

<pre><code>#切换到root
sudo su
</code></pre>

<p>然后再执行安装命令就可以了</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/19/5b4fe45c20117.png" alt="切换到root用户后不会提示错误" class="lazyload"><figcaption class="image-caption">切换到root用户后不会提示错误</figcaption></figure></p>

<p>到这里是已经基本完成了Caddy的安装。
但是需要如何使用Caddy来做网站呢？
之后会写到三种应用实例。
1. <a href="https://huaien.me/archives/use-caddy-to-run-site.html" rel="nofollow noreferrer" target="_blank">利用Caddy添加虚拟主机搭建网站</a>
2. <a href="https://huaien.me/archives/use-caddy-filemanager-to-build-personal-netdisk.html" rel="nofollow noreferrer" target="_blank">利用Caddy的Filemanager插件搭建个人网盘</a>
3. <a href="https://huaien.me/archives/use-caddy-to-build-webdav-server.html" rel="nofollow noreferrer" target="_blank">利用Caddy的WebDAV来搭建可挂载的WebDAV个人网盘</a></p>

<h3 id="参考资料-2">参考资料</h3>

<p><a href="https://caddyserver.com/download" rel="nofollow noreferrer" target="_blank">https://caddyserver.com/download</a><br />
<a href="https://doub.io/shell-jc1/" rel="nofollow noreferrer" target="_blank">https://doub.io/shell-jc1/</a></p>

<h2 id="https-www-moerats-com-archives-404"><a href="https://www.moerats.com/archives/404/" rel="nofollow noreferrer" target="_blank">https://www.moerats.com/archives/404/</a></h2>

<p>title: Ubuntu修改时区的简单方法-以修改UTC为JST为例
tags:
- Ubuntu
- Linux
categories: [技术记录]
date: 2018-06-12
draft: false
url: /technology/change-timezone-for-unbuntu
keywords: Ubuntu,Linux,时区,命令</p>

<h2 id="description-本文记录了如何查看linux的时区设置和变更时区">description: 本文记录了如何查看Linux的时区设置和变更时区。</h2>

<p>今天公司给了个课题，让我们查看AWS上的所有服务器是不是JST时区时间。
如果不是就需要修改为JST。
先用<code>date</code>命令来查看当前设置的时区。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" alt="当前时区为EDT" class="lazyload"><figcaption class="image-caption">当前时区为EDT</figcaption></figure>
网上查询了下Ubuntu的时区修改方法。
<!--more--></p>

<p>参照了<a href="https://www.myseo.com.cn/note/613.html" rel="nofollow noreferrer" target="_blank">Ubuntu设置时区和更新时间</a>的教程。</p>

<h2 id="解决方法-4">解决方法</h2>

<p>1、执行</p>

<pre><code>tzselect
</code></pre>

<p>原文是推荐使用</p>

<pre><code>sudo tzselect
</code></pre>

<p><em>但是本次没有用sudo也成功了</em>
<figure><img src="/images/ring.svg" data-src="https://www.gartner.com/newsroom/id/3808563" data-sizes="auto" alt="这里选择5）Asia" title="Gartner「Gartner Says Worldwide IaaS Public Cloud Services Market Grew 31 Percent in 2016」" class="lazyload"><figcaption class="image-caption">这里选择5）Asia</figcaption></figure>
在出现的界面上选择你的时区。
这次我选的是Asia，Japan，Tokyo。这里只要输入对应选项前的号码就行了。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://licensecounter.jp/azure/download/Microsoft_Azure_vs_Amazon_Web_Services.pdf" alt="选择19）Japan" class="lazyload"><figcaption class="image-caption">选择19）Japan</figcaption></figure></p>

<p>最后选择1）Yes 完成确认修改。
<figure><img src="/images/ring.svg" data-src="https://dbit.jp/articles/cloud-2017" data-sizes="auto" alt="选择1）Yes确认修改" title="GCP vs AWS vs Azure vs IBM、クラウド事情2017年版まとめ" class="lazyload"><figcaption class="image-caption">选择1）Yes确认修改</figcaption></figure></p>

<p>2、复制文件到 /etc/</p>

<pre><code>sudo    cp /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/06/13/5b209ec9ad5f0.png" alt="复制文件" class="lazyload"><figcaption class="image-caption">复制文件</figcaption></figure>
3、命令更新时间*(本次我没有执行此更新命令，发现时区已经修改为JST了)</p>

<pre><code>sudo ntpdate us.pool.ntp.org
</code></pre>

<p>最后用<code>date</code>来确认当前时区。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/06/13/5b209ec9ad5f0.png" alt="此处输入图片的描述" class="lazyload"><figcaption class="image-caption">此处输入图片的描述</figcaption></figure>
最后的最后，<code>exit</code>退出服务器</p>

<hr />

<p>title: 代码高亮插件SyntaxHighlighter Evolved
id: 118
date: 2010-11-23
tags:
- WordPress
categories: [技术记录]
url: /technology/code-highlighter-wordpress-plugin
keywords: 代码高亮,WordPress,插件,博客程序</p>

<h2 id="description-本文记录了如何使用插件给wordpress开启代码高亮">description: 本文记录了如何使用插件给WordPress开启代码高亮。</h2>

<p>使用方法：</p>

<p>1.上传插件到 wp-contents/plugins 文件夹并在博客后台启用——————废话啊。。。。</p>

<p>2.在写文章时，在html模式下 使用这样的代码：
<!--more--></p>

<pre><code>[php]/* Comment Image Embedder */
function embed_images($content) {
  $content = preg_replace('/\[img=?\]*(.*?)(\[\/img)?\]/e', '&amp;amp;quot;&amp;amp;lt;img src=\&amp;amp;quot;$1\&amp;amp;quot; alt=\&amp;amp;quot;&amp;amp;quot; . basename(&amp;amp;quot;$1&amp;amp;quot;) . &amp;amp;quot;\&amp;amp;quot; /&amp;amp;gt;&amp;amp;quot;', $content);
  return $content;
}
add_filter('comment_text', 'embed_images');
// -- END ----------------------------------------[/php]
</code></pre>

<p>其中php是指代码的类型，具体类型如下表：</p>

<pre><code>C++ —   cpp, c, c++
C# —   c#, c-sharp, csharp
CSS —   css
Delphi —   delphi, pascal
Java —   java
JavaScript —   js, jscript, javascript
PHP —   php
Python —   py, python
Ruby —   rb, ruby, rails, ror
SQL —   sql
VB —   vb, vb.net
XML/HTML —   xml, html, xhtml, xslt
</code></pre>

<hr />

<p>title: typecho文章评论带表情就database query error
date: 2017-06-26
tags:
- typecho
categories: [技术记录]
url: /technology/comment-with-emoji-shows-datebase-error-on-typecho
keywords: typecho,数据库,mysql</p>

<h2 id="description-本文记录了在typecho文章评论时带表情出现datebase-query-error的错误的解决办法">description: 本文记录了在typecho文章评论时带表情出现datebase query error的错误的解决办法。</h2>

<p>前几天开了童童的博客，但是在发布文章经常出现错误。老婆说发不出去。发给我的截图显示错误为</p>

<blockquote>
<p>database query error</p>
</blockquote>

<p>但是我测试了发送，却没有问题。这时候我以为是数据库连接不稳定。
后来又有文章发不出去，老婆把要发的内容发给我，让我来人发。但是我也是发不出去。后来排查了一番。发现去掉文章中的表情。就可以发出。按照网上的说法，打开了typecho的调试模式
<!--more--></p>

<blockquote>
<p>在config.inc.php里加入</p>
</blockquote>

<pre><code>define('__TYPECHO_DEBUG__', true);
</code></pre>

<p>然后尝试了下文章里面带表情发布测试下就出现以下内容，只复制了开头，实际上有好多</p>

<pre><code>Incorrect string value: '\xF0\x9F\x91\x8F\x0D\x0A...' for column 'text' at row 1
</code></pre>

<p>然后网上找了很久教程，都说是数据库的编码问题。
通过执行以下sql命令可以查询到数据库的编码</p>

<pre><code>show variables like '%char%';
</code></pre>

<p>但是查询了之后 数据库的database 和server都是latin1，通过网上的教程修改成utf8后还是没解决问题。
最后还是通过这个<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">typecho 支持 Emoji 表情</a>博问解决了问题
原因总结来说就是utf8的数据库不支持表情。</p>

<blockquote>
<p>要想数据库支持 Emoji 表情，就得使用 utf8mb4 编码来支持，于是我们需要修改已有数据库的编码格式，好消息是 utf8mb4 是 utf-8 的超集，完全兼容 utf-8，修改后，不会影响现有数据。</p>

<ul>
<li>修改数据表编码</li>
</ul>

<p>登录服务器的 MySQL 命令行或使用 phpAdmin：</p>

<p>mysql -u 有typecho数据库权限的用户名 -p 输入密码，进入 MySQL，切换到 typecho 的数据库。</p>

<p>use typecho数据库名; 执行以下 sql 语句，修改 typecho 数据库中表的编码格式为 utf8mb4。</p>

<pre><code>alter table typecho_comments convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_contents convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_fields convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_metas convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_options convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_relationships convert to character set utf8mb4 collate utf8mb4_general_ci;
alter table typecho_users convert to character set utf8mb4 collate utf8mb4_general_ci;
</code></pre>

<ul>
<li>修改 config.inc.php 配置</li>
</ul>

<p>修改 charset 的至为 utf8mb4。</p>

<pre><code>/** 定义数据库参数 */
$db = new Typecho_Db('Pdo_Mysql', 'typecho_');
$db-&gt;addServer(array (
  ...
  'charset' =&gt; 'utf8mb4',  # 修改编码为 utf8mb4
  ...
), Typecho_Db::READ | Typecho_Db::WRITE);
Typecho_Db::set($db);
</code></pre>
</blockquote>

<p>通过操作以上步骤，就可以实现发文章可以带表情了。</p>

<hr />

<p>title: 帮你记密码：几款密码管理器Keepass LastPass Bitwarden Enpass
tags:
  - 密码管理器
  - Keepass
  - LastPass
  - 1Password
  - Bitwarden
  - Enpass
categories: [软件资源]<br />
date: 2018-07-24<br />
url: /software/compare-some-password-manager
keyword: 密码管理器,安全,软件,Keepass,1Password,Bitwarden,Enpass</p>

<h2 id="description-之前有听说过这类软件-比如1password-之前有在ios的限免软件里面见到过-但是一直没有去了解-最近发现很多平台的密码给忘记了-而且找回密码需要用到绑定的手机来验证-但是有些网站绑定的手机号已经是国内高中-或者大学时期用得号码-想要找回非常麻烦-就比如之前所说的微博-还有特别要提的是百度的更改手机号的体验及其差-之后有时间会说到-这次想写写关于现在比较热门的几款密码管理器">description: 之前有听说过这类软件，比如1password，之前有在iOS的限免软件里面见到过，但是一直没有去了解。最近发现很多平台的密码给忘记了，而且找回密码需要用到绑定的手机来验证，但是有些网站绑定的手机号已经是国内高中，或者大学时期用得号码，想要找回非常麻烦，就比如之前所说的微博，还有特别要提的是百度的更改手机号的体验及其差，之后有时间会说到。这次想写写关于现在比较热门的几款密码管理器。</h2>

<blockquote>
<p>之前有听说过这类软件，比如1password，之前有在iOS的限免软件里面见到过，但是一直没有去了解。最近发现很多平台的密码给忘记了，而且找回密码需要用到绑定的手机来验证，但是有些网站绑定的手机号已经是国内高中，或者大学时期用得号码，想要找回非常麻烦，就比如之前所说的微博，还有特别要提的是百度的更改手机号的体验及其差，之后有时间会说到。这次想写写关于现在比较热门的几款密码管理器。</p>
</blockquote>

<!--more-->

<h2 id="关于密码管理器">关于密码管理器</h2>

<p>在当今互联网时代，人们在上各种网站的时候需要注册账号，大部分人的做法就是用一个账号，同一个密码。但是每个网站对于用户注册的账号和密码有不同的要求。比如说账号，可能需要用邮箱作为账户名，也有可能是用户指定一个大于6位，不能使用大写或者符号，还有可能是网站在注册成功后给你分配一个用户名。再说密码，虽然在设置密码的时候会有安全提示。比如你输入的密码安全系数太低，建议你使用多种字符搭配的密码，而且对于密码的位数也有要求。这样你就不能用同一个账户同一个密码来注册使用各个网站的服务了，你的网龄越大，需要记住的密码越多。就像我之前整理了一下Chrome的密码管理器，里面居然有9接近1000条密码记录。这样时间一久你就会忘记了不常登录的网站的账号或者密码。虽然不常使用，但是当你需要用的时候却记不起来，找回密码需要时间而且麻烦。如果所有网站使用一个账号一个密码也会带来风险。不怀好意的人知道了你的一个密码就可能使用这个账号密码登录上你的其他网站。这样密码管理器就诞生了。</p>

<p>所谓密码管理器，就是你只需要记住一个密码来进入密码管理器或者密码数据库。所有网站都使用不一样的高强度密码，并和账号信息保存到密码管理器或者数据库里面。这样提高了安全系数，还帮你解决了记密码的难题。但是有人可能会说了，如果这个密码被人破解了那不就所有账号密码都被人知道了？其实这也是有道理的。但是普通用户的正常使用的情况下被破解的可能性很低的。这需要你把这一个账号的安全系数提高。你只需要设置一个密码，所以就尽量将其设置为高强度密码，如果记不住也可以写在本子上或者用其他编码加密后写到记事本或者哪里，当然别把账号和密码写在一起了。</p>

<blockquote>
<p>还有人可能会说了，我的浏览器就有记住密码功能，那为什么还要用这个呢？</p>
</blockquote>

<p>一个是浏览器自带的密码管理器功能比较简单，一般是提供记住账号密码，下次会自动输入。但是注册时候有些其他信息，需要你记下来的话，普通浏览器的密码管理器却不会帮你记下来。（这些信息可能用来将来申诉或者找回密码使用）另一个是浏览器的密码管理器也有风险，如果不能保证你的电脑是本人在使用的话，浏览器记住密码的网站可能会被他人登录。当然离开电脑前锁定账户是一个很好的习惯。</p>

<h2 id="几款比较热门的密码管理器">几款比较热门的密码管理器</h2>

<p>这里列几个我最近研究的几个密码管理器。其实这也是和手机什么的一样，各有各的特点。你可以根据自己的情况来选择。1password由于大家都说是不差钱玩的，所以我就跳过了，虽然这款是评价最高的密码管理器。</p>

<h3 id="keepass">Keepass</h3>

<p>Keepass是一款开源，免费，小巧的密码管理器。在查询的过程中，知道这是一款很受好评的密码管理器。Keepass提供的是很安全的加密方式来保存你的各种密码，用户名，或者可以备注。是通过kdbx后缀形式的数据库来保存，可以保存在本地硬盘，网盘，或者Webdav服务器是随时同步。</p>

<h4 id="客户端">客户端</h4>

<p>官方是提供了PC端的软件。不过由于是开源的，所以有很多人开发了各个平台的第三方应用。
比如
- 安卓：<a href="https://play.google.com/store/apps/details?id=keepass2android.keepass2android&amp;hl=zh" rel="nofollow noreferrer" target="_blank">Keepass2Android</a>
- iOS：MiniKeePass，iKeePass，Passwordix 等
- Windows/Linux/MacOS: <a href="https://keepassxc.org/download/" rel="nofollow noreferrer" target="_blank">KeepassXC</a>
- 浏览器端的应用: <a href="https://app.keeweb.info/" rel="nofollow noreferrer" target="_blank">KeeWeb</a> 这个强烈推荐</p>

<p>Keepass还提供了Chrome浏览器的扩展插件<a href="https://keepass.info/plugins.html#chromeipass" rel="nofollow noreferrer" target="_blank">chromeIPass</a>，利用这个可以实现自动填充密码，记录新密码到数据库等操作。不过设置有点点麻烦，而且需要保持客户端运行。之后可以写一篇设置的教程。</p>

<p>至于手机端应用软件，个人觉得实用性一般，因为手机上也可以用Chrome浏览器自带的密码管理器帮你记住密码，自动填充这样更方便了。不用再安装一个软件来记录或者填充，而且安卓上我使用Keepass2Android好多次在载入数据库的时候闪退。所以个人前面强烈推荐KeeWeb来作为主力。因为你只需要一个浏览器，界面UI好看，手机端操作也适配的挺好，功能又强大。这里也预留一篇KeeWeb的应用教程。因为我的确花了很多时间在这上面。。。</p>

<h4 id="windows客户端界面">Windows客户端界面</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnle8m2wdj30i80dcdgd.jpg" alt="KeepassWindows客户端界面" class="lazyload"><figcaption class="image-caption">KeepassWindows客户端界面</figcaption></figure></p>

<h4 id="支持其他平台数据导入">支持其他平台数据导入</h4>

<p>而且Keepass客户端也支持从其他各大密码管理器平台导入数据。例如Lastpass等密码管理器，CSV数据，Chrome浏览器数据等。我觉得这点也非常重要。因为我用了这么多年Chrome浏览器，导出后发现有近千条密码记录，所以这样一键导入就非常方便了。</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnlh5rw43j30i80dcjsl.jpg" alt="Keepass支持多平台数据导入" class="lazyload"><figcaption class="image-caption">Keepass支持多平台数据导入</figcaption></figure></p>

<p>其实很多人选择Keepass是因为其绿色开源，在兼顾到平台兼容性突出并且用的比较放心。</p>

<h3 id="lastpass">LastPass</h3>

<p>与Keepass不同的是LastPass是不开源的。不过其支持Windows, Mac, Linux, iOS, Android, Windows Phone, 各大主流浏览器（IE, Chrome, FireFox, Opera, Safari），兼容性非常优秀，而且浏览器插件做的功能又强大又好看。</p>

<h4 id="lastpass-chrome浏览器插件">LastPass Chrome浏览器插件</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnlxyrgldj30a40dpjrm.jpg" alt="LastPass Chrome浏览器插件" class="lazyload"><figcaption class="image-caption">LastPass Chrome浏览器插件</figcaption></figure></p>

<p>可以看到功能还是很丰富的。支持的功能有站点的账户，密码记录，写安全笔记，表单的自动填写以及生成安全密码。</p>

<h4 id="注册界面可以方便生成密码">注册界面可以方便生成密码</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnm7dd0y8j30dm0cp0sy.jpg" alt="注册界面可以方便生成密码" class="lazyload"><figcaption class="image-caption">注册界面可以方便生成密码</figcaption></figure></p>

<p>在网站的注册界面的密码输入栏右边有个按钮，可以一键生成密码，还可以指定密码的强度，并且LastPass可以帮你直接把密码输入到密码栏和密码确认栏。</p>

<h4 id="lastpass官网">LastPass官网</h4>

<p>LastPass可以直接在官网直接管理。你只需要注册LastPass一个账号和高强度密码并记住它。而且LastPass也支持其他平台的数据导入。非常方便</p>

<h4 id="手机客户端很强大">手机客户端很强大</h4>

<p>和其他手机客户端相比较之下，LastPass可以很好的支持手机Chrome浏览器来自动填充，每次都能及时的弹出。我只试用了安卓客户端。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnoucczvqj30dw0afdhq.jpg" alt="手机客户端很强大" class="lazyload"><figcaption class="image-caption">手机客户端很强大</figcaption></figure></p>

<h4 id="费用">费用</h4>

<p>LastPass在PC端是免费使用。移动端需要开通高级会员，定价为一个月2美元。一年24美元。
不过有时会搞特价活动。就像目前打折2.5折，一年只需要6美元。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnmo0lpxpj30lz0hh3z8.jpg" alt="费用" class="lazyload"><figcaption class="image-caption">费用</figcaption></figure></p>

<p>LastPass是一款非常好用的密码管理器。如果你能接受付费，不在意密码托管于LastPass管理的话，或许这是一个非常不错的选择。</p>

<h3 id="bitwarden">Bitwarden</h3>

<p>这一款是偶然在<a href="https://www.appinn.com/bitwarden/" rel="nofollow noreferrer" target="_blank">小众软件</a>上看到的。几乎支持所有的平台包括：Windows,Linux,MacOS的桌面平台，Chrome,Firefox,Safari,Opera等主流浏览器以及iOS,安卓平台的移动设备，和LastPass一样，它也有在线管理平台。</p>

<h4 id="全平台支持">全平台支持</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnntbpeaij30r90qg0uq.jpg" alt="各大平台支持" class="lazyload"><figcaption class="image-caption">各大平台支持</figcaption></figure></p>

<p>Bitwarden的Chrome浏览器插件也不错，和LastPass类似，但它是开源的。可能会有一部分人看到开源比较放心。</p>

<h4 id="chrome浏览器插件">Chrome浏览器插件</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnnwm0i7sj30at0h2t8w.jpg" alt="Chrome浏览器插" class="lazyload"><figcaption class="image-caption">Chrome浏览器插</figcaption></figure></p>

<h4 id="费用-1">费用</h4>

<p>价格方面，Bitwarden免费版完全够用，但是如果你有以下需求，或许可以试试高级会员版。相比之下很便宜了。
&gt; 注册高级会员，获得：
&gt;
&gt; 1 GB 加密文件存储。
&gt; YubiKey、FIDO U2F 和 Duo 作为两步验证登录选项。
&gt; 为您的密码库登录采用 TOTP 验证码（两步验证）生成器。
&gt; 优先客户支持。
&gt; 未来所有高级功能。即将到来！
&gt; 只需 $10 /每年！</p>

<p>只要每年10美金就可以升级成为高级版，这价格真的很有性价比。</p>

<h3 id="enpass">Enpass</h3>

<h4 id="跨平台支持">跨平台支持</h4>

<p>Enpass是一款跨平台密码管理器，提供了以下平台的支持。
- iPhone+iPad
- Android
- Windows
- Mac OS X
- Windows PC
- Linux
- Portable
- Chromebook</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftno3oyft7j30qr03dmx3.jpg" alt="全平台支持" class="lazyload"><figcaption class="image-caption">全平台支持</figcaption></figure>
在每个人有好几个设备的今天，跨平台就显得非常重要了。Enpass正好可以解决这一问题。</p>

<h4 id="设计风格">设计风格</h4>

<p>Enpass在界面设计上也是比较出色的。电脑客户端还是手机客户端，都非常好看。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftnoa0o9hvj30oe0fs74t.jpg" alt="设计风格" class="lazyload"><figcaption class="image-caption">设计风格</figcaption></figure></p>

<h4 id="数据管理方式">数据管理方式</h4>

<p>Enpass和Keepass的数据管理方式有点像，也是在第一次打开客户端的时候会让你选择或者新建一个数据库。这个数据库不用上传到Enpass官网，也是采用本地数据库管理或者自己上传到Onedrive，Google Drive，Dropbox等网盘或者自建Webdav服务器上。有些人还是比较放心自己保管数据库。</p>

<h4 id="费用-2">费用</h4>

<p>Enpass免费提供桌面客户端使用，手机端的话可以免费使用，但是只能显示20条密码记录，如果记录的数据多了，也可以考虑花钱升级。不过Enpass是在手机端直接内购升级，一次付费，永久使用，相比其他月付年付的付费方式，Enpass更适合长久使用的用户。</p>

<p>Enpass的功能还是很全面的。跨平台，并且自己管理数据库（有好有坏），一次付费永久使用。据说这款还是很类似于1Password。</p>

<h2 id="总结">总结</h2>

<p>本人最终还是选择了Keepass。理由是：
- 开源，安全
- 免费
- 全平台支持
- 配合其他第三方应用足够使用</p>

<p>其实还是看到KeeWeb觉得很方便，所以选择了Keepass。</p>

<p>但是也有想过结合LastPass的桌面客户端，手机端就用KeeWeb来同步数据。但是由于LastPass是不是自己保存数据库，虽然可以导出，但是每次修改导出还是比较麻烦。不过好在密码也不会经常变换，所以这种方式也是可行的。因为感觉LastPass的桌面客户端真的太好用了。相比较之下Keepass就比较一般了。可以一段时间导出一次LastPass的数据，用来备份和同步到手机客户端。</p>

<h2 id="最终方案是keepass-lastpass桌面端-keeweb浏览器端搭配使用">最终方案是Keepass+Lastpass桌面端+KeeWeb浏览器端搭配使用。</h2>

<p>title: CSS学习笔记
date: 2017-06-25
tags:
- CSS
categories: [技术记录]</p>

<h2 id="url-technology-css-study-note">url: /technology/css-study-note</h2>

<p>CSS样式的三种方式</p>

<ol>
<li>内嵌式</li>
<li>嵌入式</li>

<li><p>外部式</p>

<pre><code>&lt;link href=&quot;base.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</code></pre></li>
</ol>

<p>三种方式的优先级：内联式 &gt; 嵌入式 &gt; 外部式</p>

<h2 id="more"><!--more--></h2>

<p>title: クラウドサービス企業ノAWSとその他の企業Azure　GCP　IBM　CLOUDなどの比較
tags:
  - AWS
  - Azure
categories:
 - 技术记录
date: 2018-06-06
toc: true
draft: false
url: /technology/difference-of-iaas-saas-paas
keywords: AWS，Azure,クラウド,IBM
description: クラウドとは、インターネットに接続することを前提とする各種のサービスのことです。主体がインターネットの向こう側にあり、利用量に応じて柔軟にキャパシティを増やせることが特徴といえます。サービスは、コンピュータリソースだったり、アプリケーションだったり、OSであったり、様々なものを提供しています。そこからクラウドの意味も人によって様々な捉え方をされているようです。</p>

<hr />

<p>今回は課題としてクラウドサービスの現状を調べました。今後閲覧しやいために、ここでまとめました。</p>

<h1 id="クラウドとは">クラウドとは</h1>

<p>概念的な説明をすると、クラウドとは、インターネットに接続することを前提とする各種のサービスのことです。
主体がインターネットの向こう側にあり、利用量に応じて柔軟にキャパシティを増やせることが特徴といえます。サービスは、コンピュータリソースだったり、アプリケーションだったり、OSであったり、様々なものを提供しています。
そこからクラウドの意味も人によって様々な捉え方をされているようです。
<!--more--></p>

<p>例えば、
・メールやカレンダーといったグループウェアなどのように捉えている
・データを保存するストレージのように捉えている
・開発環境のように捉えている
などなど…。</p>

<p>言葉のみでみると、それらは別個のものであり、とても同じ「クラウド」を指しているようには見えないかも知れません。しかし、実はこれらは全て「クラウド」を指しています。
クラウド、で表す意味の範囲はとても広く、幅広く様々な意味で解釈されています。そのため実際に仕事上の会話で利用する場合、現在では、利用形態によって分類した用語が使用されます。
それが、「IaaS」「PaaS」「SaaS」に当たります。
それでは、この「IaaS」「PaaS」「SaaS」とはどのようなものなのかを、以下で説明します。</p>

<h1 id="iaas-paas-saasの違い">IaaS、PaaS、SaaSの違い</h1>

<h2 id="iaas">IaaS</h2>

<p>”Infrastructure as a Service”つまり「サービスとしてのインフラ」と訳されるIaaS。読み方は「イァース」「アイアース」です。
情報システムの稼動に必要な仮想サーバをはじめとした機材やネットワークなどのインフラを、インターネット上のサービスとして提供する形態のことを指します。少々乱暴に区分すると、これまでのホスティングサービスと言われるサービスと提供範囲の区分ではほぼ変わりません。では何が異なるかと言うと、IaaSの最後の「サービス」という点になります。サーバを利用する際に必要なハードウェアのスペックやOSを、ユーザーが自分で自由に選定して、ネットワーク越しに利用することが可能です。Google Compute Engine や Amazon Elastic Compute Cloud (EC2) が代表的なサービスとして挙げられます。
IaaSでは
仮想サーバ
ハードディスク
ファイアーウォール
などのインフラを提供します。
PaaSと違って最低限の環境しか提供されないので
メリット：アプリ・プラットフォームをかなり自由に開発できる
デメリット：開発には専門的なスキルが必要
という2点が特徴です。例えるなら「土地だけを借りてお店を作る方法」ですね。</p>

<p>具体的には
Google Compute Engine
Amazon Elastic Compute Cloud
Xサーバーなどのレンタルサーバーなどのサービスがあり、無料CMSのWordPressを利用するために使われることもあります。
また、VPSとの違いは
IaaS：料金は使った分だけで、柔軟にリソースの量を変えられる
VPS：料金は一定で、リソースを変えるためには契約を変えなければならない
というポイントです。</p>

<h2 id="paas">PaaS</h2>

<p>PaaSとは”Platform as a Service”の略で、読み方は「パース」です。主に、PaaSは企業でのサービス開発に利用されます。
アプリケーションソフトが稼動するためのハードウェアやOSなどのプラットフォーム一式を、インターネット上のサービスとして提供する形態のことを指します。
このPaaSは、エンドユーザにオンライン上でサービスを提供するSaaSの考え方をさらに深化させたものとなり、プラットフォームを大規模なデータセンターなどに用意して外部に開放し、主に企業などのユーザーが、その上にサービスを開発するものになっています。
開発者は、あるシステム設計に沿った方法でアプリケーションを開発できるので、コストを抑えてかつ早くシステム開発をおこなうことができます。　Google App Engine やMicrosoft Azure（マイクロソフト・アジュール）などが代表的なサービスとして挙げられるでしょう。</p>

<p>PaaSは「サービスとしてのプラットフォーム」という意味で、開発に必要な
ネットワークなどのインフラ　OSなどのプラットフォームをインターネット上で使用できます。必要な環境がすでに揃っているので、プログラムを作ることに集中できるのは大きなメリットです。</p>

<p>お店で例えるならすでに電気・水道などのインフラがそろった、ショッピングセンターのテナントですね。
以前はセキュリティの問題もありましたが、サービス提供元の対策やユーザー側の意識アップにより改善しつつあります。
また2017年現在、具体的なPaaS提供サービスは</p>

<p>Google App Engine（Google Cloud Platform）
Microsoft Azure（マイクロソフト・アジュール）
Heroku（へロク）
IBM Bluemix
などです。Python/Java/Go/PHP/Node.JS/Ruby on Railsなどのプログラミング言語が使われます。
また、価格は従量課金制であることが多く、使った分だけ料金を支払う形がほとんどです。</p>

<h2 id="saas">SaaS</h2>

<p>普段からよく使う方も多い
Gmail、Yahoo!メール
Google Photo
無料ブログサービス
などはSaaSです。”Software as a Service”の略で「サース」と呼ばれます。</p>

<p>これまでパッケージ製品として提供されていたソフトウェアを、インターネット経由でサービスとして提供・利用する形態のことを指します。
SaaSの特徴としては、以下のようなものが考えられます。
・データをインターネット上に保存することができる
・PC、スマートフォン、タブレットなど端末を選ばずにデータにアクセスできる
・複数の人間が同一データを共有し、更に編集もできる
Google Apps やSalesforceなどがSaaS型サービスの代表例として挙げられるでしょう。</p>

<p>メリット・デメリットは以下の通りです。
メリット：全てのサービスがウェブ上で使えるので、開発のスキルや手間なく使える
デメリット：すでに用意してあるサービスなので、自由度は低い
お店で例えるなら、以前のお店が残した設備がある居抜きのようなものです。スピーディにサービスを利用したいときには便利ですが、カスタマイズをしたいなら自由度は低く感じるでしょう。</p>

<blockquote>
<p>まとめ
IaaS、PaaS、SaaSの区別についてまとめると、ソフトウェアサービスを提供するのに必要な構成要素の提供段階によって区別することができます。
その構成要素は大きく分けて、ネットワーク、ハードウェア、オペレーティングシステム（OS）、ミドルウェア、アプリケーション、の5つに区分されます。基本的にはこの5つはこの逆順に依存関係にあります。アプリケーションはミドルウェアが無いと動作せず、ミドルウェアはOSが無いと動作しない、ということを覚えておくと良いでしょう。
SaaSは5つの要素がすべて含まれており、近年最も利用されているクラウドサービスです。
SaaSを導入することで、これまでソフトウェアを購入・インストール
するコストや時間、セキュリティの問題などが大幅に改善され、ユーザーのサービス利用におけるハードルが劇的に緩和されるようになりました。</p>
</blockquote>

<h2 id="２-クラウドプラットフォームの紹介">２、クラウドプラットフォームの紹介</h2>

<p>最初に簡単な既存のクラウドプラットフォームの紹介です</p>

<blockquote>
<p>・Google Cloud Platform (GCP):
GCPの開始は2011年10月6日のことだ。開始後わずか5年で、市場で大きな存在感を示すようになった。
まずYouTubeやGoogleといった自社のサービスを稼働させることから始まり、後にはエンタープライズサービスを作り上げ、誰もがクラウドを使えるようになった。運営するのはGoogleだ。</p>

<p>・Amazon Web Services (AWS):
11年もの稼働年数を持つAWSは市場で最も歴史あるサービスの1つだ。彼らのサービスは幅広く、配置やモバイルネットワーキングなどクラウドでの重要な分野をカバーしている。
運営するのはAmazonだ。</p>

<p>・Microsoft Azure:
Azureの歴史も6年ほどで、市場における有望株だ。市場をリードしているAWSとも楽に組み合わせることができる。Azureもまた一通りのクラウドサービスを提供している。運営はMicrosoftだ。
注：クラウドサービスは予め設定された製品の組み合わせによって構成されている。</p>
</blockquote>

<h1 id="各クラウドサービス社の世界シェア">各クラウドサービス社の世界シェア</h1>

<p>下記はクラウドサービスの世界シェア表
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" alt="クラウドサービスの世界シェア" class="lazyload"><figcaption class="image-caption">クラウドサービスの世界シェア</figcaption></figure>
Source: Gartner (September 2017)</p>

<blockquote>
<p>AWSは世界のクラウド市場の中で圧倒的なシェア (44%)を堅持。</p>
</blockquote>

<p>#各社の比較</p>

<h2 id="仮想マシンの起動速度">仮想マシンの起動速度</h2>

<blockquote>
<p>仮想マシンを起動する際、起動が完了するまでの時間には大きな違いがあります。どのクラウドも自動スケーリングに対応してはいるものの、この速度の違いにより、対応の柔軟性には大きな差がでることになるでしょう。</p>

<p>AWS：1分程度
Azure：2分30秒以上
Google Cloud Platform：40秒以内</p>
</blockquote>

<h2 id="vmの選択方法">VMの選択方法</h2>

<blockquote>
<p>マシンタイプの選択方法も異なります。AWS、Azureでは、あらかじめ用意されたマシンタイプの種類から選択しなければなりませんが、サービスもあれば、Google Cloud Platform では、用途に合わせて自由にマシンをカスタマイズですることができます。</p>

<p>AWS：コア数、メモリ、ディスクのセットから選択
Azure：コア数、メモリ、ディスクのセットから選択
Google Cloud Platform：カスタムマシンにより、コア数、メモリ、ディスクを別々に設定可能</p>

<p>たとえば、大容量のSSDストレージを利用したいけれど、高いCPU処理能力は必要ないといったケースでも、柔軟にカスタマイズすることができるため、無駄なCPUリソースに対して支払いをする必要はありません。</p>
</blockquote>

<h2 id="計算方法-課金対">計算方法、課金対</h2>

<blockquote>
<p>この三つのクラウドでは、仮想マシンやストレージなどのサービスの利用料金は従量制となっています。しかし、実際には、その計算方法や、課金対象は同じではありません。たとえば、AWS、Azureでは1時間単位での従量課金ですが、Google Cloud Platformでは分単位の課金となります。環境の検証や、スパイクへの短時間のスケール等の用途では、短い単位での課金形式の方が、コストメリットが大きくなるでしょう。</p>

<p>AWS：時間単位課金
Azure：時間単位課金
Google Cloud Platform：分単位課金</p>
</blockquote>

<h2 id="ディスカウント">ディスカウント</h2>

<blockquote>
<p>クラウド事業者ごとに、ディスカウントの仕組みにも違いがあります。たとえば、AWSでは長期の利用があらかじめ分かっている仮想マシンに対して、数1年～3年のリザーブドインスタンス契約をすると大幅な割引がされるシステムが用意されています。Azureにも、同様の長期契約が用意されています。他方で、Google Cloud Platformでも、このような長期利用に対する割引を用意されてはいますが、事前の契約は必要なく、利用の長さに応じて自動的に適応されます。
また、Azureの大規模なエンタープライズ向けの割引や、Google Cloud PlatformのプリエンプティブルVMに対する大幅な割引など、それぞれのクラウド独自のものも用意されています。</p>

<p>AWS：リザーブドインスタンス割引
Azure：12カ月の前払い割引。大規模なエンタープライズ向け割引
Google Cloud Platform：自動適用の長期利用割引。プリエンプティブルVM割引</p>

<h2 id="ライセンス利用">ライセンス利用</h2>

<p>AWS、Azure、Google Cloud Platformでは、クラウド内利用できるライセンスにも違いがあります。特にRDBMSに関して、AWSとAzureではMySQL、PostgreSQLなどのオープンソースのものに加え、Oracleを使用することもできます。しかし、Google Cloud Platform のCloud SQLではMySQLしか利用することができません。Googleはオープンソースソフトの相性の良さを強みとしていますが、商用ライセンスの正式サポートを必要とする場合には、AWSかAzureを選択する必要があるでしょう。</p>

<p>AWS：Oracleサポート有り
Azure：Oracleサポート有り
Google Cloud Platform：MySQLのみ</p>

<h2 id="データ分析サービスの違い">データ分析サービスの違い</h2>

<p>パブリッククラウドを利用する際、ビックデータの解析基盤として利用するケースも多いでしょう。AWS、Azure、Google Cloud　Platformのどのクラウドでも、ビックデータの蓄積・分析のためのデータウェアハウスのサービスが用意されていますが、それぞれ大きく異なった特徴を持っています。</p>

<p>AWSのデータ分析基盤であるRedshiftは、インスタンスを大量に用いて分散処理させることで、最大1.6PBまでスケールアウトすることが可能という強みを持っています。しかし、そうした計算リソースのセットアップを行う必要があったり、チューニングが必要であったり、一定の手間がかかることになります。</p>

<p>AzureのSQL Dataware Houseも、Redshiftのように大規模な並列処理を行う基盤です。Redshiftと比べて、ストレージとコンピューティングを分けて設計できる点、リソースのスケール速度が速い点などが強みとなりますが、Redshift同様の手間と料金がかかることに変わりません。</p>

<p>他方で、GoogleのデータウェアハウスBigQueryは、この二者とは全く異なった特徴をもっています。ビッグデータの分散処理を行う際、BigQueryではGoogleのデータセンター内の大量のリソースが自動的に割り振られるため、利用者は計算リソースを全く意識する必要はありません。料金も、使用したリソースではなくクエリーに対しての従量課金となるため、必要なときにだけ、非常に安価に分析を行うことができます。さらに、数十億行という膨大なデータも数秒で処理ことができるほどの性能を持っているため、リソースの細かいチューニングなどを行わなくとも高速な分析基盤を利用することが可能です。</p>
</blockquote>

<h1 id="参考文献">参考文献：</h1>

<p><a href="https://www.myseo.com.cn/note/613.html" rel="nofollow noreferrer" target="_blank">AWS、Azure、Google Cloud Platform の比較</a>
<a href="https://www.gartner.com/newsroom/id/3808563" title="Gartner「Gartner Says Worldwide IaaS Public Cloud Services Market Grew 31 Percent in 2016」" rel="nofollow noreferrer" target="_blank">Gartner「Gartner Says Worldwide IaaS Public Cloud Services Market Grew 31 Percent in 2016」</a>
<a href="https://licensecounter.jp/azure/download/Microsoft_Azure_vs_Amazon_Web_Services.pdf" rel="nofollow noreferrer" target="_blank">Microsoft Azure vs Amazon Web Services徹底比較</a>
<a href="https://dbit.jp/articles/cloud-2017" title="GCP vs AWS vs Azure vs IBM、クラウド事情2017年版まとめ" rel="nofollow noreferrer" target="_blank">GCP vs AWS vs Azure vs IBM、クラウド事情2017年版まとめ</a></p>

<hr />

<p>title: DNSPod收费功能彻底免费啦
id: 299
date: 2011-08-26
tags:
categories: [小道消息]
url: /news/dns-free-vip
keywords: DNSPOD,域名解析</p>

<h2 id="description-dnspod宣布收费功能彻底免费">description: DNSPOD宣布收费功能彻底免费。</h2>

<p>亲爱滴DNSPod用户：</p>

<p>为了给大家提供更优质的DNS解析服务，阿D决定在8月25日对产品线进行全新升级，此次升级会将超值套餐的服务免费提供给大家，以后免费解析不仅更快更稳定，而且还可以享受更多更强大的功能，比如多至10条的URL转发，更强大的宕机检测，2级泛解析，域名共享、搜索引擎线路划分等。<!--more--></p>

<p>此次升级综合了用户的需求和建议，不仅对解析没有任何影响，而且更加注重用户的体验。届时您可以登陆官网（<a href="https://www.dnspod.cn/" rel="nofollow noreferrer" target="_blank">https://www.dnspod.cn</a>）查看新产品线，并根据自己的需求体验更多的功能服务。</p>

<p>如果您对此次升级有任何疑问或者建议，请联系企业QQ：800020304或移步我们的官方论坛<a href="http://bbs.dnspod.cn/" rel="nofollow noreferrer" target="_blank">http://bbs.dnspod.cn</a>咨询。</p>

<p>感谢您对DNSPod一如既往的支持与信赖！
&gt; <span style="color: #1f497d;"><span>尊敬的</span></span><span style="color: #1f497d;"><span><span>DNSPod </span></span></span><span style="color: #1f497d;"><span>免费用户：</span></span>
&gt;
&gt; <span style="color: #1f497d;"><span>
&gt;
&gt; </span></span>
&gt;
&gt;        为了给大家提供更优质的DNS解析服务，并回馈广大用户的支持，从2011年8月25日起，DNSPod对产品线进行升级。我们决定下架个人超值VIP套餐，并对免费套餐进行了升级。从现在起，免费用户不仅能获得更快更稳定的解析，还可以享用更多更强大的功能。
&gt;
&gt; 本次免费套餐升级给用户增加了更强大的宕机检测功能、多至10条的URL转发、搜索引擎线路划分、别名绑定和更安全的域名锁定等功能。
&gt;
&gt;
&gt; 拥有这些功能您可以享受到：
&gt;
&gt;
&gt; <strong>个性的网站入口，用户体验更人性化</strong>
&gt;
&gt;
&gt;         有了URL转发，您的用户可以更轻松的访问您的网站，而不必记忆那繁琐冗长的地址。假如您有两个域名，通过URL转发，可以将其中的个性域名重定向到另一个域名上，这样您的用户就可以通过这个个性的域名地址来访问您的网站。不仅这样，它还可以将您的老域名的权重转移到新域名上，省去了搜索引擎重新收录给您带来的麻烦，提高新域名的知名度。
&gt;
&gt; <strong>超短的服务器监控间隔，给您的网站保驾护航</strong>
&gt;
&gt;
&gt;        跟服务器宕机带来的担忧和烦恼说再见吧。宕机检测功能可以在您的服务器出现故障宕机时，将域名自动解析到备用服务器上，当挂掉的服务器恢复后将自动切换回原IP，而这一切仅需要您轻轻一点鼠标即可完成。全面升级的免费套餐拥有超短的服务器监控时间，宕机检测效率比之前提高了5倍，让您从此高枕无忧。
&gt;
&gt; <strong>修改记录瞬间完成，让您心满意足</strong>
&gt;
&gt;
&gt; 在DNSPod后台修改记录，您会发现，几乎在您修改完记录后，眨眼的时间就已经生效了，再也不用等待10分钟甚至更多的时间了。
&gt;
&gt; 更多详细改进请看新的产品线介绍。
&gt;
&gt;
&gt;        感谢您对DNSPod一如既往的支持。如果您对此有任何疑问，请联系企业QQ：800020304 或移步我们的论坛<a href="http://bbs.dnspod.cn/" rel="nofollow noreferrer" target="_blank">http://bbs.dnspod.cn</a> 咨询。
&gt;</p>

<h2 id="span-style-font-size-xx-small-span-style-color-ff0000-此次产品升级最终解释权归dnspod所有-span-span">&gt;      <span style="font-size: xx-small;"><span style="color: #ff0000;">  此次产品升级最终解释权归DNSPod所有。</span></span></h2>

<p>title: 电动车没电什么的，最讨厌了～
id: 68
date: 2010-09-16
tags:
categories: [生活随想]</p>

<h2 id="url-life-i-hate-about-electric-mobike-no-power">url: /life/i-hate-about-electric-mobike-no-power</h2>

<p>开学了。上学用的电动车在使用一年半后电瓶接近报废了…无奈只好花了将近六百大洋换了电瓶，在换的时候还在犹豫着要不要还助力车…涛哥给我提了醒：把电瓶拿去修复吧，在呀迪的店旁边有个电动车电瓶修复的店…。还是换个吧…也不知道修复的效果如何…价格怎样…
<!--more--></p>

<h2 id="谁知-换完电动车后-我心血来潮上网查了电动车电瓶的保养-也许是花了六百大洋的原因-发现自己以前用法对电瓶简直是折磨-难怪那么容易就罢工了-不过网上人们也是说电动车电瓶也只能用一年多-不过这价格啊-太贵了吧-知悉保养方法了-现在却对充电的时间和频率次数烦死了-原本电瓶已经坏了-所以比较无所谓-现在可是新的电瓶啊-唉-总之一句话-万恶的电动车-对于我使用过电动车-经历过没电的人-电动车是一个噩梦-我多么渴望能有一台燃油的车">谁知，换完电动车后，我心血来潮上网查了电动车电瓶的保养（也许是花了六百大洋的原因…），发现自己以前用法对电瓶简直是折磨…难怪那么容易就罢工了…不过网上人们也是说电动车电瓶也只能用一年多…不过这价格啊，太贵了吧。知悉保养方法了，现在却对充电的时间和频率次数烦死了！原本电瓶已经坏了，所以比较无所谓，现在可是新的电瓶啊。唉，总之一句话，万恶的电动车！对于我使用过电动车、经历过没电的人，电动车是一个噩梦，我多么渴望能有一台燃油的车…</h2>

<p>title: 喜爱的NBA球员狼王加内特纪录片
id: 49
date: 2010-08-11
tags:
categories: [生活随想]</p>

<h2 id="url-life-nba-kevin-garnett-video">url: /life/nba-kevin-garnett-video</h2>

<p>我原来很少关注NBA。。后来我被堂哥影响了（他经常看NBA  打NBA 游戏） :mrgreen:  他喜欢凯文·加内特，我渐渐得也喜欢上了这位狼王。他能给人一种霸气，是真男人。当然打篮球 不用说。
<!--more-->
下面给个狼王的纪录片~不好意思额。没有字幕的。。 :-(</p>

<h2 id="点击我弹出视频尽情欣赏哦-http-player-youku-com-player-php-sid-xmtgxnjmwmjiw-v-swf"><a href="http://player.youku.com/player.php/sid/XMTgxNjMwMjIw/v.swf" rel="nofollow noreferrer" target="_blank">点击我弹出视频尽情欣赏哦</a></h2>

<p>title: 电影夜店恶搞视频片段《哥是女人》
id: 43
date: 2010-08-07
tags:
categories: [影音资源]</p>

<h2 id="url-video-iam-woman-fucking-video">url: /video/iam-woman-fucking-video</h2>

<p>电影《夜店》的片段被人连起来配音 成了挺搞笑的小短片 呵呵，有兴趣就看看吧
<!--more-->
<strong>点击链接后将会弹出视频窗口，敬请欣赏哦</strong></p>

<h2 id="点击这里观看视频-http-player-youku-com-player-php-sid-xmte1nda0mzg4-v-swf"><a href="http://player.youku.com/player.php/sid/XMTE1NDA0Mzg4/v.swf" rel="nofollow noreferrer" target="_blank">点击这里观看视频</a></h2>

<p>title: 忘记Imagevue的登录信息的解决方案
id: 206
date: 2011-03-06
tags:
- 图床
categories: [技术记录]
url: /technology/forgot-imagevue-login-information</p>

<h2 id="keywords-图床-imagevue-相册程序">keywords: 图床,Imagevue,相册程序</h2>

<p>今天想要登录下<a href="http://www.guosao.com" rel="nofollow noreferrer" target="_blank">锅烧网媒体库</a>，但好像登录的用户名密码都不正确，无法正常登录，所以在网上找了找，看到zfreet.com的一个教程，现在分享下方法。
<!--more--></p>

<p>找到**\imagevue\config\users.php <strong>这个文件，由于无法破解里面的加密信息，所以只能删除该文件，然后进入登录地址，用初始的</strong>admin/admin** 进去，然后再修改用户名及密码。</p>

<h2 id="感谢zfreet-教程地址-http-www-zfreet-com-post-reset-password-of-imagevue-x2-html">感谢zfreet <a href="http://www.zfreet.com/post/reset-password-of-imagevue-x2.html" rel="nofollow noreferrer" target="_blank">教程地址</a></h2>

<p>title: 坑爹的2011年福建高考
id: 246
date: 2011-07-24
tags:
categories: [生活随想]</p>

<h2 id="url-life-fuck-2011-fujian-gaokao">url: /life/fuck-2011-fujian-gaokao</h2>

<p>今年的高考已经结束，现在福建正在进行本二的招生，我很不幸地落榜了，以一分只差与本科线无缘，真TMD衰，我身边的人不是高中就是差本二好多分，朋友都说我这个分数最麻烦。<!--more--></p>

<p>福建今年装逼，取消了本三线，这对于我们即将马上高考的十分不利，和往年不一样了，填报志愿怎么参考？原本要上本三的同学还不只能去上大专？比如我，就一分之差。这次的福建高招办被骂的半死，高考成绩查询就骗了所有考生和家长，害人家24号凌晨苦苦通宵等待成绩的出来，然后等到 24号下午才发个消息 说25号 下午五点出来。这不是欺骗人吗？还有在4月份的时候各大网站曾经有一则新闻，说的是** “福建省扩大本二批招生规模 400分左右有望上本二院校”**<a href="http://fj.sina.com.cn/news/s/2011-04-22/082898225.html" rel="nofollow noreferrer" target="_blank">http://fj.sina.com.cn/news/s/2011-04-<sup>22</sup>&frasl;<sub>082898225</sub>.html</a>， 高考之前谁都不知道，你这么说不也是骗人么。</p>

<h2 id="本科二批报志愿截至7月20号-拖到最后一天报了省内去年的本三校-省外的本三-只能这样了">本科二批报志愿截至7月20号，拖到最后一天报了省内去年的本三校，省外的本三。。只能这样了。</h2>

<p>title: git push远程版本和本地版本冲突时强制覆盖已有的分支有的分支
tags:
  - Git
categories: [技术记录]<br />
date: 2018-08-03
url: /technology/git-commit-push-rejected-error
keyword: Git,分支,博客,备份</p>

<h2 id="description-本文记录了在git-push的时候出现rejected的远程版本和本地版本冲突错误时-通过强制覆盖已有的分支有的分支来及决的办法">description: 本文记录了在git push的时候出现rejected的远程版本和本地版本冲突错误时，通过强制覆盖已有的分支有的分支来及决的办法。</h2>

<p>前面我们讲到<a href="https://huaien.me/article/blogengine/how-to-backup-hexo-to-github/" rel="nofollow noreferrer" target="_blank">备份 Hexo 源码文件到GitHub仓库</a>
在尝试将本地hexo源码文件同步到GitHub仓库的hexo分支的时候，执行
<!--more--></p>

<pre><code>git add .
git commit -m &quot;backup&quot;
git push -u origin hexo
</code></pre>

<p>最后提示下面的错误：</p>

<p>rejected的远程版本和本地版本冲突错误</p>

<pre><code>! [rejected]        hexo -&gt; hexo (non-fast-forward)
error: failed to push some refs to 'https://github.com/Wyane/Wyane.git'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')
hint: before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
</code></pre>

<h2 id="解决-1">解决</h2>

<p>原来是远程仓库的分支内容与本地不符。导致无法提交更新，
可以先试着<code>git pull</code>
如果能解决就最好，但是我还是提示错误，最后查询网上资料，还是得通过 -f参数来强制覆盖已有的分支。</p>

<pre><code>git push -u origin master -f
</code></pre>

<p>这样就不会报错了。如果有重要文件 ，建议还是先备份，毕竟是强制覆盖，万一出问题的话丢失文件就麻烦了。</p>

<h2 id="来源-1">来源</h2>

<ul>
<li><p><a href="https://blog.csdn.net/shiren1118/article/details/7761203" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/shiren1118/article/details/7761203</a></p></li>

<li><h2 id="http-www-cnblogs-com-xwdreamer-archive-2012-05-29-2523958-html"><a href="http://www.cnblogs.com/xwdreamer/archive/2012/05/29/2523958.html" rel="nofollow noreferrer" target="_blank">http://www.cnblogs.com/xwdreamer/archive/2012/05/29/2523958.html</a></h2>

<p>title: 锅烧网搬家出现问题
id: 128
date: 2010-11-29
tags: [网站建设]
categories: [生活随想]</p>

<h2 id="url-life-guosao-transport-problem">url: /life/guosao-transport-problem</h2></li>
</ul>

<p>前面说购买了Backy LLC 的主机，于是将锅烧网搬到该主机上，但是由于域名解析的问题，网站暂时无法访问，正在解决中。
<!--more--></p>

<h2 id="update-域名解析成功-www-guosao-com与guosao-com均可访问">update：域名解析成功，www.guosao.com与guosao.com均可访问！</h2>

<p>title: Windows,Linux多平台下共同维护Hexo 备份Hexo到GitHub
tags:
  - Hexo
  - GitHub
categories:
  - 技术记录
date: 2018-08-03
url: /technology/how-to-backup-hexo-to-github
keyword: Hexo,静态博客生成器,博客,GitHub,备份,多平台</p>

<h2 id="description-本文记录了如何通过两种方法备份hexo文件到github来实现方便的在多平台下写博客-维护博客">description: 本文记录了如何通过两种方法备份Hexo文件到GitHub来实现方便的在多平台下写博客，维护博客。</h2>

<h2 id="前言">前言</h2>

<p>因为经常需要在不同的操作系统上工作，所以需要在每个平台下都可以方便的写博客。</p>

<p>Windows 家里，公司，Linux服务器上</p>

<p>博客最初是在Windows下，所以需要在Linux下也配置一下，方便写博客和维护。</p>

<p>其实有两种办法来讲hexo源码文件同步到github。
<!--more--></p>

<h2 id="直接commit-push到分支">直接commit，push到分支</h2>

<h3 id="前提">前提</h3>

<p>首先，你应是在某一个平台下已经可以使用hexo创建博客，并可以使用hexo d同步到github，如果这一步还没实现，请自行网上搜索使用Github和Hexo搭建个人博客相关的关键字。</p>

<h3 id="方法-1">方法</h3>

<p>已经搭建好的Hexo环境下
为了防止误操作，最好先备份一下</p>

<p>删除博客根目录和主题目录下的.git文件夹</p>

<p>创建.gitignory文件(如果博客根目录下没有的话)，并修改内容为</p>

<ul>
<li>.deploy_git</li>
<li>public</li>
</ul>

<p>将博客源码保存在github博客项目的一个分支上
在博客根目录下，依次执行以下命令</p>

<pre><code>$ git init
$ git add .
$ git remote add origin git@xxxxxxxxxx.git   //自己的github中的博客项目
$ git branch hexo	//创建一个分支
$ git checkout hexo	//选择分支
$ git push -u origin hexo
</code></pre>

<p>新环境下
已经在Linux下或其他环境中安装了npm，node.js，hexo的条件下</p>

<p>直接克隆github中的博客项目</p>

<pre><code>$ git clone git@xxxxxxxxx.git
$ git checkout hexo	//切换到hexo分支下
</code></pre>

<p>日常使用
不论在那个平台下，都要切换到src分支上操作</p>

<p>// 在Windows下</p>

<p>在hexo分支上正常使用hexo，当使用hexo new创建一篇博文，并使用hexo clean，hexo g，hexo d同步到github(master分支)
使用</p>

<pre><code>$ git add .
$ git commit -m &quot;hexo&quot;
$ git push origin hexo
</code></pre>

<p>将更改提交到github上的src分支</p>

<p>// 在Linux下</p>

<p>在其他平台使用hexo更新了博客，并提交到了github的hexo分支，本平台下的本地hexo分支下的内容与github远端hexo分支的内容不一致，在本地hexo分支下使用</p>

<pre><code>$ git pull
</code></pre>

<p>与远端src分支进行同步</p>

<p>然后，重复在Mac下的1，2步骤</p>

<p>原文链接：<a href="https://linuxszp.github.io/2017/05/17/%E5%A4%9A%E5%B9%B3%E5%8F%B0%E4%B8%8B%E5%85%B1%E5%90%8C%E7%BB%B4%E6%8A%A4hexo/" rel="nofollow noreferrer" target="_blank">https://linuxszp.github.io/2017/05/17/%E5%A4%9A%E5%B9%B3%E5%8F%B0%E4%B8%8B%E5%85%B1%E5%90%8C%E7%BB%B4%E6%8A%A4hexo/</a></p>

<h2 id="通过插件来实现同步">通过插件来实现同步</h2>

<p>来自知乎张钊用户的回答：
<a href="https://www.zhihu.com/question/21193762/answer/172097576" rel="nofollow noreferrer" target="_blank">https://www.zhihu.com/question/21193762/answer/172097576</a></p>

<p>安装安装 hexo-deployer-git插件</p>

<h3 id="通过npm安装">通过npm安装</h3>

<pre><code>$ npm install hexo-deployer-git --save

</code></pre>

<h3 id="通过github安装">通过github安装</h3>

<p>一开始还没发布到 npm 的原因，必须得从 github 安装</p>

<pre><code>npm install git+git@github.com:hexojs/hexo-deployer-git.git --save
</code></pre>

<p>在项目根目录下的 _config.yml 里面就可以这样配置</p>

<p>下面是同时同步到GitHub和Coding.net的配置信息。</p>

<pre><code># _config.yaml
deploy:
  - type: git
    repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git
    branch: master
  - type: git
    repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git
    branch: hexo
    extend_dirs: /
    ignore_hidden: false
    ignore_pattern:
        public: .
        .deploy_git: .
  - type: git
    repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git
    branch: hexo
    extend_dirs: /
    ignore_hidden: false
    ignore_pattern:
        public: .
        .deploy_git: .

</code></pre>

<p>这样，在每次写完博客的时候时候使用 hexo d 命令就能将所有其他文件发布到 hexo 分支换电脑的时候就能通过 git 重新下载下来整个项目，然后本地切换到远端的 hexo 分支</p>

<pre><code>git checkout origin/src
</code></pre>

<h2 id="就能重新获得所有的源文件-就能重新-hexo-d发布对于每一个从git下载下来的项目或者主题-最好把每个的-git-文件夹删掉-否则得通过-submodule-的方式来安装">就能重新获得所有的源文件，就能重新 hexo d发布对于每一个从git下载下来的项目或者主题，最好把每个的 .git 文件夹删掉，否则得通过 submodule 的方式来安装。</h2>

<p>Tags:
  - 宝塔
  - 服务器面板
  - 后端技术
title: 解决32系统无法安装bt宝塔服务器面板
categories:
 - 技术记录
date: 2018-05-25
draft: false
url: /technology/install-bt-panel-on-32-bit-os
keywords: 宝塔面板，32位,后端技术,运维</p>

<h2 id="description-本文记录了用32位系统安装宝塔面板提示错误的解决办法">description: 本文记录了用32位系统安装宝塔面板提示错误的解决办法。</h2>

<h2 id="bt">bt</h2>

<p>前段时间把VPS重装系统为debian的32位，因为内存只有512M，还是用32位比较省资源。
但是在安装宝塔面板的时候却提示BT不支持32位系统的安装（如图）<!--more-->
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" alt="BT不支持32位系统的安装" class="lazyload"><figcaption class="image-caption">BT不支持32位系统的安装</figcaption></figure>
原来是因为安装的时候会检测是否为64位系统。</p>

<p>这里我们可以用
<code>vi install.sh</code>
来修改安装脚本，删除以下部分（如图）
vi命令</p>

<pre><code>删除命令
ndw或ndW：删除光标处开始及其后的n-1个字
do：删至行首
d$：删至行尾
ndd：删除当前行及其后n-1行
x或X：删除一个字符，x删除光标后的，而X删除光标前的
Ctrl+u：删除输入方式下所输入的文本
</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://www.myseo.com.cn/note/613.html" alt="图中部分删除" class="lazyload"><figcaption class="image-caption">图中部分删除</figcaption></figure></p>

<pre><code>if [ &quot;$is64bit&quot; = '32' ];then
    echo '=================================================';
    echo -e &quot;\033[31m BT-Panel Incompatible 32 bit OS. \033[0m&quot;;
    exit;
fi
</code></pre>

<p><code>:wq</code>，保存退出，重新运行<code>sh install.sh</code>，即可安装。</p>

<hr />

<p>title: 如何修改h5ai右上角的版权信息powered by h5ai
tags:
  - 文件目录程序
  - h5ai
  - 源码程序
  - Linux
  - 前端技术
categories: [技术记录]
date: 2018-07-29
url: /technology/modify-h5ai-copyright
keyword: h5ai,文件目录程序,版权,代码,PHP
description: h5ai,一款德国人开发的强大的PHP文件目录程序，由于其代码的复杂性，在修改的时候遇到很多麻烦，比如今天要说的如何修改h5ai右上角的版权信息powered by h5ai。</p>

<hr />

<h2 id="关于h5ai">关于h5ai</h2>

<p>前面我们说到了h5ai这款德国开发者开发的强大的PHP文件目录程序。在折腾这款程序的时候有一些地方一直搞不明白。比如今天要说的如何修改右上角版权信息Powered by h5ai。
<!--more--></p>

<h2 id="代码很复杂">代码很复杂</h2>

<p>前面的文章我们介绍了h5ai的时候写了如何安装，但是安装后在自己折腾的过程中，感觉代码结构比较复杂，想试着修改右上角版权信息，却发现只是修改<code>_h5ai/private/php/pages/</code>目录的index.php或者info.php里面的</p>

<pre><code class="language-html">&lt;span class=&quot;backlink&quot;&gt;版权&lt;/span&gt;
</code></pre>

<p>也是没有变化的。</p>

<p>找了一个晚上把除了js脚本的源码都看了一遍，还是没找到办法。</p>

<h2 id="解决过程-1">解决过程</h2>

<h3 id="grep命令">grep命令</h3>

<p>第二天，昆哥来家里，就把这问题问了他。找了一圈也没找到，后来不甘心，他想到用Linux的grep命令。</p>

<blockquote>
<p>Linux系统中grep命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹 配的行打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。
  来源：<a href="http://www.cnblogs.com/peida/archive/2012/12/17/2821195.html" rel="nofollow noreferrer" target="_blank">每天一个linux命令（39）：grep 命令</a></p>
</blockquote>

<h3 id="确认字符">确认字符</h3>

<p>所以我们要先找到需要找的字符。这里利用到Chrome浏览器的开发者工具，按F12或者在右上角的三个点 ++菜单-更多工具-开发者工具++来进入开发者工具。</p>

<p>然后再Ctrl+Shift+C来选定元素，如下图所示。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://ws1.sinaimg.cn/large/007cmo4xgy1ftqspi6j1dj30on07qwet.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>鼠标移动到h5ai的右上角版权信息位置。右边的元素会定位到该元素代码块。</p>

<p>由此我们可以知道是我们需要找的是</p>

<pre><code class="language-html">&lt;a id=&quot;backlink&quot; href=&quot;https://larsjung.de/h5ai/&quot; title=&quot;powered by h5ai - https://larsjung.de/h5ai/&quot;&gt;
                &lt;div&gt;powered&lt;/div&gt;
                &lt;div&gt;by h5ai&lt;/div&gt;
            &lt;/a&gt;
</code></pre>

<p>试着用backlink去找了一下。出来的结果有包括css在内的一堆文件，这样就不找了。于是昆哥用了larsjung来查找，可以查得到，结果少了很多。</p>

<p>这里我利用linux下的grep命令来查找定位含有<code>https://larsjung.de/h5ai/</code>的文件。
毕竟这个网址也是比较特别的。</p>

<h3 id="linux下定位">Linux下定位</h3>

<p>因为不知道Windows下不知道怎么查找，于是直接进了Linux服务器来操作。</p>

<p>进入到服务器的网站根目录的 _h5ai目录,比如你的网站根目录在 www/wwwroot/ 的情况下</p>

<pre><code class="language-shell">root@hostname:/# cd www/wwwroot/_h5ai

</code></pre>

<p>用grep搜索</p>

<pre><code class="language-shell">root@woo://www/wwwroot/_h5ai# grep -rn &quot;https://larsjung.de/h5ai/&quot; *
private/conf/options.json:1:/* h5ai v0.29.0 - https://larsjung.de/h5ai/ */
private/conf/types.json:1:/* h5ai v0.29.0 - https://larsjung.de/h5ai/ */
public/css/styles.css:1:/* h5ai v0.29.0 - https://larsjung.de/h5ai/ */
public/js/scripts.js:1:/* h5ai v0.29.0 - https://larsjung.de/h5ai/ */ ! function(t) {
public/js/scripts.js:804:		a = '&lt;div id=&quot;topbar&quot;&gt;\n            &lt;div id=&quot;toolbar&quot;&gt;&lt;/div&gt;\n            &lt;div id=&quot;flowbar&quot;&gt;&lt;/div&gt;\n      &lt;a id=&quot;backlink&quot; href=&quot;https://larsjung.de/h5ai/&quot; title=&quot;powered by h5ai - https://larsjung.de/h5ai/&quot;&gt;\n                &lt;div&gt;powered&lt;/div&gt;\n                &lt;div&gt;by h5ai&lt;/div&gt;\n            &lt;/a&gt;\n     &lt;/div&gt;',

</code></pre>

<p>相关grep参数
-  <code>*</code> 表示当前目录所有文件，也可以是某个文件名
- -r 是递归查找
- -n 是显示行号
- -R 查找所有文件包含子目录
- -i 忽略大小写</p>

<p>通过定位可以知道应该是用了js脚本来显示。</p>

<h3 id="修改代码">修改代码</h3>

<p>所以在<code>_h5ai/public/js/scripts.js</code>的文件里面搜索前面用Chrome开发者工具获得的<code>backlink</code>或者<code>powered by h5ai</code></p>

<p>就会定位到下面的代码：</p>

<pre><code class="language-html">&lt;a id=&quot;backlink&quot; href=&quot;https://larsjung.de/h5ai/&quot; title=&quot;powered by h5ai - https://larsjung.de/h5ai/&quot;&gt;\n                &lt;div&gt;powered&lt;/div&gt;\n                &lt;div&gt;by h5ai&lt;/div&gt;\n            &lt;/a&gt;\n   
</code></pre>

<p>这里就是显示在h5ai的右上角版权信息。</p>

<p>直接修改服务器上的文件有风险，建议将此文件备份后再执行修改操作。</p>

<h3 id="ps">PS</h3>

<p><strong>这里只是研究一下这个h5ai的代码。尊重作者版权，不建议删除或者修改。</strong></p>

<p>只是想说真的h5ai里面内容真的很复杂，相比之下Directory Lister就简单多了。</p>

<h2 id="参考资料-3">参考资料</h2>

<ul>
<li><a href="http://www.do1024.com/" rel="nofollow noreferrer" target="_blank">昆哥的博客</a></li>
<li><a href="http://blog.51cto.com/151wqooo/1162118" rel="nofollow noreferrer" target="_blank">Linux查找含有某字符串的所有文件</a></li>
<li><a href="http://www.cnblogs.com/peida/archive/2012/12/17/2821195.html" rel="nofollow noreferrer" target="_blank">每天一个linux命令（39）：grep 命令</a>
&mdash;
title: 删除与卸载Debian8的Apache2
date: 2017-09-18
tags:</li>
<li>Apache</li>
<li>Debian</li>
<li>VPS</li>
<li>后端技术
categories: [技术记录]
url: /technology/uninstall-apache20-on-debian8
keywords: Apache,Debian,VPS,后端技术
description: 有些Linux系统自带了Apache，如果用不到的话可以卸载掉，避免端口占用冲突。
&mdash;</li>
</ul>

<p>参考源：<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">Linux Tips</a>
由于某些主机提供商在重装系统后系统自带apache2，但是我用不到，一直用的nginx。如果不卸载会导致端口冲突等问题。
所以上网查询了下卸载apache2的资料。
<!-- more --></p>

<blockquote>
<p>Uninstall and Remove Apache2 on Debian 8</p>

<p>We are going to uninstall and remove Apache2 from our Debian system.</p>

<p>First we have to stop any running instance of Apache2, because Apache2
will not be properly removed while it is running.</p>

<p>For stop Apache2 run below command …</p>

<pre><code>service apache2 stop
</code></pre>

<p>Now for remove Apache2 and pakchess run below command …</p>

<pre><code>apt-get purge apache2 apache2-utils apache2.2-bin apache2-common
</code></pre>

<p>then run below command …</p>

<pre><code>apt-get autoremove
</code></pre>

<p>Now finally, check if there is any configuration files or pages
belonging to Apache2, which are still not removed…</p>

<pre><code>whereis apache2
</code></pre>

<p>example result like below …</p>

<pre><code>apache2: /usr/sbin/apache2 /usr/lib/apache2 /usr/share/apache2 /usr/share/man/man8/apache2.8.gz
</code></pre>

<p>Next if directory still exists the remove those manually …</p>

<pre><code>rm -rf /etc/apache2
</code></pre>

<p>Done … Great Job …</p>

<p>Some hosting provider installed Apache2 as default webserver so we can
use this steps to uninstall Apache2 from our Debian system.</p>
</blockquote>

<hr />

<p>title: 分享几张iPhone4高清Retina壁纸
id: 291
date: 2011-08-28
tags:
categories: [影音资源]
url: /video/iphone4-retina-wallpapers</p>

<hr />

<p>上次需要将iPhone4升级到4.3.3固件，于是备份了原来照片库的图片，今天发现有些上次手机下载的iPhone4高清Retina壁纸，分享一下</p>

<!--more-->

<p>更多壁纸预览请进美必相册</p>

<h2 id="更多壁纸已压缩提供下载-gt-gt-http-u-guosao-com-file-28-html-http-u-guosao-com-file-28-html">更多壁纸已压缩提供下载&gt;&gt;<a href="http://u.guosao.com/file-28.html" rel="nofollow noreferrer" target="_blank">http://u.guosao.com/file-28.html</a></h2>

<p>title: IPhone 5 即将上市？
id: 132
date: 2010-12-02
tags:
categories: [小道消息]</p>

<h2 id="url-news-iphone-5-is-coming">url: /news/iphone-5-is-coming</h2>

<p><span style="font-weight: normal;">前两天，在一位网友的微博上发出这样一条消息“iPhone 5首次曝光，即将上市。1.5GHz A4处理器，使用全新材质氮涂层外壳，这种氮涂层外壳具有防划防磨的特效。800万传感器，而且iPhone 5完全解决了信号问题，并将支持4G连接，拥有32GB内存或64GB，此外，在续航能力方面也得到了大幅提高。”但是这条消息未经过苹果公司证实。<!--more--></p>

<p>iPhone4 中国市场还在缺货，而iPhone5却准备上市？
我网上搜索了下iPhone5，却发现中关村在线有个iPhone5的页面，该介绍把iPhone5称作概念机，在里面的图片也可以看出其“概念”之处，十分强大。</p>

<p>不过各位果粉还沉浸在iPhone4带来的舒适高级体验的时候，iPhone5却即将上市，不知这是给大家带来的好消息还是悲剧，iPhone4还没用半年，更好的产品就来了，应该让很多人不爽吧，不过对有钱人都无所谓了。但是时代在进步，科技在发展，新产品更替是很正常的。</span></p>

<p>###</p>

<h3 id="下面摘自网上的新闻评论">下面摘自网上的新闻评论。</h3>

<blockquote>
<p><strong>更高像素的摄像头 实现可能性：高</strong></p>

<p>“脖友”传言称，索尼正在为iPhone 5开发性能更佳的800万像素摄像头。其实，早在今年4月iPhone 4还没发布的时候，就已经有消息表明iPhone 5会使用由索尼提供的800万像素摄像头模块组件，但这也仍然比目前1200万像素的手机落后。当然，拍照质量看的不仅仅是像素，如果处理芯片差，高像素也是浮云。</p>

<p><strong>更快速的CPU 实现可能性：高</strong></p>

<p>目前1GHz的CPU主频几乎是高端智能手机的标配，但随着摩托罗拉Droid 2 Global率先用上1.2GHz的CPU，相信明年更多的Android旗舰都会陆续跟进。因此这次传言iPhone 5将会用上1.5GHz的苹果A4处理器也并非空穴来风。</p>

<p>事实上，苹果收购PA半导体公司后，开始设计、推出自己的CPU。届时iPhone 5上使用新A4处理器达到1.5GHz速度值得期待。</p>

<p><strong>外壳采用氮涂层新材质 实现可能性：中</strong></p>

<p>想必大家见过iPhone 4屏幕被摔得粉碎的图片吧？iPhone 5有必要再一次提升抗摔性。据一家生产特殊材料厂家的爆料，iPhone 5将使用他们厂生产的这种全新材质氮涂层外壳，号称具有防划防磨的特效。这和之前iPhone 4的所谓硅铝酸盐玻璃面板（直升机和高速列车使用的玻璃，硬度是塑料的30倍，耐刮划）的特性听起来很相似。但是所谓氮涂层材质是不是浮云，还得到时候iPhone 5上市后试过才知道。</p>

<p><strong>支持4G网络 实现可能性：高</strong></p>

<p>当HTC率先实现手机支持4G网络后，业界对iPhone 5的期待就多了起来。据记者了解，目前LTE技术基本上已被定为下一代移动通信网络标准。爱立信、中兴、诺基亚-西门子、上海贝尔等也纷纷部署LTE网络。因此，iPhone 5支持4G网络自然没有技术障碍。另外，iPhone 5内嵌SIM卡的消息只怕是苹果一厢情愿。</p>

<p><strong>更长的电池续航时间 实现可能性：高</strong></p>

<p>苹果称iPhone 4的通话时间比iPhone 3GS超出40%，iPhone 5的电池续航能力进一步提升还有什么值得怀疑的呢？倒是有用户一直觉得iPhone的电池不能更换很麻烦，期望某一天iPhone可以自如换电池。但是，与提高电池续航能力相比，记者更相信苹果目前的设计原则——极简，不拆电池，随时iTunes同步充电，哪需多带一块电池。</p>

<p>另外，“脖友”透露的iPhone 5还可能具备的功能，如无线射频识别（RFID）功能、生物识别技术、远程数据同步、更大的存储空间、更强的3D图形芯片、支持Flash等，还真必须等到明年6月iPhone 5发布之时才能够揭晓谜底。</p>
</blockquote>

<h2 id="该新闻来自163-com">该新闻来自163.com</h2>

<p>title: 只想买iPhone的脑残果粉与店员的爆笑对话
id: 60
date: 2010-08-29
tags:
categories: [影音资源]</p>

<h2 id="url-video-iphone-fan-with-shop-staff-talk">url: /video/iphone-fan-with-shop-staff-talk</h2>

<p>当年诺基亚以其symbian系统独霸智能手机市场，如今却有了几个巨头，真是风水轮流转，  苹果、谷歌等在手机业的崛起给NOKIA敲响了一个警钟，技术创新是时代的潮流。现在手机功能越来越多，也越来越多人不满足。而苹果以其  独特的魅力影响了很大一部分人，但其中有些果粉，根本都不知道苹果好在哪里，别人问起就尴尬了，下面一段视频，揭示了一些苹果迷的无知。
<!--more--></p>

<p><a href="http://player.youku.com/player.php/sid/XMTg2NDc2MzI0/v.swf" rel="nofollow noreferrer" target="_blank">点击我欣赏果粉与店员的爆笑对话</a></p>

<h2 id="虽然有为htc做广告的嫌疑-但是还是很生动形象的-哈哈">虽然有为HTC做广告的嫌疑，但是还是很生动形象的 哈哈</h2>

<p>title: 开启Nginx的目录文件列表功能-让Nginx显示文件列表
id: 235
date: 2011-03-24
tags:
- Nginx
- 后端技术
categories: [技术记录]
url: /technology/let-nginx-show-file-list
keywords: Nginx,后端技术,目录列表,文件列表</p>

<h2 id="description-本文记录了如何开启nginx的目录文件列表功能">description: 本文记录了如何开启Nginx的目录文件列表功能。</h2>

<p>今天在hostloc上看到以为朋友xtmp 请教<a href="http://soft.vpser.net/是如何实现的，可以显示文件列表，因为http://soft.vpser.net/用的是nginx" rel="nofollow noreferrer" target="_blank">http://soft.vpser.net/是如何实现的，可以显示文件列表，因为http://soft.vpser.net/用的是nginx</a> 作为webserver的，但是 nginx默认是不允许列出整个目录的，所以看到版主咯拉无米推荐的方法<a href="http://www.hostloc.com/thread-21478-1-4.html" rel="nofollow noreferrer" target="_blank">http://www.hostloc.com/thread-21478-1-4.html</a> 帖子里美国VPS给出一个ctohome的详细教程，下面转自 ctohome<!--more--></p>

<p>原地址详细教程请看这里<a href="http://www.ctohome.com/FuWuQi/46/375.html" rel="nofollow noreferrer" target="_blank">http://www.ctohome.com/FuWuQi/46/375.html</a>
&gt; 打开nginx.conf文件，在location server 或 http段中加入
&gt;
&gt; autoindex on;
&gt;
&gt; 另外两个参数最好也加上去:
&gt;
&gt; autoindex_exact_size off;
&gt;
&gt; 默认为on，显示出文件的确切大小，单位是bytes。
&gt;
&gt; 改为off后，显示出文件的大概大小，单位是kB或者MB或者GB
&gt;
&gt; autoindex_localtime on;
&gt;
&gt; 默认为off，显示的文件时间为GMT时间。
&gt;
&gt; 改为on后，显示的文件时间为文件的服务器时间
&gt;
&gt;
&gt; 配置Nginx目录列表的方法详细参照:<a href="http://wiki.nginx.org/NginxChsHttpAutoindexModule" rel="nofollow noreferrer" target="_blank">http://wiki.nginx.org/NginxChsHttpAutoindexModule</a>
&gt;
&gt;
&gt; 如果想希望目录列表支持header,footer则可以安装三方插件: <a href="http://wiki.nginx.org/NginxNgxFancyIndex" rel="nofollow noreferrer" target="_blank">http://wiki.nginx.org/NginxNgxFancyIndex</a>
&gt;
&gt;
&gt; <strong>配置Nginx目录列表的效果如下：</strong>
&gt;
&gt; <pre>Index of /
&gt;
&gt;
&gt; ../
&gt;
&gt; aspnet/                                            24-Jan-2010 21:45       -
&gt;
&gt; mui/                                               03-Jun-2010 11:42       -
&gt;
&gt; mysql/                                             24-Jan-2010 21:42       -
&gt;
&gt; others/                                            23-Apr-2010 10:35       -
&gt;
&gt; php/                                               24-Jan-2010 21:47       -
&gt;
&gt; sql/                                               31-Mar-2010 15:14       -
&gt;
&gt; zend/                                              16-Jan-2010 15:21       -
&gt;
&gt; ctohome.com                                        09-Jan-2010 11:35     130
&gt;
&gt; du.txt                                             25-Mar-2010 21:36      10
&gt;
&gt; dumeter.zip                                        22-Jan-2010 12:05      2M
&gt;
&gt; favicon.ico                                        26-Aug-2009 04:36     318
&gt;
&gt; ftp.exe                                            05-Jan-2010 06:31      4M
&gt;
&gt; index2.html                                        24-Jan-2010 21:53      24
&gt;
&gt; lxadmin.tar.gz                                     04-Jan-2010 19:27    820K
&gt;
&gt; servu.rar                                          08-Jan-2010 15:01     10M
&gt;
&gt; servu6.rar                                         16-Jan-2010 12:17      5M
&gt;
&gt; teamviewer.zip                                     15-Jan-2010 10:50      3M
&gt;</p>

<h2 id="winrar-exe-09-dec-2009-14-23-1m-pre">&gt; winrar.exe                                         09-Dec-2009 14:23      1M</pre></h2>

<p>date: 2017-10-01
draft: false
title: 用Linux系统搭建Web环境做网站网站FTP权限问题
tags: [VPS,后端技术]
isCJKLanguage: true
categories: [技术记录]
url: /technology/linux-ftp-permission
keywords: VPS,权限,FTP,后端技术</p>

<h2 id="description-本文记录了linux系统搭建web环境做网站的ftp权限问题解决办法">description: 本文记录了Linux系统搭建Web环境做网站的FTP权限问题解决办法。</h2>

<p>在搬瓦工的VPS上，wordpress的主题或者插件无法直接在后台安装与修改。会弹出ftp设置。
导致这一问题，一个是需要修改wordpress的主题和插件的文件夹的权限为777。
<!--more-->
但是还有个问题是ftp终端上无法直接修改网站的相关文件及文件夹。会出现<code>响应: 550 Could not change perms on filebox.php: Operation not permitted</code>
<!--more-->
此时需要在shell操作，将指定文件夹修改为www用户的所有权。比如在lnmp环境下，修改网站的默认文件夹是<code>chown -R www.www /home/wwwroot/</code> 要修改755权限等等的话操作
<code>find /home/wwwroot/ -type d -exec chmod 755 {} \;</code>
<code>find /home/wwwroot/ -type f -exec chmod 644 {} \;</code></p>

<h2 id="以上参考了-vps部落相关资源-https-www-vpsbuluo-com-jiaocheng-47-html">以上参考了<a href="https://www.vpsbuluo.com/jiaocheng/47.html" rel="nofollow noreferrer" target="_blank">vps部落相关资源</a></h2>

<p>title: LNMP下给已存在的虚拟机添加伪静态规则
id: 198
date: 2011-02-04
tags:
- LNMP
- Nginx
- 后端技术
categories: [技术记录]
url: /technology/lnmp-conf-rules
keywords: LNMP,Nginx,伪静态,后端技术,虚拟主机</p>

<h2 id="description-本文记录了lnmp环境下给已存在的虚拟主机添加伪静态规则">description: 本文记录了LNMP环境下给已存在的虚拟主机添加伪静态规则。</h2>

<p>使用军哥的LNMP，在添加虚拟机的时候没有添加伪静态，但是后来真正使用程序的时候需要伪静态，所以想给已经存在的虚拟主机添加伪静态跪着，由于Apache开启伪静态支持后可以直接修改.htaccess文件就行，但是nginx需要新建一个例如名字为example.conf文件，编辑该文件，把伪静态规则输入进去（注意htaccess的伪静态规则需转成nginx的conf规则才行）然后，在/usr/local/nginx/conf/vhost下编辑 域名.conf文件，得到类似<!--more--></p>

<pre><code>server
	{
		listen       80;
		server_name ccav.in;
		index index.html index.htm index.php default.html default.htm default.php;
		root  /home/wwwroot/域名;

		include tinyurl.conf;
		location ~ .*\.(php|php5)?$
			{
				fastcgi_pass  unix:/tmp/php-cgi.sock;
				fastcgi_index index.php;
				include fcgi.conf;
			}

		location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
			{
				expires      30d;
			}

		location ~ .*\.(js|css)?$
			{
				expires      12h;
			}

		access_log off;
	}
</code></pre>

<p>文件，修改include other.conf 文件名称为你刚刚的include example.conf 就行</p>

<h2 id="最后执行-usr-local-nginx-sbin-nginx-s-reload-命令重启-nginx-就ok了">·最后执行 /usr/local/nginx/sbin/nginx -s  reload 命令重启 nginx 就OK了</h2>

<p>title: LNMP环境下typecho无法登录后台解决方案
id: 203
date: 2011-03-06
tags:
- typecho
categories: [技术记录]
url: /technology/lnmp-typecho-login-error
keywords: typecho,LNMP,博客程序,后台登录</p>

<h2 id="description-本文记录了lnmp环境下typecho无法登陆后台的解决方法">description: 本文记录了LNMP环境下typecho无法登陆后台的解决方法。</h2>

<p><strong>感谢<a href="http://www.vpsmm.com/" rel="nofollow noreferrer" target="_blank">小夜</a>提供帮助。</strong>
&gt; 出现的问题：liccess的lnmp0.6 搭建好后安装了typecho后，只有首页可以访问，其他页面都不能访问，后台登录界面可以看到，但是登录后无法访问。官方有解决方案但是我按照那还是解决不了<!--more-->
解决方案：
&gt; -lnmp安装typecho 后无法进入后台和其他页面要怎么解决呢？首页可以进去.
&gt;
&gt;
&gt; 找到域名配置文件，修改为：include typecho.conf
&gt;
&gt; 再重载LNMP命令：/root/lnmp reload 应该就可以了。
&gt;
&gt;
&gt; -安装lnmp时绑定的域名，直接放在/home/wwwroot/,所以没有添加虚拟主机，找不到/usr/local/nginx/conf/vhost/这个文件夹，不知道域名配置文件在哪
&gt;
&gt;
&gt; 修改/usr/local/nginx/conf/nginx.conf，里面的域名为419.at或其它任意。
&gt;
&gt; 命令/root/vhost.sh重新绑定，记得绑定时，输入伪静态规则typecho就行了。
&gt;
&gt;
&gt; -如何用ip直接访问
&gt;
&gt;</p>

<h2 id="绑域名的时候-把网站的默认目录设置为-home-wwwroot-即可">&gt; 绑域名的时候，把网站的默认目录设置为/home/wwwroot/即可。</h2>

<p>title: 修改Directory Lister的字体为小夜美化版并将字体本地化
tags:
  - Directory Lister
  - 文件目录列表程序
  - PHP
  - 源码程序
categories: [技术记录]<br />
date: 2018-07-30
url: /technology/make-directory-lister-more-beautiful
keyword: Directory Lister,文件目录列表程序,PHP,字体,开源,源码,代码,CSS,HTML</p>

<h2 id="description-本文记录了如何把php文件目录列表程序directory-lister的字体美化为小夜版本-并将字体本地化调用">description: 本文记录了如何把PHP文件目录列表程序Directory Lister的字体美化为小夜版本，并将字体本地化调用。</h2>

<p>前一段时间，在<a href="https://www.moerats.com/archives/547/" rel="nofollow noreferrer" target="_blank">Rat&rsquo;s Blog</a>上看到了小夜大佬Directory Lister美化修改版，但是发现网上下载下来的美化版都和小夜大佬的字体不一样。</p>

<p>自己安装好后是这样的
<!--more--></p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/30/5b5ebdd807858.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>但是VPSMM的是这样的：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/30/5b5ebe0fa27f2.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<p>明显小夜大佬的下载站好看多了。是经过优化的字体。</p>

<p>那要如何修改呢。之前试着直接导入小夜大佬下载站的样式表， 但是还是没变化。今天重新试了一下，原来是缺少了Source code pro字体库。</p>

<p>这样的话我们需要将这个字体库加到自己的样式表并调用它。</p>

<h1 id="修改过程">修改过程</h1>

<h2 id="对比样式表">对比样式表</h2>

<p>将<a href="https://down.vpsmm.com/resources/themes/vpsmm/css/style.css" rel="nofollow noreferrer" target="_blank">小夜大佬的样式表</a>和自己的样式表对比一下后发现。自己的样式表有多处用到不同的<code>font-family</code>。</p>

<p>打开css样式表，搜索<code>font-family</code>，发现小夜的样式表里面只有两处<code>font-family</code>。</p>

<p>一处是第5行开始的body样式：</p>

<pre><code class="language-css">body {
    padding: 70px 0 0;
    font-size: 16px;
    font-family: 'Source Code Pro',Lato,Helvetica,Arial,sans-serif;
}
</code></pre>

<p>另一处是第105行的<code>file-info .sha1-hash</code>样式</p>

<pre><code class="language-css">#file-info .sha1-hash {
    font-family: 'Cutive Mono', monospace, serif;
}
</code></pre>

<p>但是实际上控制全局的字体样式只有body那个。</p>

<p>另一方面搜索我从网上下载到的小夜优化版本的CSS样式表。一共找到四处。</p>

<p>分别是23行，43行，49行，107行的样式表。</p>

<pre><code class="language-css">#page-navbar .navbar-text {
    display: block;
    float: left;
    font-family: 'Cutive Mono', monospace, serif;
    max-width: 80%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

</code></pre>

<pre><code class="language-css">#directory-list-header {
    font-family: 'Cutive Mono', monospace, serif;
    font-weight: bold;
    padding: 10px 15px;
}
</code></pre>

<pre><code class="language-css">#directory-listing {
    font-family: 'Cutive Mono', monospace, serif;
}
</code></pre>

<pre><code class="language-css">#file-info .sha1-hash {
    font-family: 'Cutive Mono', monospace, serif;
}
</code></pre>

<p>所以这个版本的样式表在每个地方都定义了字体唯独body没有，而小夜优化版的样式表在body直接定义了。</p>

<h2 id="修改样式表">修改样式表</h2>

<p>知道了样式表的区别后，就对样式表进行修改。</p>

<p>先在body样式里面插入<code>Source Code Pro</code>字体。</p>

<pre><code class="language-css">body {
    padding: 70px 0 0;
    font-size: 16px;   
    font-family: 'Source Code Pro',Lato,Helvetica,Arial,sans-serif;
}
</code></pre>

<p>接着将其他地方的<code>font-family</code>注释或者删除。比如：23行，43行，49行的样式里面的<code>font-family</code>那一行，这些地方影响到<code>Source Code Pro</code>字体的生效。
css的注释方法是前后添加</p>

<pre><code class="language-css">/* 要注释的代码 */
</code></pre>

<h2 id="加入-source-code-pro-字体">加入<code>Source Code Pro</code>字体</h2>

<p>小夜的是直接调用网上的字体库</p>

<pre><code class="language-html">&lt;link href=&quot;//fonts.loli.net/css?family=Source+Code+Pro&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre>

<p>你也可以这样，直接将这个代码加入到主题下面的主页文件<code>index.php</code>，比如我用的版本是<code>/resources/themes/vpsmm/index.php</code>，但是如果怕以后字体库失效的话可以把这个字体本地化（下载到自己的服务器）。</p>

<h2 id="字体本地化">字体本地化</h2>

<p>打开Source Code Pro的<a href="https://fonts.loli.net/css?family=Source+Code+Pro" rel="nofollow noreferrer" target="_blank">样式表</a>
可以看到样式表内容</p>

<pre><code class="language-css">/* latin-ext */
@font-face {
  font-family: 'Source Code Pro';
  font-style: normal;
  font-weight: 400;
  src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlM-vWjMY.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Source Code Pro';
  font-style: normal;
  font-weight: 400;
  src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
</code></pre>

<p>其中有两个字体，我们可以将其下载下来。
- <a href="https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlM-vWjMY.woff2" rel="nofollow noreferrer" target="_blank">https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlM-vWjMY.woff2</a>
- <a href="https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2" rel="nofollow noreferrer" target="_blank">https://gstatic.loli.net/s/sourcecodepro/v7/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2</a></p>

<p>这样会得到这两个字体</p>

<ul>
<li>HI_SiYsKILxRpg3hIP6sJ7fM7PqlM-vWjMY.woff2</li>
<li>HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2
字体的名字如果觉得太长要改成自己喜欢的名字也可以。这次我选择不修改。</li>
</ul>

<p>将这两个字体文件传到服务器上。位置可以自己定。这次我是传到了/resources/themes/vpsmm/Source_Code_Pro里面，Source_Code_Pro是自己新建的文件夹。</p>

<p>这样我们可以通过调用这两个本地的字体来实现字体的样式。</p>

<p>在/resources/themes/vpsmm/css下面新建一个样式表命名为
<code>Source_Code_Pro.css</code></p>

<p>内容为</p>

<pre><code class="language-css">/* latin-ext */
@font-face {
  font-family: 'Source Code Pro';
  font-style: normal;
  font-weight: 400;
  src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(/resources/themes/vpsmm/Source_Code_Pro/HI_SiYsKILxRpg3hIP6sJ7fM7PqlM-vWjMY.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Source Code Pro';
  font-style: normal;
  font-weight: 400;
  src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(/resources/themes/vpsmm/Source_Code_Pro/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
</code></pre>

<p>其中url部分是刚刚上传的字体的路径，如果不一样请修改。</p>

<p>最后在主题下面的主页文件<code>index.php</code>（我的版本是在<code>/resources/themes/vpsmm/index.php</code>）里面的<code>&lt;head&gt;</code>标签内调用我们刚刚新建的包含这两个字体文件的样式表<code>Source_Code_Pro.css</code>，其实就是将前面的  <strong>加入<code>Source Code Pro</code>字体</strong>那个步骤里面的路径改为自己的本地样式表，而不是调用loli字体库的样式表。
<code>&lt;head&gt;</code>标签内的<code>&lt;!-- STYLES --&gt;</code>的最后加入</p>

<pre><code class="language-html">&lt;link href=&quot;/resources/themes/vpsmm/css/Source_Code_Pro.css&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre>

<p>这样就完成了。</p>

<h1 id="对比">对比</h1>

<p>最后对比一下刚开始的截图</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/30/5b5ec86798850.png" alt="和小夜字体优化版一样的字体" class="lazyload"><figcaption class="image-caption">和小夜字体优化版一样的字体</figcaption></figure>对比</p>

<p>是不是好看了许多。</p>

<h1 id="感谢">感谢</h1>

<ul>
<li><a href="https://down.vpsmm.com/" rel="nofollow noreferrer" target="_blank">小夜大佬的下载站</a></li>
<li><a href="https://www.moerats.com/archives/547/" rel="nofollow noreferrer" target="_blank">Rats提供的Directory Lister 美化修改版源码</a>
&mdash;
title: 如何修改WordPress头像
id: 58
date: 2010-08-29
tags:</li>
<li>WordPress
categories: [技术记录]
url: /technology/modify-your-head-is-more-prominent-personality
keywords: WordPress,Gravatar,头像
description: 本文记录了如何修改WordPress头像的方法。
&mdash;</li>
</ul>

<p>有些人刚接触像IMYIA的网站，都会有一个疑问，就是 评论的后显示的头像是哪里的？怎么来的？
这里告诉大家，麦芽使用的wordpress程序搭建的网站，评论的头像是由Gravatar支持的。我也不会表达下面转一段比较清楚的：
<!--more-->
&gt; Gravatar即全球通用头像。这里所说的头像，是用户在论坛、聊天系统、网站或者其它类型的虚拟社区中使用的、与其它 用户不同的图标或象征事物。网络头像通常是一个长宽均为80像素的图片，图片内容由用户自行选择。由Tom  Werner开发的Gravatar头像系统使用户在所有网站上使用同一个头像成为可能。
现在大家有点明白了吧　根据你的邮箱判断头像的。
当然你可以设置你自己的头像
先去<a href="http://www.gravatar.com/" title="Gravatar" rel="nofollow noreferrer" target="_blank">Ｇｒａｖａｔａｒ</a>注册一个帐号，英文比较不懂的，建议使用chrome（谷歌浏览器）有一个翻译功能。
进去点击sign up 使用E-mail注册 非常方便的哦 呵呵。</p>

<h2 id="快去修改你的头像吧">快去修改你的头像吧~</h2>

<p>title: 拿福能千人挑战等你来参与
id: 302
date: 2011-08-28
tags:
categories: [小道消息]</p>

<h2 id="url-news-naffnang-1000-ads">url: /news/naffnang-1000-ads</h2>

<p>前一阵子在很多博客都看到这个图片，后来仔细一看，原来是拿福能做的活动。
<!--more--></p>

<h2 id="什么是拿福能">什么是拿福能？</h2>

<blockquote>
<p>Nuffnang.com是亚太地区首家领先的博客广告社区。</p>

<p>Nuffnang.com的在线平台将广告商的图文或者视频广告成功发布到超过100,000篇博客上，并通过他们传播到各种领域。<!--more--></p>

<p>Nuffnang.com目前在四个国家设立了办事处，分别是新加坡、马来西亚、菲律宾和澳大利亚。</p>

<p>Nuffnang.com的团队不断寻求与Nuffnang.com品牌相匹配的博客写手。Nuffnang.com的广告商包括花旗银行、诺基亚、索尼、宝洁、耐克、雀巢等<a href="http://www.nuffnang.com.cn/featured-advertiser" rel="nofollow noreferrer" target="_blank">国际知名品牌</a>。</p>

<p>不仅仅限于博客广告，由于为博友们成功创建了社区，组织博友们参与包括电影点映等等多种多样的大型活动，Nuffnang.com也为此也感到自豪。</p>
</blockquote>

<h2 id="什么是千人挑战">什么是千人挑战？</h2>

<p>是的没错！在蛰伏了一段时间后，拿福能早已蓄势待发，即日起，“千人挑战”线上活动正式开始！我们的目标是召集更多的博主成功注册并加入拿福能，将人民币50,000元平分给活动开始后前1000名加入的每一位博主（每人50元）！</p>

<p>我原来也不懂，把这件事搁置了好久，现在想只要跟着大伙就没错~，快跟上，大家齐心协力，争取早日完成这个千人任务~我们一起来广而告之吧~！</p>

<h2 id="直达地址-http-www-nuffnang-com-cn-blog-2011-05-23-challenge-1000-http-www-nuffnang-com-cn-blog-2011-05-23-challenge-1000">直达地址》》<a href="http://www.nuffnang.com.cn/blog/2011/05/23/challenge-1000" rel="nofollow noreferrer" target="_blank">http://www.nuffnang.com.cn/blog/2011/05/23/challenge-1000</a></h2>

<p>title: 有时还有更好的选择吗?
id: 284
date: 2011-08-28
tags:
categories: [生活随想]</p>

<h2 id="url-life-is-there-any-options">url: /life/is-there-any-options</h2>

<p>我是一个很容易纠结的人，很多时候遇到两种选择，就要犹豫好久，对于这个我自己都觉得无奈。。这两天又为了MediaTense要不要换域名的事情纠结了好久，现在还是换成Maybe.asia，因为mediatense.com再过两个月要到期了，是扔掉还是续费？
<!--more-->
后来想，自己还有几个域名还没使用，其中一个maybe.asia我很喜欢，因为只有一个单词，godaddy上MediaTense 看来需要放弃了，还有1个10G的免费空间。。。</p>

<p>将域名改为maybe.asia后，也将博客名称改为 “美必”，呵呵，随便音译过来。。</p>

<h2 id="现在就要用301-重定向了-反正也没pr值">现在就要用301 重定向了&hellip;反正也没PR值。。</h2>

<p>title: typecho发表评论需要发送两次才成功的解决方案
date: 2017-06-26
tags:
- typecho
- 博客程序
categories: [技术记录]
url: /technology/need-to-click-twice-to-submit-comment-on-typecho
keywords: typecho,博客程序</p>

<h2 id="description-本文记录了typecho发表评论需要发送两次才成功的解决方案">description: 本文记录了typecho发表评论需要发送两次才成功的解决方案。</h2>

<p>最近发现typecho发表评论需要发送两次才会成功发送出去，网上查询了下资料，好像把<strong><em>后台设置里面的开启反垃圾评论选项关闭</em></strong>就可以解决问题。
原来typecho的反垃圾就是通过用户发送两次评论来实现。。。
<!--more--></p>

<h2 id="但是这样造成第一次输入了评论-点击发送后-变成空白-也没显示出来-只能重新编辑评论内容-重新点击发送">但是这样造成第一次输入了评论，点击发送后，变成空白，也没显示出来。只能重新编辑评论内容，重新点击发送。。。</h2>

<p>tags:
  - Deepin
  - 深度系统
  - Linux
title: 解决Deepin深度系统下没有无线网络选项之安装驱动
categories : [技术记录]
date: 2018-06-13
draft: false
url: /technology/fix-no-wifi-on-deepin-os
keywords: Deepin,深度系统,Linux
description: 本文记录了如何通过安装驱动来解决Deepin深度系统下没有网络选项。</p>

<hr />

<p>前两天装了Deepin 深度系统。在查询Linux资料的时候被安利了。深度系统是国内最大的国产系统，由于其界面优美，符合国人使用习惯。下面摘了维基百科的词条：
<!--more-->
&gt; 深度操作系统，亦称为Deepin，原名 Hiweed Linux 及 Linux Deepin，是武汉深之度科技有限公司开发的Linux发行版。除操作系统外，深度团队也进行桌面环境和配套基础软件的开发<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">1</a>，并与第三方厂商合作开发Linux版本应用。目前系统已经拥有很多针对Deepin系统开发的应用程序。此外开发团队也参与Linux内核补丁相关作业<a href="https://www.myseo.com.cn/note/613.html" rel="nofollow noreferrer" target="_blank">2</a>。</p>

<p>其实以前学生的时候，折腾过Linux系统。之前出名的就是深度和雨林木风两个。不过雨林木风好像继续做下去了。但是深度系统越做越大，好像主要客户就是政府、企业什么的。</p>

<h2 id="问题">问题</h2>

<p>安装并不难，我是用了官方的U盘安装制作工具。顺利安装完成。
但是安装完发现控制中心的网络设置只有有线网卡设置并没有无线网络开关。我用的是台式机+外置USB无线网卡
如图网络连接设置只有有线网络的设置</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/06/14/5b21af19a34bc.png" alt="网络连接设置只有有线网络的设置" class="lazyload"><figcaption class="image-caption">网络连接设置只有有线网络的设置</figcaption></figure></p>

<h2 id="解决过程-2">解决过程</h2>

<p>在查询网上资料的时候发现官方论坛也有很多人反馈这个问题。
参照其他人的帖子后，确定下来应该是驱动问题。
所以具体流程应该是</p>

<pre><code>1. 查看外置网卡有没有被识别
2. 根据查到的外置网卡型号找对应的驱动
3. 下载驱动并安装，重启
</code></pre>

<p>先在终端里面用</p>

<pre><code>lsusb
</code></pre>

<p>来列出当前usb硬件，如下图
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://s1.ax1x.com/2018/06/13/CXnvwR.png" alt="列出当前usb硬件" class="lazyload"><figcaption class="image-caption">列出当前usb硬件</figcaption></figure>
一开始不好分辨，拔掉外置网卡后就发现第一个没了。所以可确定是第一个。</p>

<p>但是这样不知道是什么型号，于是把0bda:a811网上查了下 搜索到型号应该是rtl8812AU。参考的是这里的
<a href="https://ubuntu-mate.community/t/raspberry-pi-3-issues-with-0bda-a811-realtek-semiconductor-corp/15649/2" rel="nofollow noreferrer" target="_blank">Raspberry Pi 3 issues with 0bda:a811 Realtek Semiconductor Corp</a></p>

<p>里面推荐的驱动这里下载</p>

<ul>
<li><a href="https://github.com/diederikdehaas/rtl8812AU/tree/driver-4.3.8" rel="nofollow noreferrer" target="_blank">https://github.com/diederikdehaas/rtl8812AU/tree/driver-4.3.8</a></li>
</ul>

<p>但是好像我之后用了其他也行。这都放上来</p>

<ul>
<li><a href="https://github.com/gnab/rtl8812au" rel="nofollow noreferrer" target="_blank">https://github.com/gnab/rtl8812au</a></li>
<li><a href="https://github.com/diederikdehaas/rtl8812AU" rel="nofollow noreferrer" target="_blank">https://github.com/diederikdehaas/rtl8812AU</a></li>
<li><a href="https://github.com/lwfinger/rtlwifi_new" rel="nofollow noreferrer" target="_blank">https://github.com/lwfinger/rtlwifi_new</a> （这是合集，但是没有我要的）</li>
</ul>

<p>最后通过github下载zip或者git clone下来。
把zip解压出来，在解压的文件内打开终端，输入以下命令</p>

<pre><code>make
sudo make install
sudo modprobe rtl8812au
</code></pre>

<p>输入<code>reboot</code>重启就可以了</p>

<h2 id="修复结果">修复结果</h2>

<p>控制中心的无线网络选项就出来啦</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://s1.ax1x.com/2018/06/13/CXuEmd.png" alt="修复后的样子。红色框框的无线网络开关原来是没有的" class="lazyload"><figcaption class="image-caption">修复后的样子。红色框框的无线网络开关原来是没有的</figcaption></figure></p>

<p>这次主要是在找驱动上花了较多时间，还有在网上找的有些驱动里面会make出错，所以多找了一些驱动。基本github都有的。因为一直都用有线连接，没有无线功能也是能用，但是强迫症没办法，不然就是不舒服。本来还以为这个外置无线网卡是杂牌的，应该找不到驱动，没想到还能找到。</p>

<blockquote>
<p>ps：并且发现自从安装了深度系统后，总感觉屏幕显示字体很大，今天才发现是显示设置里面把放大屏幕设置为1.25倍了。难怪感觉屏幕有点不清楚而且浏览器里面的字特别大。。。只要在装完系统后把显示里面的放大屏幕改为100%就好了。看起来舒服多了。</p>
</blockquote>

<h2 id="参考资料-4">参考资料</h2>

<h2 id="彻底解决deepin-linux的无线网络问题-https-bbs-deepin-org-forum-php-mod-viewthread-tid-153154"><a href="https://bbs.deepin.org/forum.php?mod=viewthread&amp;tid=153154" rel="nofollow noreferrer" target="_blank">彻底解决deepin linux的无线网络问题</a></h2>

<p>title: omegle-随机和全世界的网友聊天
id: 73
date: 2010-10-31
tags: [好站分享]
categories: [网络资源]
url: /internet/omegle-random-and-chat-with-friends-around-the-world
keywords: 在线聊天,随机聊天,omegle</p>

<h2 id="description-一个学生做的随机在线聊天网站omegle">description: 一个学生做的随机在线聊天网站Omegle</h2>

<p>最近好久没更新博客了。因为高三了，时间也变得紧张起来了。
<!--more--></p>

<p>前两天朋友迪宝推荐了一个网站给我，当时不知道在干嘛，反正是在电脑前，闲的无聊，不知道怎么的他推荐了omegle这个网站，说是可以随机和世界的网友聊天，进入网站只要点击一个按钮即可，还能视频的。。不过视频的话会让人觉得恶心的。。（去体验下就知道了）</p>

<h2 id="先暂停-有事没时间继续写">先暂停，有事没时间继续写。</h2>

<p>title: PayPal 2011 4大礼包现金派送
id: 276
date: 2011-08-27
tags:
- PayPal
categories: [小道消息]</p>

<h2 id="url-news-paypal-2011-gifts">url: /news/paypal-2011-gifts</h2>

<p>活动地址地址：<a href="https://www.paypal-biz.com/onestopsolution/2011offer/ossLP.php" rel="nofollow noreferrer" target="_blank">https://www.paypal-biz.com/onestopsolution/2011offer/ossLP.php</a>
<!--more--></p>

<h2 id="在hostloc-上看到的消息-就申请了下-最后提示重庆的客服会联系我-不知道会不会是男的-囧-昨天为了银联和paypal支付超时的问题就联系客服-居然是男的接电话">在hostloc 上看到的消息，就申请了下，最后提示重庆的客服会联系我。。不知道会不会是男的，，囧。 昨天为了银联和PayPal支付超时的问题就联系客服，居然是男的接电话。。。</h2>

<p>title: 给力吧2011！
id: 195
date: 2011-02-03
tags:
categories: [生活随想]</p>

<h2 id="url-life-give-power-2011">url: /life/give-power-2011</h2>

<p>今天是农历2011年的第一天初一，放假还有8天，想想时间过的真快，一眨眼就是高三下学期了，2011年最大的挑战就是高考，自己觉得还是很有鸭梨的，前几天是高三上学期的期末考，考的成绩算是不错，但是要放到高考，那是本三都困难。。<!--more--></p>

<p>数学不用说了，一直都比较差，而且还是不太用功，题目做的不够多，下学期得开始题海战术了 - -</p>

<p>还有政治。。背的太少了，就算选择题，也是昧着良心填。。因为这根本跟现实社会天差地别嘛。。。</p>

<p>2011年-高三下学期-必须奋斗了。。虽然不知道念到大学后有什么作用，但还是比高中毕业有用吧。</p>

<h2 id="所以在这里希望在新的一年里-爷爷父母兄弟姐妹等亲人身体健康-万事如意-兔年快乐-并祝自己在2011的高考里能顺顺利利-给力吧">所以在这里希望在新的一年里 爷爷父母兄弟姐妹等亲人身体健康、万事如意、兔年快乐！并祝自己在2011的高考里能顺顺利利，给力吧！</h2>

<p>title: 一番绮丽な私を-中岛美嘉
id: 78
date: 2010-11-13
tags:
- 音乐
categories: [影音资源]</p>

<h2 id="url-video-nakashima-mika-the-most-beautiful-of-me">url: /video/nakashima-mika-the-most-beautiful-of-me</h2>

<p><a href="http://www.henanpifa.com/mp3/h1.mp3" rel="nofollow noreferrer" target="_blank">一番绮丽な私を</a></p>

<p>2010夏季，已完结日剧《自恋刑警》插曲。中岛美嘉演唱
<!--more--></p>

<p>一番绮丽な私を
ドラマ「うぬぼれ刑事」挿入歌
词&amp;曲:杉山胜彦
编曲:Reggae Disco Rockers
呗:中岛美嘉</p>

<p>もしもあの春にあなたと出逢わなければ『如果在那个春天能和你相遇』
舞い散る花びらはただ白く见えていたでしょうか?『飞舞着散落的白色花朵你看见了?』</p>

<p>もしもあの夏を二人で过ごさなければ『如果能和你两个人度过夏天』
花火の辉きも残らずに消えていたでしょうか?『焰火的光辉也能够永远不消失吧』</p>

<p>一番绮丽な私を抱いたのはあなたでしょう『将最美的我抱着的那个人是你吧』
爱しい季节は流れて 运命と今は想うだけ『现在只想着在这爱的季节里流下的命运』</p>

<p>もしもあの秋に私が戻れるのなら『如果我在那个秋天回来的话』
隠し通したあの涙さえ见せてしまうでしょう『隐藏着的那些泪水会被看见吧』</p>

<p>もしもあの冬にあなたを信じていたら『如果在那个冬天我相信你的话』
今も二人で寄り添いながら生きていたでしょうか?『现在两个人应该依偎在一起生活了吧?』</p>

<p>一番绮丽な私を抱いたのはあなたでしょう『将最美的我抱着的那个人是你吧』
消えない涙の记忆を 运命と人は呼ぶのでしょう『命运和人呼唤着不会消失的泪水的记忆吧』</p>

<p>ああ あなたも私を想うのでしょうか?『啊~ 你也在想着我吗?』
二度と戻ることのない 駆けぬけた季节を『我再也不会回到 那曾一起经历过的季节』</p>

<p>一番绮丽な私を抱いたのはあなたでしょう『将最美的我抱着的那个人是你吧』
あの日心は震えてた だけど今溢れ出す『那些日子心不断跳着 差点都要跳出来了』
一番绮丽な私を抱いたのはあなたでしょう『将最美的我抱着的那个人是你吧』
时を超えるこの想いは 爱の他何があるでしょう『永恒的这种感觉是 爱的他一直存在吧』</p>

<h2 id="一番绮丽な私を-将最美的我">一番绮丽な私を…『将最美的我。。。』</h2>

<p>title: WordPress插件ShadowBoxJS幻灯片
id: 31
date: 2010-08-04
tags:
- WordPress
- ShadowBox
categories: [技术记录]
url: /technology/shadowbox-wordpress-plugin
keywords: WordPress,插件,shadowbox,JavaScript,博客程序</p>

<h2 id="description-本文记录了如何用shadowbox插件来给wordpress增加幻灯片功能">description: 本文记录了如何用Shadowbox插件来给WordPress增加幻灯片功能。</h2>

<p>wordpress之所以强大就是因为它有很多插件做后盾，多彩丰富的博客都是我们所希望的，幻灯片插件那么就是必不可少的了，Shadowbox JS就一款不错的幻灯片插件，除了一般的图片效果外，它还支持图片的裁剪、拖动、多媒体播放等功能。
<!--more-->
动态的载入视频，播放SWF、FLV更是轻而易举的事情，与LightBox相比，有过之而无不及，效果非常的棒，而且，它还支持多国语言，支持中文也真是十分的难得啊。</p>

<p>Shadowbox JS安装使用：
1.下载Shadowbox JS插件，解压后，上传到plugin目录；
2. 登录wordpress后台控制面板激活该插件，激活插件后，点击Settings选项，在里面找到Shadowbox JS选项，出现如下图界面</p>

<p>页面中有很多的选项，你可以更加自己的需求进行选择、设置，其实这些也都不需要什么设置，默认不动也是可以的，最主要的是，添加相关的代码：
在你需要添加幻灯片效果的图片上添加，如下代码：
单张图片：</p>

<p><code>【a rel=&quot;shadowbox&quot; href=&quot;images/01.jpg&quot;】
【img src=&quot;images01.jpg&quot; border=&quot;0&quot; alt=&quot;&quot; width=&quot;200&quot; height=&quot;150&quot; /】【/a】</code></p>

<p>或者</p>

<p>多张图片：</p>

<p><code>【a rel=&quot;shadowbox[group]&quot; href=&quot;images/01.jpg&quot;】【img src=&quot;images01.jpg&quot; border=&quot;0&quot; alt=&quot;&quot; width=&quot;200&quot; height=&quot;150&quot; /】【/a】</code></p>

<p>将代码中的【】 替换成<code>&amp;lt;&amp;gt;</code></p>

<p>除此之外，你还可以添加Flash、视频等功能，具体的你可以参见作者<a href="http://sivel.net/wordpress/shadowbox-js/" rel="nofollow noreferrer" target="_blank">官方的介绍</a>，这里就做过多的介绍了。</p>

<p>shadowbox JS 版本 3.0.3.2  可以支持直接插入图片， 比如你在编辑文章的时候上传或者插入图片，就可以直接显示效果了，
同样适用于 FLASH 等其他多媒体， 比如SWF格式</p>

<p>【a href=&lsquo;<a href="http://player.youku.com/player.php/sid/XMTE1NDA0Mzg4/v.swf'" rel="nofollow noreferrer" target="_blank">http://player.youku.com/player.php/sid/XMTE1NDA0Mzg4/v.swf'</a> 】点击这里观看视频【/a】</p>

<p>将代码中的【】 替换成<code>&amp;lt;&amp;gt;</code></p>

<p>所以说 只要链接是指向于 JPG SWF  等等多媒体时 就行了。</p>

<p>附带网上找的其他资料</p>

<blockquote>
<p>Shadowbox.js是一个基于网络浏览器的应用程序，支持网络上最流行的媒体格式。使用Shadowbox访问各式各样的媒体时，用户可以直接在所有主流的浏览器中浏览，而且不用去打开一个新的媒体页。</p>

<p>这里说媒体主要包括：图片，SWF，QuickTime，Video和一些网络Video等等。</p>

<p>Shadowbox使用Javascript和CSS编写，可以定制当前非常流行的各种JS库，比如说：</p>

<ul>
<li><p>jQuery</p></li>

<li><p>Prototype</p></li>

<li><p>MooTools (requires 1.2 Core)</p></li>

<li><p>Dojo Toolkit</p></li>

<li><p>Yahoo! User Interface Library (requires yahoo-dom-event.js)</p></li>

<li><p>Ext (requires ext-core.js)</p></li>
</ul>

<p>所以大家还是非常值得一试的，下面是它的官方网站和下载地址，下载的时候可以选择你所使用JS库文件和你所希望播放的媒体：</p>

<p>官方地址：<a href="http://www.shadowbox-js.com/index.html" rel="nofollow noreferrer" target="_blank">http://www.shadowbox-js.com/index.html</a></p>

<p>下载地址：<a href="http://www.shadowbox-js.com/download.html" rel="nofollow noreferrer" target="_blank">http://www.shadowbox-js.com/download.html</a></p>

<p>下面给给大家介绍一下这个应用的具体用法，最简单的办法就是在你建立应用的页面头部加入下载的JS文件和CSS文件，然后调用Shadowbox.init：</p>

<p><link rel=”stylesheet” type=”text/css” href=”shadowbox.css”></p>

<script type=”text/javascript” src=”shadowbox.js”></script>

<script type=”text/javascript”>

Shadowbox.init();

</script>

<p>当然在头部还需要把你使用JS库加到前面。还有一个比较复杂的方法，就是在调用Shadowbox.init的时候，使用对象来指定一些选项，这样可以实现一些复杂的效果。</p>

<p><link rel=”stylesheet” type=”text/css” href=”shadowbox.css”></p>

<script type=”text/javascript” src=”shadowbox.js”></script>

<script type=”text/javascript”>

Shadowbox.init({

        handleOversize: “drag”,

        modal: true

    });

</script>

<p>关于Shadowbox的复杂用法我会在下一篇文章里详细介绍。当我们加入所需要的JS库和CSS文件以后，就要告诉shadowbox对哪些链接执行这些操作了。要执行这个操作有两种方法，一个是在链接的标签里添加属性，还有一个方法是用Javascript对Shadowbox进行设置。</p>

<p>在这篇文章主要介绍在链接的标签里添加属性，只要在链接里增加一个属性rel=”shadowbox”就可以了。假设你页面里有一个这样的链接：</p>

<p><a href="”myimage.jpg”" rel="nofollow noreferrer" target="_blank">My Image</a></p>

<p>要建立shadowbox的效果之需要修改成这样即可：</p>

<p><a href="”myimage.jpg” rel=”shadowbox”" rel="nofollow noreferrer" target="_blank">My Image</a></p>

<p>这时当你点击它的时候，就会在本页面打开一个弹出层来显示href里的图片。这种方法对于页面展示小图，点击以后展示大图有着很好的用户体验。这种效果就和lightbox展示的效果一样。（如果大家对lightbox不熟悉的话，我会在以后的文章中详细介绍它的主要用法）</p>

<p>如果你想显示图片标题，只需在链接属性里添加一个title。</p>

<p><a href="”myimage.jpg” rel=”shadowbox” title=”My Image”" title="”My Image”" rel="nofollow noreferrer" target="_blank">My Image</a></p>

<p>如果你想给弹出来的媒体设定长与宽的话，只要在rel属性中添加width和height就可以，用”;”号隔开，默认是以Pixel为单位，</p>

<p><a href="”mymovie.swf” rel=”shadowbox;height=140;width=120″" rel="nofollow noreferrer" target="_blank">My Movie</a></p>

<p>除了显示单张图片和电影以外，还可以显示画廊效果，如果想显示这一效果之需要在rel的shadowbox后面紧跟着一个用中括号括起来的画廊名字，这个名字是随便起的，不过需要注意的是，画廊名字相同的图片是在一个画廊里，下面以画廊名为“Vacation”的两个图片做为例子：</p>

<p><a href="”beach.jpg” rel=”shadowbox[Vacation]“" rel="nofollow noreferrer" target="_blank">The Beach</a></p>

<p><a href="”pier.jpg” rel=”shadowbox[Vacation]“" rel="nofollow noreferrer" target="_blank">The Pier</a></p>

<p>画廊可能由许多不同类型的内容。下面的标记显示不同的媒介，如何能成为一个单一的库相结合。</p>

<p><a href="”myimage.jpg”" rel="nofollow noreferrer" target="_blank">jpg</a></p>

<p><a href="”myswf.swf”" rel="nofollow noreferrer" target="_blank">swf</a></p>

<p><a href="”mymovie.mp4″" rel="nofollow noreferrer" target="_blank">movie</a></p>

<p><a href="”mywebsite.html”" rel="nofollow noreferrer" target="_blank">iframe</a></p>

<p>这篇文章先介绍这么多，熟悉这些用法，就可以在自己的页面里添加Shadowbox的效果了。在后面的文章里我会继续介绍Shadowbox的其他一些用法。</p>
</blockquote>

<h2 id="blockquote"><blockquote></h2>

<p>title: 康盛创想被腾讯收购了
id: 52
date: 2010-08-25
tags: []
categories: [小道消息]</p>

<h2 id="url-news-tencent-buy-comsenz">url: /news/tencent-buy-comsenz</h2>

<p>8月24日，国内最大的互联网企业腾讯证实，已与中国最大的社区软件平台及服务提供商康盛创想达成收购协议，具体交易将在近期完成。</p>

<p>对于这一事件，大多数关心和使用Discuz!的站长应该都很熟悉，康盛被腾讯收购的消息早在几个月前就闹得沸沸扬扬，收购后的康盛，不知对广大站长是件好事还是坏事，大家只能拭目以待。。</p>

<p>相关新闻：
<a href="http://tech.sina.com.cn/i/2010-08-25/15194587114.shtml" rel="nofollow noreferrer" target="_blank"> 腾讯收购康盛创想</a> &ndash;新浪科技
&gt; 国内最大的互联网企业腾讯证实，已与中国最大的社区软件平台及服务提供商康盛创想达成收购协议，具体交易将在近期完成。据透露，这次的收购金额将在6000万美元以上，借助收购康盛创想，腾讯将有机会杀入中小网站的市场争夺，与百度、阿里巴巴在这一领域一较长短。
&gt;
&gt;
&gt; 康盛创想旗下的Discuz!是全球范围内用户量最大、覆盖面最广的社区软件平台，拥有超过140万家网站用户，是中小网站首选的社区与网站建设平台。在 Alexa中国排名前1500家网站中，超过70%的网站选择第三方社区平台时采用了Discuz！的解决方案，奇虎董事长周鸿祎和红杉是其投资方&hellip;.</p>

<p><a href="http://tech.sina.com.cn/i/2010-08-25/15194587114.shtml" rel="nofollow noreferrer" target="_blank">&gt;&gt;&gt;&gt;&gt;&gt;&gt;了解更多</a></p>

<p><a href="http://it.sohu.com/20100825/n274452616.shtml" rel="nofollow noreferrer" target="_blank"> 康盛CEO戴志康告站长书：一万年免费不动摇</a> &ndash;DoNews</p>

<blockquote>
<p>康盛创想CEO戴志康在公司网站论坛上致信广大站长，承诺收购之后提供的任何服务，都与之前康盛所提供的一样，基于站长和用户自主、自愿的选择，站长和用户均凭自己的判断和意愿，选择打开或关闭、启用或不启用这些服务。</p>

<p>以下是帖子全文：</p>

<p>亲爱的各位站长、网站主、用户朋友</p>

<p>相信大家已经看到我们之前在康盛官方网站和腾讯网上的新闻报道。是的，康盛即将以腾讯全资子公司的身份，继续为大家服务。</p>
</blockquote>

<h2 id="gt-gt-gt-gt-gt-gt-了解更多-http-it-sohu-com-20100825-n274452616-shtml"><a href="http://it.sohu.com/20100825/n274452616.shtml" rel="nofollow noreferrer" target="_blank">&gt;&gt;&gt;&gt;&gt;&gt;了解更多</a></h2>

<p>date: 2017-10-03
draft: false
title: 添加SSL后Nginx的https伪静态配置多次不成功
url: /technology/nginx-conf-after-ssl
isCJKLanguage: true
categories: [技术记录]
tags: [Nginx,Wordpress,后端技术]
keywords: LNMP,Nginx,SSL,Wordpress,后端技术</p>

<h2 id="description-本文记录了添加ssl证书后如何配置nginx的伪静态配置来实现https的方法">description: 本文记录了添加SSL证书后如何配置Nginx的伪静态配置来实现https的方法。</h2>

<p>前两天给<a href="http://www.hanayao.com" title="HanaYao博客" rel="nofollow noreferrer" target="_blank">HanaYao博客</a>添加了SSL证书。但是经过多次测试，会出现访问带www的域名就会显示Nginx默认页面，或者是404 。多次修改伪静态配置后也还是会出现带www和不带www域名访问出现问题，或者就是进入后台会出现404。</p>

<h2 id="more-1"><!--more--></h2>

<h3 id="重定向配置">重定向配置</h3>

<p>但是在多次调试后。调阅Nginx官方的资料后。现在官方推荐的301重定向语法应该是
<code>return 301 https://$server_name$request_uri;</code>
并且80端口和443端口要开两个
<code>server{ }</code>
一个为</p>

<pre><code>server
    {
        listen 80;
        server_name hanayao.com www.hanayao.com;
        return 301 https://$server_name$request_uri;

    }
</code></pre>

<p>另一个为（以下配置为wordpress用）</p>

<pre><code>server
    {

        listen 443; #监听443端口
        server_name hanayao.com www.hanayao.com;
        index index.html index.htm index.php default.html default.htm default.php;
        root  /home/wwwroot/www.hanayao.com;
        ssl on; #开启SSL
        ssl_certificate /usr/local/nginx/conf/vhost/ssl/hanayao.pem; #刚才存放域名证书的路径
        ssl_certificate_key /usr/local/nginx/conf/vhost/ssl/hanayao.key; #存放key的路径
        include wordpress.conf;
        error_page   404   /404.html;
        include enable-php.conf;

        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
        {
            expires      30d;
        }

        location ~ .*\.(js|css)?$
        {
            expires      12h;
        }

        location ~ /\.
        {
            deny all;
        }

        access_log  /home/wwwlogs/www.hanayao.com.log;
    }
</code></pre>

<h3 id="调试效果">调试效果</h3>

<p>所以直接将SSL证书放在制定路径后，修改<code>/usr/local/nginx/conf/vhost/</code>下虚拟主机的配置文件conf。将以上配置粘贴进去。然后在ssh端通过 <code>/etc/init.d/nginx restart</code>可以重启Nginx或者直接用lnmp restart 直接重启整个web环境。我觉得后者还比较好用。修改ssl配置并重启后需要清楚浏览器缓存后刷新来查看效果，或者直接用chrome新建个无痕页面也可以。</p>

<h2 id="参考-nginx-https-nginx-org-en-nginx">参考<a href="https://nginx.org/en/" title="Nginx" rel="nofollow noreferrer" target="_blank">Nginx</a></h2>

<p>title: 谈谈学英语的那点事
id: 46
date: 2010-08-09
tags:
- 英语
categories: [生活随想]</p>

<h2 id="url-life-about-learning-english">url: /life/about-learning-english</h2>

<p>很多认识我的人 会认为我英语学的很好。其实不然，我认为自己也就是三脚猫的功夫。原因是什么呢？你们就只是看到我的英语成绩好，但是在我们那个学校 那个班级，这个分数来说是比较高，如果和别的班级比， 就脸红了。
<!--more--></p>

<p>首先我认为我的英语水平 也是很低的，只是我的基础比较好吧，到了现在高中考试也是吃老本，到什么时候老本啃光了，就杯具了。我做题目 大部分是靠猜的，就是语感。。这么说很多人都不相信，但也没办法，我真的不知道是什么原理，因为我就单词会一些，英语的东西看多了就成了这样。说实话我语法很差的，所以很怕老师叫起来提问。。。太尴尬了</p>

<p>说说我学英语的方法吧，其实很简单，在小学上初中的时候我去培训了一阵子，那时学的也挺认真  嘿嘿，因此基础就比较好了，</p>

<p>我本身也对英语比较感兴趣，因为有时有什么事情看英语看不懂 或者听老外讲话听不懂，很痛苦的，还有英语我觉得说起来也蛮好听的嘛。还有我比较经常看欧美电影，这我觉得是对我影响最大的，在中国 没有学习英语的环境，所以应该自己创造环境，经常看欧美电影，你无形中就会被影响了。（当然前提电影不是国语的。。。看那些英语中字的）因为外国人说他们自己的语言总比中国人强吧，有些人提出说听听力，我认为听力也是可以的，不过就是怕那些枯燥的对话 对白 你听不下去，这又有什么用？</p>

<p>因此我也就那些“秘籍”。。你只要把基础打牢了，什么音标了什么的，读英语你首先要学会读单词吧，不论什么 念中文也是这样。  后面就水到渠成了~~</p>

<h2 id="有想到什么就再补充吧-想写的时候却什么都出不来">有想到什么就再补充吧，想写的时候却什么都出不来 :-(</h2>

<p>title: 利用感恩节促销将主机换到Backy LLC
id: 124
date: 2010-11-28
tags:
- 服务器
categories: [服务器]</p>

<h2 id="url-server-thanksgiving-backy-llc">url: /server/thanksgiving-backy-llc</h2>

<p>&nbsp;</p>

<p>感恩节是美国比较重要的节日，而商家促销是这个节日不可缺少的一部分。</p>

<p>今年的部分美国主机促销打折力度非常大，比如我即将使用的Backy LLC，在22日左右就推出了感恩节惊人的2.5折优惠促销主机，面对all Shared &amp; Reseller hosting packages。促销时间也很长，到月底。
<!--more--></p>

<p>于是Wyane也趁着美国的节日享受了一把促销.</p>

<p><strong>1、Backy LLC</strong></p>

<p>谈谈Backy LLC的背景：</p>

<p><strong>Backy LLC</strong>，以前叫BackyCrop，从03年开始提供主机托管服务，现已正式更名为 Backy LLC，也就是 Backy 有限责任公司的意思，整个网站也做了全新的改版， 服务器也进行了升级了，速度以及性能都很不错。原来还有1G的免费空间，但是现在不支持申请了，咨询客服，说是停止这项服务了，在年底不会有这个业务了。</p>

<p><strong>2、HostGator</strong>
&gt; 促销网址：<strong><a href="http://www.feiyan.info/go/hostgator" rel="nofollow noreferrer" target="_blank">http://www.hostgator.com</a></strong>
&gt;
&gt;
&gt; 1. 北京时间11月26日14点到19点，HostGator全线产品优惠50%。
&gt;
&gt;
&gt; 2. 北京时间11月26日19点到23点，HostGator全线产品优惠80%，数量有限先到先得，过后将继续优惠50%。
&gt;
&gt;
&gt; 3. Shared Hosting – 仅需$0.99/month
&gt;
&gt;
&gt; 4. Reseller Hosting – 仅需$4.99/month
&nbsp;</p>

<p>3.CoolHandle
&gt; CoolHandle是美国主机商中的后起之秀，中等规模，价格偏上，但是一直以来各种优惠活动和促销非常的多。并且CoolHandle对促销的主机限制较多，采集站和垃圾站很少，非常适合独立博客。
&gt;
&gt;
&gt; 本次促销主机的配置如下：
&gt;
&gt;
&gt; 1.  第一年5.95美元的一次性安装费
&gt; 2.  无限空间/无限带宽
&gt; 3.  5个域名/5个停放的域名/5个FTP账号/5个邮箱
&gt;
&gt; 免费域名隐私（前提是你的域名在CoolHandle）</p>

<h2 id="还有等等的其他-总之这次打折真的听疯狂的">还有等等的其他，总之这次打折真的听疯狂的。</h2>

<p>title: 好看的美剧推荐：The Vampire Daries（吸血鬼日记）
id: 178
date: 2010-12-17
tags:
- 美剧
- 吸血鬼日记
categories: [影音资源]</p>

<h2 id="url-video-the-vampire-daries">url: /video/the-vampire-daries</h2>

<p>这个是09年开拍第一季的美剧，在美国的CW电视台播放，目前已经更新到第二季11集，是现在最火最热的美剧。<!--more-->
回想我看过的美剧也不多，我喜欢的也就是更少了，一般都是堂哥Kiwe推荐的，前几年的《越狱》真的在当时掀起了一股美剧狂潮，也使越来越多的人认识美剧，接触美剧，喜欢美剧。还有前面的《斯巴达克斯血与沙》，场面血腥与暴露尺度极大，刺激啊。国内哪有这样的作品，不过杯具的是斯巴达克斯血与沙的男主角拍完第一季被查处患上非霍奇金淋巴瘤，第二季就被搁置在那里了，后来好像说是治的差不多了都要复出拍第二季了还有前传，但是又杯具，查出复发。。又搁置了。。</p>

<h2 id="然后kiwe推荐给我-the-vampire-daries-吸血鬼日记-因为自己自从越狱后很少关注美剧了-因为当时试着去看其他美剧-看了一段-觉得不是很好看-就没继续看下去了-也没有继续找的念头了-但是吸血鬼日记一开始看就觉得很不错-有悬念-情节也不错-所以推荐下">然后Kiwe推荐给我《The Vampire Daries》（吸血鬼日记），因为自己自从越狱后很少关注美剧了，因为当时试着去看其他美剧，看了一段，觉得不是很好看，就没继续看下去了，也没有继续找的念头了，但是吸血鬼日记一开始看就觉得很不错，有悬念，情节也不错，所以推荐下。</h2>

<p>title: 吸血鬼日记第二季完结 Anna Viki重现
id: 239
date: 2011-05-14
tags:
- 美剧
- 吸血鬼日记
categories: [影音资源]</p>

<h2 id="url-video-the-vampire-daries-season-2">url: /video/the-vampire-daries-season-2</h2>

<p>今天看到吸血鬼日记第二季大结局出来了！怀着激动的心情看完了，真不愧是美剧，第二季完结的最后，前面的杰米的女朋友都复活了。。。
<!--more-->
虽说很有悬念，不过有些情节还是不符合情理，让人看了很不爽，比如那个以叙亚大叔，每次都是看起来很正直，但每次都被杀，太可怜了，后来也背叛艾琳娜他们，最后导致以杯具收场。珍娜和约翰都死了。</p>

<p>最后一个在墓地的镜头，看着达蒙那沧桑的背影，让人心里不禁感到一阵心酸。。。<!--more--></p>

<p>期待第三季的到来，总的来说，前两集吸血鬼日记都还是很不错的！</p>

<blockquote>
<h2 id="听说吸血鬼日记第三季将于2011-9-16强势回归-第三季开始的剧情不会如第二季第一集延续第一季最后一集的内容-会从吸血鬼始祖klaus及相关人物介绍回顾故事发展-再转回延续第二季的内容">听说吸血鬼日记第三季将于2011.9.16强势回归，第三季开始的剧情不会如第二季第一集延续第一季最后一集的内容，会从吸血鬼始祖Klaus及相关人物介绍回顾故事发展，再转回延续第二季的内容。</h2>

<p>title: typecho博客程序上传后缀为大写JPG附件失败的解决办法
date: 2017-06-19
tags:
- typecho
categories: [技术记录]
url: /technology/typecho-upload-jpg-image
keywords: typecho,Linux,上传JPG失败</p>

<h2 id="description-本文记录了typecho博客程序上传后缀为大写jpg附件失败的解决办法">description: 本文记录了typecho博客程序上传后缀为大写JPG附件失败的解决办法。</h2>
</blockquote>

<p>昨天安装了Typecho 1.0 (14.10.10)，是官网最新的正式版，但是调试中遇到一个问题，就是上传照片的时候会出现不能上传，后来试来试去发现是后缀扩展名为大写的图片不能支持。比如JPG,PNG等，这些是最新ios拍照自动使用大写后缀。但是ios系统又不支持修改文件名，所以导致博客不能用ios系统来上传附件。后来网上找了好久资料，才看到<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank"> Web Designer</a>有解决方法，这里谢谢他发出来。具体需要修改两个文件，以下摘自<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank"> Web Designer</a></p>

<blockquote>
<blockquote>
<p>将var/Widget/Options/General.php 文件修改如下：</p>
</blockquote>

<pre><code>$getText = new Typecho_I18n_GetText($file);
</code></pre>

<p>改成下面一句</p>

<pre><code>$getText = new Typecho_I18n_GetText($file, false);
</code></pre>

<p>将var/Widget/Upload.php 文件修改如下：</p>

<pre><code>return isset($info['extension']) ? $info['extension'] : '';
</code></pre>

<p>改成下面一句</p>

<pre><code>return isset($info['extension']) ? strtolower($info['extension']) : '';
</code></pre>
</blockquote>

<hr />

<p>title: &lsquo;万能红军版的《非诚勿扰》出场曲 can you feel it &lsquo;
id: 44
date: 2010-08-08
tags: []
categories: [影音资源]</p>

<h2 id="url-video-universal-red-army-version-of-you-are-the-one-played-song-can-you-feel-it">url: /video/universal-red-army-version-of-you-are-the-one-played-song-can-you-feel-it</h2>

<p>恶搞。。。看起来太疯狂了。。
<!--more-->
<a href="http://www.tudou.com/v/s5enUrZ1-OM/v.swf" rel="nofollow noreferrer" target="_blank">点击我观看万能红军版can you feel it </a>
附上原版的 can you feel it 不是很清晰。
<a href="http://player.youku.com/player.php/sid/XMTQ2MDg5Mzc2/v.swf" rel="nofollow noreferrer" target="_blank">点击我观看原版can you feel it</a></p>

<h2 id="其他的红军版歌曲陆续添加中-敬请围观">其他的红军版歌曲陆续添加中 - - 敬请围观 。。</h2>

<p>title: 利用Caddy的Filemanager插件搭建个人网盘教程
tags:
  - Caddy
  - Linux
  - Web服务器
  - 个人网盘
  - 后端技术
categories : [技术记录]
date: 2018-07-21
url: /technology/use-caddy-filemanager-to-build-personal-netdisk
keywords: Caddy,Linux,Web服务器,个人网盘,后端技术</p>

<h2 id="description-caddy自带的filemanager插件可用很完美的搭建一个个人网盘-本文记录了如何利用caddy的filemanager插件搭建个人网盘">description: Caddy自带的Filemanager插件可用很完美的搭建一个个人网盘，本文记录了如何利用Caddy的Filemanager插件搭建个人网盘。</h2>

<p>前面我们了解了<a href="https://huaien.me/article/backend/caddy-a-light-http-server/" rel="nofollow noreferrer" target="_blank">Caddy是一个极简HTTP服务器</a>，可以用来<a href="https://huaien.me/article/backend/use-caddy-to-run-site/" rel="nofollow noreferrer" target="_blank">快速配置网站</a>。并且支持HTTPS，支持自己的SSL证书或者只需要一个邮箱，Caddy帮你自动生成Let&rsquo;s Encrypt的免费证书，简单的配置就能搭建好一个HTTPS的Web服务器环境。<br />
其实Caddy自带的Filemanager插件可以直接用来搭建一个个人网盘，而且支持的功能还挺多，界面还挺好看。
<!--MORE--></p>

<h3 id="认识一下file-manager">认识一下File Manager</h3>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://user-images.githubusercontent.com/5447088/28537288-39be4288-70a2-11e7-8ce9-0813d59f46b7.gif" alt="File Manager" class="lazyload"><figcaption class="image-caption">File Manager</figcaption></figure></p>

<p>看上面的动图可以看到用Filemanager可以很方便的在线管理文件。</p>

<p>那么filemanager有哪些功能呢</p>

<h4 id="caddy-filebrowser扩展介绍">Caddy FileBrowser扩展介绍</h4>

<p>FileBrowser 是基于Caddy的扩展。它提供文件管理界面，可用于 上传/下载/删除/预览和重命名 等该目录中的文件。</p>

<ul>
<li>支持 上传文件</li>
<li>支持 按类型 搜索文件</li>
<li>支持 批量压缩 文件下载</li>
<li>支持 多用户管理(权限可控)</li>
<li>支持 在网页执行 Linux命令</li>
<li>支持 创建 共享链接(限时/永久)</li>
<li>支持 在线编辑 各类文本文件</li>
<li>支持 在线浏览 图片/文本/视频等</li>
<li>支持 新建/重命名/移动/删除 文件和文件夹等
部署简单，几步完成，无需任何依赖环境
等等 &hellip;</li>
</ul>

<p>并且支持中文，日语，英语等多种语言。其中<a href="https://github.com/hacdias/filemanager/issues/168" rel="nofollow noreferrer" target="_blank">中文文件</a>由<a href="https://doub.io/jzzy-3/" rel="nofollow noreferrer" target="_blank">逗比根据地</a>博主制作。</p>

<h3 id="安装caddy与filemanager插件">安装Caddy与Filemanager插件</h3>

<p>如果你已经安装了Caddy，但是没有Filemanager插件，你需要重新安装一次Caddy，附带Filemanager</p>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-c# 如果上面这个脚本无法下载，尝试使用备用下载：
ertificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager
</code></pre>

<p>==注意：此文中的Caddy管理命令与Caddy文件夹路径等仅试用于本文的脚本。==</p>

<h3 id="caddy-使用说明">Caddy 使用说明</h3>

<pre><code>启动：/etc/init.d/caddy start

停止：/etc/init.d/caddy stop

重启：/etc/init.d/caddy restart

查看状态：/etc/init.d/caddy status

查看Caddy启动日志： tail -f /tmp/caddy.log

Caddy配置文件位置：/usr/local/caddy/Caddyfile

FileBrowser数据库位置：/usr/local/caddy/filemanager.db

Caddy自动申请SSL证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/
</code></pre>

<h3 id="修改caddyfile来配置filemanager">修改Caddyfile来配置Filemanager</h3>

<p>首先先创建一个网站根目录文件夹</p>

<pre><code>mkdir /usr/local/caddy/www &amp;&amp; mkdir /usr/local/caddy/www/pan
</code></pre>

<p>根据之前的教程，可以vi修改Caddyfile或者echo修改Caddyfile两种方式来配置。</p>

<h4 id="vi修改方式">vi修改方式</h4>

<pre><code>example.com {
 root /usr/local/caddy/www/pan
 timeouts none
 #这里使用免费证书
 tls xxx@gmail.com
 gzip
 filemanager / /usr/local/caddy/www/pan {
  database /usr/local/caddy/filemanager.db
 }
}
</code></pre>

<h4 id="echo修改方式">echo修改方式</h4>

<pre><code>echo &quot;example.com {
 root /usr/local/caddy/www/pan
 timeouts none
 #这里使用免费证书
 tls xxx@gmail.com
 gzip
 filemanager / /usr/local/caddy/www/pan {
  database /usr/local/caddy/filemanager.db
 }
}&quot; &gt; /usr/local/caddy/Caddyfile
</code></pre>

<p>==注意此操作会覆盖原Caddyfile文件内容，如果需要在原文件最后追加请修改最后一行为==</p>

<pre><code>}&quot; &gt;&gt; /usr/local/caddy/Caddyfile
</code></pre>

<h4 id="了解filebrowser扩展各个参数">了解FileBrowser扩展各个参数</h4>

<pre><code>filemanager [url] [scope] {
 database path
}
</code></pre>

<ul>
<li>url 是要设置的网站URL。默认是 / (比如 /yourname 那么访问入口就是 <a href="http://ip/yourname" rel="nofollow noreferrer" target="_blank">http://ip/yourname</a> )。</li>
<li>scope 是要浏览的服务器文件目录路径，可以使相对或绝对路径。默认是 ./ (服务器上面文件的绝对或相对路径)。</li>
<li>database path 是 filemanager 的数据库路径（如果不写这个参数，则默认就是 /usr/local/caddy/filemanager.db）。</li>
</ul>

<h4 id="重启caddy">重启Caddy</h4>

<p>当你已经配置完上面步骤后，那就需要启动Caddy了。</p>

<pre><code>/etc/init.d/caddy start
</code></pre>

<p>#如果启动失败可以看Caddy日志：</p>

<pre><code>tail -f /tmp/caddy.log
</code></pre>

<h3 id="开始使用filebrowser">开始使用FileBrowser</h3>

<h4 id="登陆-修改密码">登陆，修改密码</h4>

<p>打开网站，第一次登陆的默认账号密码都是admin，登陆后可以修改密码。</p>

<h4 id="切换中文">切换中文</h4>

<p>进入后可以点击左边侧栏 [Settings] 进入设置页面，然后选择 [language - Chinese (Simplified)] ，并点击右下角第一个 [Update] 按钮更新。</p>

<h4 id="快捷键">快捷键</h4>

<p>一些按键有对应的作用：</p>

<ul>
<li>F1 - 查看帮助</li>
<li>F2 - 重命名 文件/文件夹</li>
<li>DEL - 删除所选 文件/文件夹</li>
<li>ESC - 清除当前选择 或 关闭提示</li>
<li>CTRL + S - 保存下载 文件/文件夹（zip压缩）</li>
<li>CTRL + 鼠标左键 单击 - 选择多个文件/文件夹</li>
<li>鼠标左键 双击 - 打开文件/文件夹</li>
<li>鼠标左键 单击 - 选择文件/文件夹</li>
</ul>

<h3 id="维护filemanager">维护FIlemanager</h3>

<h4 id="升级filebrowser">升级FileBrowser</h4>

<p>只需要重新前面的Caddy安装命令覆盖安装Caddy＋Filemanager即可（只会覆盖 Caddy自身，不影响配置文件），覆盖安装后启动Caddy即可。</p>

<h4 id="卸载filebrowser">卸载FileBrowser</h4>

<p>因为扩展是集成于Caddy中的，所以无法单独卸载某个扩展。
所以卸载的话需要将前面的Caddy安装命令的install改为uninstall就可以了。
例如</p>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall http.filemanager

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-c# 如果上面这个脚本无法下载，尝试使用备用下载：
ertificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall http.filemanager
</code></pre>

<h3 id="可能遇到的问题">可能遇到的问题</h3>

<h4 id="启动显示成功-但是实际未运行">启动显示成功，但是实际未运行</h4>

<p>因为 服务脚本判断的问题，只判断了nohub是否运行 Caddy成功，但没有判断 Caddy 是否保持正常运行。</p>

<p>你可以理解为，nohub成功启动了 Caddy，但是 Caddy因为配置文件错误等原因，启动后又退出了。</p>

<p>所以这种情况下，你应该去查看启动日志：</p>

<pre><code>tail -f /tmp/caddy.log
</code></pre>

<h4 id="caddy下载文件频繁中断">Caddy下载文件频繁中断</h4>

<p>可能是因为 Caddy的超时时间机制导致的，可以在配置文件中加入这句代码 timeouts none ，例如这样：</p>

<pre><code>example.com {
 root /usr/local/caddy/www/pan
 timeouts none
 #这里使用免费证书
 tls xxx@gmail.com
 gzip
 filemanager / /usr/local/caddy/www/pan {
  database /usr/local/caddy/filemanager.db
 }
}
</code></pre>

<h4 id="caddy启动失败-打开-http-ip-显示的是-it-works-1">Caddy启动失败，打开 <a href="http://ip" rel="nofollow noreferrer" target="_blank">http://ip</a> 显示的是 It works !</h4>

<p>一些系统会自带 apache2 ，而 apache2 会占用80端口，导致Caddy无法绑定端口，所以只要关掉就好了。</p>

<pre><code>netstat -lntp
# 我们可以通过这个命令查看是不是被其他软件占用了 80 端口。
</code></pre>

<p>不过 apache2 会默认开机自启动，如果不需要可以关闭自启动或者卸载 apache2 。</p>

<p>停止 Apache2</p>

<pre><code>/etc/init.d/apache2 stop
# 尝试使用上面这个关闭，如果没效果或者提示什么错误无法关闭，那就用下面这个强行关闭进程。
kill -9 $(ps -ef|grep &quot;apache2&quot;|grep -v &quot;grep&quot;|awk '{print $2}')
</code></pre>

<p>取消开机自启动</p>

<pre><code># 以下代码仅限 Debian/Ubuntu 系统 #
update-rc.d -f apache2 remove
</code></pre>

<p>卸载 Apache2</p>

<pre><code># 以下代码仅限 Debian/Ubuntu 系统 #
apt-get remove --purge apache2
</code></pre>

<p>关闭 Apache2后，就可以尝试启动 Caddy ，并试试能不能打开网页。</p>

<pre><code>/etc/init.d/caddy start
</code></pre>

<h4 id="启动-caddy后-无法访问">启动 Caddy后，无法访问</h4>

<p>这个可能是防火墙的问题，开放防火墙端口即可。</p>

<pre><code>iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT
iptables -I INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT

# 删除防火墙规则，内容一样把 -I 换成 -D 就行了：
iptables -D INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT
iptables -D INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT


</code></pre>

<h4 id="filebrowser账号密码忘了或想要重置账号信息">FileBrowser账号密码忘了或想要重置账号信息</h4>

<p>我们可以重置FileBrowser的数据库文件来清除所有账号信息，这样我们就变成初始账号和密码了(admin/admin)。
&gt; 注意：删除数据库文件只会影响数据库内储存的各账号信息，并不会影响服务器本地的文件夹/文件。</p>

<p>很简单，关闭Caddy，然后删除FileBrowser数据库文件，启动Caddy，使用初始账号密码登陆。</p>

<pre><code>/etc/init.d/caddy stop
rm -rf /usr/local/caddy/filemanager.db
/etc/init.d/caddy start
</code></pre>

<h3 id="参考资料-5">参考资料</h3>

<p><a href="https://doub.io/jzzy-3/" rel="nofollow noreferrer" target="_blank">利用 Caddy FileBrowser扩展 非常简单的部署 私人网盘/在线文件管理器</a></p>

<p><a href="https://caddyserver.com/docs/http.filemanager" rel="nofollow noreferrer" target="_blank">Caddy 文档</a></p>

<h2 id="github-项目-https-github-com-filebrowser-filebrowser"><a href="https://github.com/filebrowser/filebrowser" rel="nofollow noreferrer" target="_blank">Github 项目</a></h2>

<p>title: 利用Caddy来搭建可挂载的WebDAV个人网盘+配合FileBrowser来管理文件
tags:
  - Caddy
  - WebDav网盘
  - FileBrowser
  - 后端技术
categories : [技术记录]
date: 2018-07-23
draft: false
url: /technology/use-caddy-to-build-webdav-server
keywords: Caddy,Linux,WebDav,个人网盘,filemanager,后端技术
description: 前面我们介绍了Caddy的Filemanager插件，今天介绍一下用Caddy自带的插件来搭建WebDav服务器和用filemanager来管理文件。</p>

<hr />

<p>前面我们讲到了<a href="https://huaien.me/article/backend/caddy-a-light-http-server/" rel="nofollow noreferrer" target="_blank">Caddy</a>以及用<a href="https://huaien.me/article/backend/use-caddy-to-run-site/" rel="nofollow noreferrer" target="_blank">Caddy搭建网站</a>还有用<a href="https://huaien.me/article/backend/use-caddy-filemanager-to-build-personal-netdisk/" rel="nofollow noreferrer" target="_blank">Caddy的File Manager来搭建个人网盘</a>。今天我们要讲的用Caddy的WebDav扩展组件来搭建一个Webdav服务器。并且配合Caddy的FileManager扩展组件来在线管理WebDav服务器的文件。
<!--more--></p>

<h2 id="什么是webdav服务器">什么是WebDav服务器</h2>

<p>WebDAV是基于Web的分布式编写和版本控制，是超文本传输协议（HTTP）的扩展，有利于用户间协同编辑和管理存储在万维网服务器文档。WebDAV最重要的特性包括：</p>

<ul>
<li>锁（防止覆盖）</li>
<li>特性（创建，移除和查询）</li>
<li>命名空间管理</li>
<li>集合（创建，移除和列举资源）</li>
</ul>

<p>&ndash;来源：维基百科，掘金</p>

<p>有个好处就是可以像普通网盘那样挂载到本地硬盘，然后实现即时同步功能。</p>

<h2 id="我为什么要搭建webdav服务器">我为什么要搭建WebDav服务器？</h2>

<p>其实是因为最近在研究密码管理器，比如<a href="https://keepass.info/" rel="nofollow noreferrer" target="_blank">keepass</a>，<a href="https://1password.com/" rel="nofollow noreferrer" target="_blank">1password</a>，<a href="https://lastpass.com/" rel="nofollow noreferrer" target="_blank">lastpass</a>，<a href="https://www.enpass.io/" rel="nofollow noreferrer" target="_blank">enpass</a>，<a href="https://bitwarden.com/" rel="nofollow noreferrer" target="_blank">bitwarden</a>等等。在使用keepass或者enpass过程中，遇到webdav这个同步选项。在研究后就想自己搭建一个WebDav服务器来同步数据。</p>

<h2 id="利用caddy的webdav扩展组件来搭建webdav服务器">利用Caddy的WebDav扩展组件来搭建WebDav服务器</h2>

<h3 id="安装caddy">安装Caddy</h3>

<p>使用下面的一键安装包来安装Caddy，需要添加的组件是http.filemanager（在线个人网盘），http.webdav（Webdav支持）还有http.cors（这个是在使用KeeWeb连接Webdav时出现网络错误Netword Error的时候需要添加这个）。</p>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager,http.webdav,http.cors

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-c# 如果上面这个脚本无法下载，尝试使用备用下载：
ertificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager,http.webdav,http.cors
</code></pre>

<p>具体安装Caddy教程请参考<a href="https://huaien.me/archives/caddy-a-light-http-server-one-click-shell.html" rel="nofollow noreferrer" target="_blank">这里</a></p>

<h3 id="caddy的使用说明及相关路径">Caddy的使用说明及相关路径</h3>

<pre><code>启动：/etc/init.d/caddy start

停止：/etc/init.d/caddy stop

重启：/etc/init.d/caddy restart

查看状态：/etc/init.d/caddy status

查看Caddy启动日志： tail -f /tmp/caddy.log

安装目录：/usr/local/caddy

Caddy配置文件位置：/usr/local/caddy/Caddyfile

Caddy自动申请SSL证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/
</code></pre>

<h3 id="搭建webdav服务器">搭建WebDav服务器</h3>

<h4 id="修改caddy配置文件">修改Caddy配置文件</h4>

<h5 id="vi方式">vi方式</h5>

<pre><code>vi /usr/local/caddy/Caddyfile
</code></pre>

<p>按i键进入insert模式
输入以下内容</p>

<pre><code>dav.yourdomain.com {
 #申请免费SSL证书
 tls 你的邮箱
 #根目录
 root /usr/local/caddy/www/file/dav
 #给网站目录添加简单的登录机制（账号admin密码password自行修改）
 basicauth / admin password
 timeouts none
 gzip
 webdav / {
  scope /usr/local/caddy/www/file/dav
  allow /
 }
}

</code></pre>

<p>编辑完成按左上角esc键退出insert模式，再按:冒号进入末行模式「Last line mode」，然后输入wq保存退出。</p>

<h5 id="echo方式">echo方式</h5>

<p>*下面的命令为一串命令，需要一次复制粘贴，不能每行分开复制。</p>

<pre><code class="language-shell">echo &quot;dav.yourdomain.com {
 #申请免费SSL证书
 tls 你的邮箱
 #根目录
 root /usr/local/caddy/www/file/dav
 #给网站目录添加简单的登录机制（账号admin密码password自行修改）
 basicauth / admin password
 timeouts none
 gzip
 webdav / {
  scope /usr/local/caddy/www/file/dav
  allow /
 }
}&quot; &gt; /usr/local/caddy/Caddyfile

</code></pre>

<p>上面的命令是清空覆盖源文件内容替换为新内容，如果要在源文件内容最后追加新内容的话把上面最后一行改为</p>

<pre><code>}&quot; &gt;&gt; /usr/local/caddy/Caddyfile
</code></pre>

<h4 id="重启caddy-1">重启Caddy</h4>

<pre><code>/etc/init.d/caddy restart
</code></pre>

<h4 id="验证搭建成功">验证搭建成功</h4>

<p>然后浏览器进入你的域名 dav.yourdomain.com，应该会出现登录界面，输入前面配置文件设置的用户名admin密码password成功登录后如果出现下面的画面，表示搭建成功。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/23/5b557034b6fe9.png" alt="搭建成功的界面" class="lazyload"><figcaption class="image-caption">搭建成功的界面</figcaption></figure></p>

<h2 id="配合filemanager扩展组件使用">配合FileManager扩展组件使用</h2>

<p>其实上一步已经就完成了WebDav的搭建，后来想到如果能用浏览器在线管理WebDav上面的文件就方便多了。
于是可以结合之前写的<a href="https://huaien.me/archives/use-caddy-filemanager-to-build-personal-netdisk.html" rel="nofollow noreferrer" target="_blank">利用Caddy的Filemanager插件搭建个人网盘教程</a>来完善WebDav的使用。</p>

<p>前面把WebDav服务器的根目录设置为/usr/local/caddy/www/file/dav也是为了下面搭建个人网盘而准备的。</p>

<p>下面我们把FileManager的根目录设置为/usr/local/caddy/www/file，WebDav服务器就成了FileManager里面的一个文件夹。</p>

<p>如图
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/23/5b557684a6f56.png" alt="在FIleManager搭建的个人网盘里面，可以直接管理刚才搭建的Webdav文件" class="lazyload"><figcaption class="image-caption">在FIleManager搭建的个人网盘里面，可以直接管理刚才搭建的Webdav文件</figcaption></figure></p>

<h3 id="vi方式修改caddy配置文件">vi方式修改Caddy配置文件</h3>

<pre><code>file.example.com {
 root /usr/local/caddy/www/file
 timeouts none
 #这里使用免费SSL证书
 tls 你的邮箱
 gzip
 filemanager / /usr/local/caddy/www/file {
  database /usr/local/caddy/filemanager.db
 }
}
</code></pre>

<h3 id="echo方式修改caddy配置文件">echo方式修改Caddy配置文件</h3>

<p>因为之前我们已经配置过Caddyfile了，本次就在前面WebDav配置的后面追加FileManager的配置。所以用下面的命令</p>

<pre><code>echo &quot;file.example.com {
 root /usr/local/caddy/www/file
 timeouts none
 #这里使用免费SSL证书
 tls 你的邮箱
 gzip
 filemanager / /usr/local/caddy/www/file {
  database /usr/local/caddy/filemanager.db
 }
}&quot; &gt;&gt; /usr/local/caddy/Caddyfile
</code></pre>

<h3 id="重启caddy-2">重启Caddy</h3>

<pre><code>/etc/init.d/caddy restart
</code></pre>

<h2 id="相关问题">相关问题</h2>

<h3 id="配合keeweb使用出现-network-error">配合KeeWeb使用出现&rdquo;Network Error&rdquo;</h3>

<h4 id="需启用http-cors扩展插件">需启用http.cors扩展插件</h4>

<p>查阅了<a href="https://github.com/keeweb/keeweb/wiki/WebDAV-Config" rel="nofollow noreferrer" target="_blank">KeeWeb的官方Wiki</a>后，得知需要启用http.cors扩展插件。<br />
http.cors扩展插件前面我们已经在安装Caddy的时候安装好了，现在我们只需要在Caddyfile里面的WebDav配置内容加上cors指令。
下面是完整的配置文件</p>

<pre><code>dav.yourdomain.com {
 #申请免费SSL证书
 tls 你的邮箱
 #根目录
 root /usr/local/caddy/www/file/dav
 #给网站目录添加简单的登录机制（账号admin密码password自行修改）
 basicauth / admin password
 timeouts none
 gzip
 webdav / {
  scope /usr/local/caddy/www/file/dav
  allow /
 }
 cors / {
   origin *
   methods GET,HEAD,POST,PUT,OPTIONS,MOVE,DELETE,COPY,LOCK,UNLOCK,PROPFIND,MKCOL
   allow_credentials true
   max_age 1728000
   allowed_headers Authorization,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,X-Accept-Charset,X-Accept,origin,accept,if-match,destination,overwrite
   exposed_headers ETag
 }
}
</code></pre>

<p>具体指令里面为什么要写那些我也不知道，这是官方wiki提供的Sample。</p>

<p>但是这样还是有点问题。是下面这个问题。</p>

<h4 id="keeweb无法连接数据库文件-kdbx">KeeWeb无法连接数据库文件.kdbx</h4>

<p>试了好几次好像是因为WebDav开启了认证就不好使。就是配置文件中的basicauth指令。
后来尝试把basicauth设置成下面的格式就可以用了，但是WebDav就没有认证登录机制了。</p>

<pre><code>dav.yourdomain.com {
 #申请免费SSL证书
 tls 你的邮箱
 #根目录
 root /usr/local/caddy/www/file/dav
 #给网站目录添加简单的登录机制，这里删除了/
 basicauth admin password
 timeouts none
 gzip
 webdav / {
  scope /usr/local/caddy/www/file/dav
  allow /
 }
 cors / {
   origin *
   methods GET,HEAD,POST,PUT,OPTIONS,MOVE,DELETE,COPY,LOCK,UNLOCK,PROPFIND,MKCOL
   allow_credentials true
   max_age 1728000
   allowed_headers Authorization,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,X-Accept-Charset,X-Accept,origin,accept,if-match,destination,overwrite
   exposed_headers ETag
 }
}
</code></pre>

<p>这样设置之后KeeWeb可以正常连接到WebDav上面的密码数据库，而不会之前的报错Network Error，可能可以打开数据库但是修改后无法同步到WebDav服务器。</p>

<h3 id="没有定义root路径">没有定义root路径</h3>

<p>在试验中发现，配置内容里面去掉</p>

<pre><code>root /usr/local/caddy/www/file/dav
</code></pre>

<p>也可以正常使用。。</p>

<p>附上我实际用的配置，应该是有安全风险的。</p>

<pre><code>dav.domain.com {
 tls www@gmail.com
 basicauth admin password
 webdav / {
  scope /usr/local/caddy/www/file/dav
  allow /
 }
 cors / {
   origin *
   methods GET,HEAD,POST,PUT,OPTIONS,MOVE,DELETE,COPY,LOCK,UNLOCK,PROPFIND,MKCOL
   allow_credentials true
   max_age 1728000
   allowed_headers Authorization,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,X-Accept-Charset,X-Accept,origin,accept,if-match,destination,overwrite
   exposed_headers ETag
 }
}

</code></pre>

<h3 id="出现其他问题">出现其他问题</h3>

<p>请活用启动日志</p>

<pre><code>tail -f /tmp/caddy.log
</code></pre>

<p><strong>出现启动失败多数是因为Caddyfile指令写错或者没有安装相关扩展组件导致无法启动。</strong></p>

<h2 id="相关连接">相关连接</h2>

<h2 id="https-doub-io-jzzy-4"><a href="https://doub.io/jzzy-4/" rel="nofollow noreferrer" target="_blank">https://doub.io/jzzy-4/</a></h2>

<p>title: 利用Caddy来搭建网站之Caddy配置文件教程
tags:
  - Caddy
  - Web服务器
  - 后端技术
categories : [技术记录]
date: 2018-07-19
draft: false
url: /technology/use-caddy-to-run-site
keywords: Caddy,Linux,Web服务器,后端技术</p>

<h2 id="description-除了nginx-apache-大家可能没有了解过caddy-这是一个go语言开发的http服务器-可以用它来简单快速的配置支持ssl证书的网站">description: 除了Nginx,Apache,大家可能没有了解过Caddy，这是一个Go语言开发的HTTP服务器，可以用它来简单快速的配置支持SSL证书的网站。</h2>

<p>前面我们了解了<a href="https://huaien.me/article/backend/caddy-a-light-http-server/" rel="nofollow noreferrer" target="_blank">Caddy是一个极简HTTP服务器</a>，可以用来快速配置网站。并且支持HTTPS，支持自己的SSL证书或者只需要一个邮箱，Caddy帮你自动生成Let&rsquo;s Encrypt的免费证书，简单的配置就能搭建好一个HTTPS的Web服务器环境。
<!--more--></p>

<h3 id="安装caddy-1">安装Caddy</h3>

<p>这里是复习一下前面的内容。</p>

<pre><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager

# 如果上面这个脚本无法下载，尝试使用备用下载：

wget -N --no-check-c# 如果上面这个脚本无法下载，尝试使用备用下载：
ertificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager
</code></pre>

<p>安装完成
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2018/07/19/5b4fe31ad8663.png" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<h3 id="使用方法">使用方法</h3>

<p>以下使用方法仅适用于本一键安装脚本安装的Caddy。<br />
其他方式安装的Caddy需要其他的操作指令。</p>

<pre><code>启动：/etc/init.d/caddy start

停止：/etc/init.d/caddy stop

重启：/etc/init.d/caddy restart

查看状态：/etc/init.d/caddy status

查看Caddy启动日志： tail -f /tmp/caddy.log

安装目录：/usr/local/caddy

Caddy配置文件位置：/usr/local/caddy/Caddyfile

Caddy自动申请SSL证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/
</code></pre>

<p>根据上面我们可以知道Caddy配置文件位置：/usr/local/caddy/Caddyfile</p>

<p>这个文件就是我们用来添加网站，配置SSL等操作的重要文件。</p>

<h3 id="配置虚拟主机-添加网站">配置虚拟主机、添加网站</h3>

<h4 id="修改方法">修改方法</h4>

<p>这里可以通过两种方式来修改</p>

<p>Caddy配置文件 /usr/local/caddy/Caddyfile</p>

<p>一种是直接</p>

<pre><code>vi /usr/local/caddy/Caddyfile
</code></pre>

<p>另一种是直接用echo来添加内容到指定文件。</p>

<p>例如</p>

<pre><code>#清空覆盖源文件内容替换为新内容
echo &quot;配置内容&quot; &gt; /usr/local/caddy/Caddyfile
</code></pre>

<pre><code>#在源文件内容最后追加新内容
echo &quot;配置内容&quot; &gt;&gt; /usr/local/caddy/Caddyfile
</code></pre>

<h4 id="caddyfile-的格式">Caddyfile 的格式</h4>

<p>Caddfile的格式还是比较简单的，首先第一行必须是网站的地址，例如：</p>

<pre><code>#ip端口
localhost:8080
#域名
huaien.me
</code></pre>

<blockquote>
<p>地址可以带一个端口号，那么 caddy 只会在这个端口上开启 http 服务，而不会开启 https，如果不写端口号的话，caddy 会默认绑定 80 和 443 端口，同时启动 http 和 https 服务。</p>

<p>地址后面可以再跟一大堆指令（directive）。Caddyfile 的基本格式就是这样，由一个网站地址和指令组成，是不是很简单。</p>
</blockquote>

<h4 id="单网站写法">单网站写法</h4>

<pre><code>example.com
root /usr/local/caddy/www
#其他指令
</code></pre>

<h4 id="多网站写法">多网站写法</h4>

<p>网站后面用{}花括号包起来</p>

<pre><code>example.com1 {
  gzip
  root /usr/local/caddy/www
  #其他指令
}
example.com2 {
  gzip
  root /usr/local/caddy/www
  #其他指令
}
</code></pre>

<h4 id="一些常见的指令">一些常见的指令</h4>

<pre><code>#网站根目录
root /usr/local/caddy/www/example.com

#log日志
log /usr/local/caddy/www/example.log

#目录访问
browse

#gzip压缩
gzip

#自主ssl证书
tls /path/ssl/example.com.crt /path/ssl/example.com.key

#caddy帮你申请Let's Encrypt证书并续约
tls 邮箱地址

#访问口令认证（用户emiria，密码password）
basicauth / admin password

#跳转功能
redir http://example.com{url}

#自定义错误页面
errors {
    404 404.html
    500 /usr/local/caddy/www/500.html
}

#使用了 fastcgi 指令，代表把请求通过 fastcgi 传给 php，ruby 等后端程序
fastcgi / 127.0.0.1:9000 php {
    index index.php

#header 指令代表为所有的 /api/xxx 的请求加上 Access-Control-Allow-Origin 和 Access-Control-Allow-Methods 这两个 header，从而能支持 javascript 跨域访问 ，第 9 行代表删除 Server header，防止别人看到服务器类型
header /api {
    Access-Control-Allow-Origin  *
    Access-Control-Allow-Methods &quot;GET, POST, OPTIONS&quot;
    -Server
}

#rewrite 指令，这个指令的作用是 服务器内部重定向 在下面的参数 to 后面，又跟了三个参数，这个功能上有点类似 nginx 的 try_files 。
rewrite {
    to {path} {path}/ /index.php?{query}
}
</code></pre>

<p>更多配置参考：<a href="https://caddyserver.com/tutorial/caddyfile" rel="nofollow noreferrer" target="_blank">https://caddyserver.com/tutorial/caddyfile</a><br />
设置文档参考：<a href="https://caddyserver.com/docs" rel="nofollow noreferrer" target="_blank">https://caddyserver.com/docs</a></p>

<h4 id="多网站配置例子">多网站配置例子</h4>

<h5 id="vi模式修改caddy配置文件">vi模式修改Caddy配置文件</h5>

<pre><code>vi /usr/local/caddy/Caddyfile
</code></pre>

<p>进入vi界面后按i键进入insert模式</p>

<p>填入以下*(花括号与域名之间需要半角空格)</p>

<pre><code>#第一个网站
huaien.me {
 #指定根目录
 root /usr/local/caddy/www/huaien.me
 #开启gzip压缩
 gzip
 #开启https,使用免费证书自签
 tls 邮箱
 #如果有自己的证书，可以指定证书路径
 #tls /path/ssl/example.com.crt /path/ssl/example.com.key
 #开启log记录
 log /usr/local/caddy/www/huaien.me/example.log
}
#第二个网站
huaien2.me {
 #指定根目录
 root /usr/local/caddy/www/huaien2.me
 #开启gzip压缩
 gzip
 #开启https,使用免费证书自签
 tls 邮箱
 #如果有自己的证书，可以指定证书路径
 #tls /path/ssl/example.com.crt /path/ssl/example.com.key
 #开启log记录
 log /usr/local/caddy/www/huaien2.me/example.log
}
</code></pre>

<p>修改完后，按左上角esc键退出insert模式，再按半角冒号</p>

<pre><code>:wq
</code></pre>

<p>保存修改并退出。</p>

<p>每次修改Caddyfile文件都需要重启Caddy使其生效</p>

<pre><code>/etc/init.d/caddy restart
</code></pre>

<h5 id="直接追加内容至caddy配置文件">直接追加内容至Caddy配置文件</h5>

<p>以下一串是整体代码，需要复制全部内容*（不是一句一句复制粘贴）</p>

<pre><code>echo &quot;huaien.me {
 #指定根目录
 root /usr/local/caddy/www/huaien.me
 #开启gzip压缩
 gzip
 #开启https,使用免费证书自签
 tls 邮箱
 #如果有自己的证书，可以指定证书路径
 #tls /path/ssl/example.com.crt /path/ssl/example.com.key
 #开启log记录
 log /usr/local/caddy/www/huaien.me/example.log
}
#第二个网站
huaien2.me {
 #指定根目录
 root /usr/local/caddy/www/huaien2.me
 #开启gzip压缩
 gzip
 #开启https,使用免费证书自签
 tls 邮箱
 #如果有自己的证书，可以指定证书路径
 #tls /path/ssl/example.com.crt /path/ssl/example.com.key
 #开启log记录
 log /usr/local/caddy/www/huaien2.me/example.log
}&quot; &gt; /usr/local/caddy/Caddyfile
</code></pre>

<p>重启Caddy使其生效</p>

<pre><code>/etc/init.d/caddy restart
</code></pre>

<p>其他操作就是修改DNS记录，添加A记录到该服务器IP并等其生效。然后通过ftp上传网页到指定网站根目录。</p>

<p>就可以访问了。</p>

<h3 id="本人在折腾中遇到的问题">本人在折腾中遇到的问题</h3>

<p>在添加网站的时候自己遇到了几个问题，在这里记录一下。</p>

<h4 id="无法重启-启动caddy">无法重启/启动Caddy</h4>

<p>好几次都遇到无法重启或者启动Caddy的情况。
但是基本不外乎就是Caddyfile里面的内容出错了。
遇到问题时候先查看Caddy的log，里面会显示是什么原因无法启动。</p>

<pre><code>tail -f /tmp/caddy.log
</code></pre>

<h4 id="网站的网址写法">网站的网址写法</h4>

<p>按正常写法单网站是直接下面这样写</p>

<pre><code>domain.com
gzip
root /usr/local/caddy/www/domain.com
</code></pre>

<p>但是如果遇到无法访问网站好像可以网址前面加上  http://  可以正常访问。</p>

<p>如果还是有问题，重新查看配置内容。</p>

<h4 id="开启ssl的方法">开启SSL的方法</h4>

<p>只需要在网站内配置指令加入</p>

<pre><code>tls 自己的证书路径
</code></pre>

<p>或者</p>

<pre><code>tls 自己的邮箱
</code></pre>

<p>如果在第一行的域名用的是domain.com没有  http://  ，这种情况是默认开通80和443端口，默认启用https</p>

<h3 id="参考来源-2">参考来源</h3>

<p><a href="https://doub.io/shell-jc1/" rel="nofollow noreferrer" target="_blank">https://doub.io/shell-jc1/</a><br />
<a href="https://www.moerats.com/archives/404/" rel="nofollow noreferrer" target="_blank">https://www.moerats.com/archives/404/</a></p>

<h2 id="https-www-zybuluo-com-zwh8800-note-844776"><a href="https://www.zybuluo.com/zwh8800/note/844776" rel="nofollow noreferrer" target="_blank">https://www.zybuluo.com/zwh8800/note/844776</a></h2>

<p>title: 配置.htaccess来实现301重定向（旧域名指向新域名）
id: 89
date: 2010-11-20
tags:
- htaccess
- 重定向
- apache
- 后端技术
categories: [技术记录]
url: /technology/use-htaccess-301-redirect
keywords: htaccess,重定向，apache,后端技术</p>

<h2 id="description-本文记录了配置-htaccess来实现301重定向-旧域名指向新域名">description: 本文记录了配置.htaccess来实现301重定向（旧域名指向新域名）。</h2>

<p>换了域名，为了访问旧域名的访客引导到新域名上，要使用301重定向。</p>

<p>最后在网上找到这么一个方法，可以通过 .htaccess 来实现 301 重定向，原文如下：
<!--more--></p>

<p>出于 SEO、PR 值传递、网址转换的目的，在网站初建和网站迁移时我们都需要使用 301 重定向，通常包括域名对域名，目录对目录和一个独立网址对另一个独立网址的重定向。在虚拟主机上作 301 重定向，最常用的方法有2种：</p>

<p>1.直接编辑 .htaccess。</p>

<p>2.用 cPanel 设定。</p>

<p>实质二者都是修改文件 .htaccess，只是前者手工编辑，后者是由 cPanel 完成。用 cPanel 操作相当简单，登陆你的 cPanel Domain Redirects，选择相应的选项即可完成设置，这里暂不讨论。下面讲一下直接编辑 .htaccess 的方法。</p>

<p>注意：在设置 301 重定向之前务必备份相应目录下的.htaccess文件。</p>

<p><strong>1.重定向<code>domain.com</code>到<code>www.domain.com</code></strong></p>

<p>这种重定向旨在使域名唯一，是网站SEO必须要做的，后面重定向<code>www.domain.com</code>到<code>domain.com</code>也是出于同样的原因，只是形式不同。打开.htaccess文件，加入以下规则。(下面的规则是针对主域名的，子域名要修改)</p>

<pre><code>RewriteEngine On

RewriteCond %{HTTP_HOST} !^www.domain.com$ [NC]

RewriteRule ^(.*)$ http://www.domain.com/$1 [L,R=301]
</code></pre>

<p><strong>2.重定向www.domain.com到domain.com</strong></p>

<pre><code>RewriteEngine On

RewriteCond %{HTTP_HOST} !^domain.com$ [NC]

RewriteRule ^(.*)$ http://domain.com/$1 [L,R=301]
</code></pre>

<p><strong>3.重定向olddomain.com到www.newdomain.com</strong></p>

<pre><code>RewriteEngine On

RewriteCond %{HTTP_HOST} !olddomain.com$ [NC]

RewriteRule ^(.*)$ http://www.newdomain.com/$1 [L,R=301]
</code></pre>

<p><strong>4.重定向olddomain.com to newdomain.com</strong></p>

<pre><code>RewriteEngine On

RewriteBase /

RewriteCond %{HTTP_HOST} !olddomain.com$ [NC]

RewriteRule ^(.*)$ http://newdomain.com/$1 [L,R=301]
</code></pre>

<p><strong>5.重定向domain.com/file/file.php 到 otherdomain.com/otherfile/other.php</strong></p>

<pre><code>RewriteCond %{HTTP_HOST} ^www.domain.com$

RewriteRule ^file/file.php$ http://www.otherdomain.com/otherfile/other.php [R=301,L]
</code></pre>

<p>以上摘自：<a href="http://wange.im/" title="Life Studio" rel="nofollow noreferrer" target="_blank">Life Studio</a> » <a href="http://wange.im/redirect-by-htaccess.html" title="修改 .htaccess 实现 301 重定向" rel="nofollow noreferrer" target="_blank">《修改 .htaccess 实现 301 重定向》</a></p>

<p>wordpress博客目录下自动会有一个.htaccess文件，直接按照上面相关替换里面的一些文字就行。没有.htaccess文件的话可以用记事本新建一个。
附上我的.htaccess文件内容</p>

<pre><code>&lt;div id=&quot;_mcePaste&quot;&gt;# BEGIN WordPress&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;&amp;lt;IfModule mod_rewrite.c&amp;gt;&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;RewriteEngine On&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;RewriteBase /&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;RewriteCond %{HTTP_HOST} !http://blog.wyane.net$ [NC]&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;RewriteRule ^(.*)$ http://www.maybe.asia/$1 [L,R=301]&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;&amp;lt;/IfModule&amp;gt;&lt;/div&gt;

&lt;div id=&quot;_mcePaste&quot;&gt;# END WordPress&lt;/div&gt;

# BEGIN WordPress IfModule mod_rewrite.c&amp;gt;RewriteEngine OnRewriteBase /RewriteCond %{HTTP_HOST} !http://blog.wyane.net$ [NC]RewriteRule ^(.*)$ http://www.maybe.asia/$1 [R=301]&amp;lt;/IfModule&amp;gt;

# END WordPress
</code></pre>

<hr />

<p>Tags:
  - Hugo
title: 折腾静态博客程序之Hugo部署到Github Pages搭建个人博客
date: 2017-01-15
draft: false
categories: [技术记录]
url: /technology/using-hugo-to-build-blog
keywords: Go,Hugo,静态博客程序</p>

<h2 id="description-本文记录了如何用hugo静态博客程序和github-pages来搭建个人博客">description: 本文记录了如何用Hugo静态博客程序和Github Pages来搭建个人博客。</h2>

<p>最近在浏览许多人博客时候，发现了静态博客程序这种东西。是因为看到<a href="http://notes.iissnan.com/" rel="nofollow noreferrer" target="_blank">IIssNan</a>这位大神的博客主题非常好看，之前用的博客程序都是wordpress或者typecho，这个主题让人眼前一亮。动态效果很好看。但是看到底部信息，发现是用<a href="https://hexo.io/" rel="nofollow noreferrer" target="_blank">hexo</a>程序搭建的。于是就搜索了<a href="https://hexo.io/" rel="nofollow noreferrer" target="_blank">hexo</a>相关信息，才知道静态博客程序这个东西，<a href="https://hexo.io/" rel="nofollow noreferrer" target="_blank">hexo</a>是用Node.js语言，因为之前有看到过ghost
<!--more--></p>

<h2 id="待续">待续</h2>

<p>title: myqq3.19.zip 折腾VPS挂QQ 教程
id: 190
date: 2011-01-01
tags:
- QQ
- VPS
categories: [技术记录]
url: /technology/hang-qq-on-vps
keywords: QQ,挂机</p>

<h2 id="description-本文是介绍了用windows系统的vps来qq挂机">description: 本文是介绍了用Windows系统的VPS来QQ挂机。</h2>

<p>这文章是转自<a href="http://bynai.com/archives/528/" rel="nofollow noreferrer" target="_blank">http://bynai.com/archives/528/</a> 的  hostloc 上weishimi的
<!--more-->
&gt; myqq3.19.zip 下载地址：<a href="http://xiaoxia.org/home/upfiles/myqq3.19.zip" title="http://xiaoxia.org/home/upfiles/myqq3.19.zip" rel="nofollow noreferrer" target="_blank">http://xiaoxia.org/home/upfiles/myqq3.19.zip</a>
&gt;
&gt;
&gt; 该程序解压之后是可以在 Windows 等操作系统下运行的、Win系统下无聊才用这个软件，不过用来熟悉熟悉还是可以的、（解压 &gt; myqq3.19 &gt; bin &gt; i386-windows &gt; myqq.exe）<!--more-->
&gt;
&gt;
&gt; <em>（验证码文件被放在 verify文件夹下, 以QQ号命名的 png图片. 之后提到的VPS中, 验证码也需要去 verify目录下查找. ）</em>
&gt;
&gt;
&gt; * * *
&gt; 废话就不多说了，<strong>下面正式来介绍VPS端通过编译该程序挂QQ：</strong>
&gt;
&gt;
&gt; 通过SSH用root帐户登录、
&gt;
&gt;
&gt; <strong>1、</strong>首先，当然是<strong>下载：</strong>
&gt;
&gt;
&gt; $ wget <a href="http://xiaoxia.org/home/upfiles/myqq3.19.zip" rel="nofollow noreferrer" target="_blank">http://xiaoxia.org/home/upfiles/myqq3.19.zip</a>
&gt;
&gt;
&gt; <em>PS：如果下载地址失效, 自己Google一下吧;</em>
&gt;
&gt;
&gt; <strong>2、然后解压：</strong>
&gt;
&gt;
&gt; $ unzip myqq3.19.zip
&gt;
&gt;
&gt; <em>PS：如果系统上没有unzip介个, 自行通过yum安装; 其中yum命令, 在不同的操作系统上, 例如debian上, 请自己更换为apt-get.</em>
&gt;
&gt;
&gt; <strong>3、更换好记的文件名，并进入文件夹：</strong>
&gt;
&gt;
&gt; $ mv myqq3.19 qq
&gt;
&gt;
&gt; $ cd qq
&gt;
&gt;
&gt; <strong>4、</strong>编译首先<strong>安装make</strong>，大多数系统上都没有安装；如果有，请忽略：
&gt;
&gt;
&gt; $ yum install make -y
&gt;
&gt;
&gt; <em>PS：其中yum命令, 在不同的操作系统上, 例如debian上, 请自己更换为apt-get.</em>
&gt;
&gt;
&gt; <strong>5、编译：</strong>
&gt;
&gt;
&gt; $ make -C src -flinux.mak clean all
&gt;
&gt;
&gt; <strong>6、</strong>到这里为止你的VPS上就已经<strong>成功安装myqq3.19，运行：</strong>
&gt;
&gt;
&gt; $ ./myqq
&gt;
&gt;
&gt; <strong>7、完成</strong>，之后的就和Win系统下的差不多，当然有小小的区别、
&gt;
&gt;
&gt; 至于在上面提到的验证码要在 verify文件夹下查看，你可以登录VPS管理后台，或者安装winscp FTP管理程序来下载查看、byNai这里用的是进入VPS的后台 Hypervm File Manager、目录：默认安装在 root 文件夹下 qq verify 123456.png、在下面的文章中将有截图、查看的方式多种多样，各位各显神通吧！
&gt;
&gt;
&gt; myqq3.19 安装上去，挂着当然要用到 screen 命令、要不然你切断SSH，程序也就挂了、
&gt;
&gt;
&gt; <strong>8、</strong>首先是安装，一般的都有<strong>screen命令</strong>，不过一些精简的系统上，还是得要安装一下的、
&gt;
&gt;
&gt; $ yum install screen
&gt;
&gt;
&gt; PS：在不同的操作系统上, 安装过程输入一个y 或者是两个; 其中yum命令, 例如debian上, 请自己更换为apt-get.
&gt;
&gt;
&gt; 通过root登录后，输入screen命令新建窗口，进入qq目录，运行./myqq、下面简单放上几个screen命令：
&gt;
&gt;
&gt; $ screen //新建窗口
&gt;
&gt;
&gt; $ screen -S byNai //新建一个备注名为 byNai 的窗口
&gt;
&gt;
&gt; $ screen -ls //列出被挂起的窗口, 例如: 8011.byNai (11/21/10 00:59:16) (Detached)
&gt;
&gt;
&gt; $ screen -r 8011 //恢复窗口
&gt;
&gt;
&gt; 按 Ctrl + a 然后再按 d 即保留窗口并退出，QQ正常的被挂着，可以通过命令恢复窗口；关闭窗口exit，或许你之前需要按 Ctrl + z
&gt;
&gt;
&gt; <strong>随便说说：</strong>
&gt;
&gt;
&gt; 老天啊！我试了 Centos 和 debian 两个系统环境，编译后运行居然发现全部乱码！囧～ 好在还能挂QQ，就没继续折腾了、只用来挂挂QQ是肯定可以的！
&gt;
&gt;
&gt; 因为是乱码，我还是截图说一下登录过程吧：
&gt;
&gt;
&gt; 下面图片、第一行是QQ帐号；第二行是密码；第三行是是否隐身登录；第四行无视；第五行是验证码；第六行是验证码；第七行还是验证码；……怎么都是验证码啊！汗～没办法，验证码的缩略图太小了，我看的眼睛都累、如果一直都错误下去，关掉重新运行、./myqq
&gt;
&gt;
&gt; 验证码图片保存在 root qq verify 123456.png (文件名是固定的, 自动覆盖的, 在该刷新的时候刷新)
&gt;
&gt;
&gt; 成功输入验证码后，然后挂Q成功了，你可以去看看这个QQ是否在线、
&gt;
&gt;
&gt; 然后，没然后了、^_^ 按 Ctrl + a 再 d 然后关掉SSH睡觉吧、
&gt;
&gt;
&gt; 无语，写了老半天、、
&gt;
&gt;
&gt; <strong>挂QQ过程：</strong><strong>挂QQ过程：</strong>screen -S qq123 //新建一个以qq123为备注的窗口cd qq //进入QQ目录./myqq //运行QQ然后输入QQ帐号和密码，然后选择是否隐身登录（y | n），如果没有弹出好几行文字的话，那么你需要输入验证码、验证码所在的目录我在文章中已经标注了、可以用sftp登录查看、如果弹出十多行的乱码文字，基本上则证明你的QQ登录成功、按Ctrl+a，再d，保持该窗口并关闭（挂起），然后你切断SSH，QQ还是挂着的、<strong>如何回到已挂起的窗口：</strong>screen -ls //列出已挂起的窗口screen -r 2345 //回到已挂起的窗口，其中数字2345更换为 screen -ls 每行列出的数字、
我测试后的相关问题备份：</p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;vps挂Q不乱码&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;
1  先 yum update
<strong><span style="color: #ff0000;"> 2  关键的一步  yum install gcc  很多童鞋编译不过是因为没有gcc</span></strong>
3  yum install &ldquo;fonts-chinese*&rdquo;  安装中文字体
4  vi /etc/sysconfig/i18n 删掉里面的东西 改成
&gt; LANG=&ldquo;zh_CN.GB18030&rdquo;
&gt;
&gt; LANGUAGE=&ldquo;zh_CN.GB18030:zh_CN.GB2312:zh_CN&rdquo;
&gt;
&gt; SUPPORTED=&ldquo;zh_CN.GB18030:zh_CN:zh&rdquo;
&gt;
&gt; SYSFONT=&ldquo;lat0-sun16&rdquo;
&gt;
&gt; SYSFONTACM=&ldquo;8859-15&rdquo;
5  重启  具体reboot还是点按钮 自己看着办
6  按照这里面的东西安装 myqq  <a href="http://bynai.com/archives/528" rel="nofollow noreferrer" target="_blank">http://bynai.com/archives/528</a>
7  securecrt里的utf-8 设置： 选项-会话选项-终端-外观-字符编码-utf-8</p>

<p>完成！！~~~
这里有个后遗症就是  出了myqq 外面的中文不显示了
所以不用myqq的时候还要把第7步的字符编码调成 default  &mdash;&mdash;&mdash;-这个问题后面再解决</p>

<h2 id="vps挂q不乱码-centos-教程来自http-www-hostloc-com-thread-41194-1-1-html的guxin0123">vps挂Q不乱码~~【centos】教程来自<a href="http://www.hostloc.com/thread-41194-1-1.html的guxin0123" rel="nofollow noreferrer" target="_blank">http://www.hostloc.com/thread-41194-1-1.html的guxin0123</a></h2>

<p>date: 2017-06-14
draft: false
title: 弃用新浪微博
tags: [微博]
url: /life/no-weibo
isCJKLanguage: true
categories: [生活随想]</p>

<hr />

<p>前几天老婆问我是不是修改了我们的共用微博的密码。我说没啊，都没去碰它。但是老婆说突然弹出来提示说密码已经成功修改。我马上就试了下，的确不能登录。所以就想试下找回密码，因为老婆之前绑定的手机号已经不用了，本想可以通过邮箱或者其他方式来找回密码，却发现新浪微博召回密码只能支持手机号，不然就只能通过回答相关问题来申诉找回。既然不能手机号，就只能试下申诉，填了注册日期，常使用地点，使用过的密码，名字，身份证等相关信息，提交。说通常两天可以给结果，原来觉得肯定可以通过的，但是第二天来的结果，是不通过，理由是:
<!--more-->
&gt; 申诉找回密码不通过
&gt; 申诉不通过原因：非常抱歉，经核实您申诉中提供证件类型与系统存储的证件类型不匹配，请您回想信息重新扫描或拍照您的有效证件上传，在24小时之后进行申诉提交，我们会尽快为您处理！如有其它问题请您及时联系新浪客服。感谢您对新浪的支持！</p>

<h2 id="对于这个理由我也是无语了-明明上传的证件是没有错误的-老婆是怕被坏人盗去-然后做坏事-因为之前我们有用微博发过照片什么的-我是觉得记录了这么久-我们之间的点滴都没了-很心痛">对于这个理由我也是无语了，明明上传的证件是没有错误的。老婆是怕被坏人盗去，然后做坏事。因为之前我们有用微博发过照片什么的。我是觉得记录了这么久，我们之间的点滴都没了。很心痛。</h2>

<p>title: Wordpress无法编辑更新文章之解决方案
id: 208
date: 2011-03-07
tags:
- WordPress
categories: [技术记录]
url: /technology/wordpress-mod-security
keywords: WordPress,博客程序</p>

<h2 id="description-本文记录了wordpress无法编辑更新文章的解决方法">description: 本文记录了WordPress无法编辑更新文章的解决方法。</h2>

<p>前天锅烧网出现一个异常，可以添加新文章，但是无法更新和编辑文章，点击更新那个按钮后出现错误提示
<!--more-->
&gt; Not Acceptable
&gt;
&gt; An appropriate representation of the requested resource /wp-admin/post.php could not be found on this server.
&gt;
&gt;
&gt; Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.<!--more-->
折腾了半死还是没办法，还因此丢失了一些数据，于是在hostloc上发了求助帖，<a href="http://www.hostloc.com/viewthread.php?tid=49276&amp;amp;page=2#pid654780" rel="nofollow noreferrer" target="_blank">ifoneday同学</a>帮助了我，于是我就向主机商提交了TK，申请禁用Mod security模块，很快就解决了，在这里再次感谢下<a href="http://www.hostloc.com/viewthread.php?tid=49276&amp;amp;page=2#pid654780" rel="nofollow noreferrer" target="_blank">ifoneday同学</a>，谢谢！</p>

<p>后来在网上看到有些人又有其他办法
&gt; 8. mod_security 可能会造成问题。禁用它，看看是否这就是问题所在。为此，需要新建一个.htaccess文件在wp-admin目录。内容为：
&gt;
&gt;
&gt; &lt;IfModule mod_security.c&gt;
&gt;
&gt; SecFilterEngine Off
&gt;
&gt; SecFilterScanPOST Off
&gt;
&gt; &lt;/IfModule&gt;
&gt;
&gt;
&gt; 这将为wp-admin整目录禁用mod_security。
上面的方法来自<a href="http://seanchenxi.com/wordpress-25-add-image-problem.html" rel="nofollow noreferrer" target="_blank">http://seanchenxi.com/wordpress-25-add-image-problem.html</a></p>

<h2 id="他里面提到这个来自-http-wordpress-org-support-topic-164999-replies-1-http-wordpress-org-support-topic-164999-replies-1">他里面提到这个来自<a href="http://wordpress.org/support/topic/164999?replies=1" rel="nofollow noreferrer" target="_blank">http://wordpress.org/support/topic/164999?replies=1</a></h2>

<p>date: 2017-09-29
draft: false
title: 关于WordPress后台只显示一个主题的问题
tags:
- WordPress
categories: [技术记录]
url: /technology/wordpress-only-one-theme
isCJKLanguage: true
keywords: WordPress,SSL证书,博客程序
description: 本文记录了WordPress后台只显示一个主题的解决办法。</p>

<hr />

<p>今天给Hanayao博客配置了SSL证书，但是发现前台还是不会显示安全。但是在wordpress后台登录界面却可以显示安全标识。于是进了Hanayao博客后台，想换个主题试试。因为可能是使用的情侣博客主题并不是很完善，导致页面有漏洞。但是却发现后台只能看到一个主题。不过可以安装新的主题，但是安装后也是只显示最新安装的主题。
于是查询了下资料，发现是
<!--more-->
&gt; 服务器环境禁用了 scandir函数，导致WordPress无法正常缓存主题。
于是解决的办法只有通过开启php的scandir函数。
找到位于<code>/usr/local/php/etc</code> 目录下的php.ini，查找其中的“disable_funcions”字样，找到并删除紧随其后的“scandir”，最后保存该文件。
重启服务器的php服务就可以了</p>

<p>来自：<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">themebetter</a></p>

<hr />

<p>tags:
  - WordPress
  - HTTPS
  - SSL
title: 开启HTTPS后WordPress后台wp-admin登录后：显示抱歉，您不能访问此页面
categories:
 - 技术记录
url: /technology/wp_admin_https_sorry_cannot_reach
date: 2018-06-05
draft: false
keywords: WordPress,HTTPS,SSL证书</p>

<h2 id="description-本文记录了开启https后wordpress后台无法登陆的错误的解决办法">description: 本文记录了开启HTTPS后WordPress后台无法登陆的错误的解决办法。</h2>

<p>之前提到Hanayao博客，开启HTTPS后访问后台<code>wp-admin</code>提示 <code>ERR_TOO_MANY_REDIRECTS</code>过多次重定向的<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">解决办法</a>
但是解决多次重定向的问题后，登陆账号后又显示“抱歉，您不能访问此页面。”的提示
经过查询，下面两部可以解决这个问题。</p>

<!--more-->

<p>1、打开根目录下wp-config.php文件，在require_once(ABSPATH . ‘wp-settings.php’);前添加以下代码</p>

<pre><code>/**开启HTTPS*/
define('FORCE_SSL_ADMIN', true);
define('FORCE_SSL_LOGIN', true);
$_SERVER['HTTPS'] = 'ON';
define( 'CONCATENATE_SCRIPTS', false );
</code></pre>

<p>2、后台-设置-常规</p>

<p>WordPress地址（URL），地址改为https</p>

<p>站点地址（URL），地址改为https</p>

<p>（如果后台无法登录，可以在数据库里修改，wp_options表里的，siteurl、home）</p>

<p>参考来源<a href="https://www.myseo.com.cn/note/613.html" rel="nofollow noreferrer" target="_blank">wordpress开启https，后台登录显示“抱歉，您不能访问此页面。”</a></p>

<hr />

<p>tags:
  - WordPress
title: 开启HTTPS后WordPress后台wp-admin提示ERR_TOO_MANY_REDIRECTS
categories:
 - 技术记录
url: /technology/wp_admin_https_unavailable
date: 2018-06-05
draft: false
keywords: WordPress,HTTPS,SSL证书,博客程序</p>

<h2 id="description-本文记录了https开启后wordpress后台登录提示err-too-many-redirects的解决办法">description: 本文记录了HTTPS开启后WordPress后台登录提示ERR_TOO_MANY_REDIRECTS的解决办法。</h2>

<p>今天打开Hanayao博客，访问后台<code>wp-admin</code>发现提示 <code>ERR_TOO_MANY_REDIRECTS</code>
于是查询了下解决方法，参考了<a href="https://www.tongfu.info/solve-wordpress-wp-admin-https-redirect-loop/" rel="nofollow noreferrer" target="_blank">同富</a>的文章，发现可以解决。特记录下来。
在wp-config.php文件下增加了以下几行就可以。
<!--more--></p>

<pre><code>define('FORCE_SSL_ADMIN',true);
// in some setups HTTP_X_FORWARDED_PROTO might contain
// a comma-separated list e.g. http,https
// so check for https existence
if (strpos($_SERVER['HTTP_X_FORWARDED_PROTO'], 'https') !== false)
$_SERVER['HTTPS']='on';
</code></pre>

<hr />

<p>title: WordPress手机适配插件WPtouch
id: 98
date: 2010-11-21
tags:
- WordPress
categories: [技术记录]
url: /technology/wptouch-wordpress-your-phone-more-powerful-in-touch
keywords: WordPress插件,博客程序,WPtouch</p>

<h2 id="description-现在大部分人都用手机来上网-如果你的wordpress博客在手机上显示效果不好看-可以用这款插件来帮你适应手机显示效果">description: 现在大部分人都用手机来上网，如果你的WordPress博客在手机上显示效果不好看，可以用这款插件来帮你适应手机显示效果。</h2>

<p>该插件可以让你的wordpress网站在iPhone手机或者android系统上显示的更加美观，功能更加强大，有很好的界面体验。
图片将再下次贴出</p>

<p>安装使用方法：</p>

<p>直接在后台搜索WPtouch，可以在线安装或者<a href="http://wordpress.org/extend/plugins/wptouch/" rel="nofollow noreferrer" target="_blank">直接点此进入官方下载</a>。</p>

<p>启用插件后，可以进入插件设置页面进行相关设置，常用的还是那些博客名称、底部版权文字、图标、模板等相关设置。</p>

<p>界面语言是英文，但是一般都能看得懂，实在不行可以使用translate.google.com翻译。</p>

<p>&ndash;与其他手机插件相比</p>

<h2 id="wptouch具有更漂亮的模板-就像名字所说touch-该插件在iphone-ios系统和google的android系统上显示效果更佳-操作当然也更加舒适-由于wptouch根据来访用户的useragent来判断访客所使用的设备-所以直接访问网站的主域名即可显示效果">WPtouch具有更漂亮的模板，就像名字所说touch，该插件在iPhone iOS系统和Google的Android系统上显示效果更佳，操作当然也更加舒适。由于WPtouch根据来访用户的UserAgent来判断访客所使用的设备，所以直接访问网站的主域名即可显示效果。</h2>

<p>title: 善于利用备忘录记录重要事情
id: 176
date: 2010-12-16
tags: []
categories: [生活随想]</p>

<h2 id="url-life-write-down-important-things">url: /life/write-down-important-things</h2>

<p>最近老是忘记事情，其实要写的内容很多，每次思考或发呆的时候都会想到一些值得西德东西，但是都是因为自己的拖延，到后来都忘了要写的是什么。因此，我们在日常生活中应该善于利用备忘录记录重要事情，比如你一闪而过的创意、重要的约会，想说的话和想做的事等等。这样不仅能让我们减轻了记过多事情而觉得烦躁，还能使我们不会错过一些重要事情。<!--more--></p>

<p>现在好多手机都有备忘录或者日历的事件提醒功能，但有几个人做到充分利用该功能？手机的备忘录是一个非常方便的功能，因为现在好多人都里不开手机，一闲下来手里的手机就忙个不停。
如果你没有用手机备忘的习惯，并且也不想用手机来备忘，那除了手机备忘录，我们还可以随身携带个小记事本来记录，不过这个还是比手机有点不方便吧。这里推荐一个重要日子提醒服务的网站：记忆日。</p>

<h2 id="这个我一直在用-它具有在重要的日子发送发送邮件或者短信提醒你-服务还是蛮贴心的-好像能提前三天-提前一天和当天提醒-大家可以前去试试">这个我一直在用，它具有在重要的日子发送发送邮件或者短信提醒你，服务还是蛮贴心的，好像能提前三天，提前一天和当天提醒。大家可以前去试试。</h2>

<p>title: Wordpress引用优酷无广告版
id: 157
date: 2010-12-08
tags:
- WordPress
- 博客程序
categories: [技术记录]</p>

<h2 id="url-technology-youku-noads-wordpress">url: /technology/youku-noads-wordpress</h2>

<p>在引用时,把优酷的flash地址,替换下边的视频flash地址</p>

<p>[html]&lt;embed type=&quot;application/x-shockwave-flash&quot; src=&quot;视频flash地址&quot;d=&quot;movie_player&quot;name=&quot;movie_player&quot;bgcolor=&quot;#000000&quot;quality=&quot;high&quot;allowfullscreen=&quot;true&quot;flashvars=&quot;isShowRelatedVideo=false&amp;showAd=0&amp;show_pre=1&amp;show_next=1&amp;isAutoPlay=false&amp;isDebug=false&amp;UserID=&amp;winType=interior&amp;playMovie=true&amp;MMControl=false&amp;MMout=false&amp;RecordCode=1001,1002,1003,1004,1005,1006,2001,3001,3002,3003,3004,3005,3007,3008,9999&quot;pluginspage=&quot;<a href="http://www.macromedia.com/go/getflashplayer&quot;width=&quot;480&quot;" rel="nofollow noreferrer" target="_blank">http://www.macromedia.com/go/getflashplayer&quot;width=&quot;480&quot;</a> height=&quot;400&quot;&gt;&lt;/embed&gt;[/html]</p>

<p>然后粘贴在WordPress中</p>

<h2 id="转自-deloz-http-deloz-net-1000000351-html">转自：<a href="http://deloz.net/1000000351.html" rel="nofollow noreferrer" target="_blank">Deloz</a></h2>

<p>title: 自己的博客终于上线了
id: 37
date: 2010-08-04
tags: []
categories: [生活随想]</p>

<h2 id="url-life-your-blog-finally-on-the-line">url: /life/your-blog-finally-on-the-line</h2>

<p>经过几天的测试修改，自己的博客终于开通了。
想想自己是在06年的时候开始对网站制作产生兴趣。。想想那时也挺早的，但是由于还小，还不知道建设网站。。于是就百度上搜索了一翻，看到有个phpWind的免费托管论坛。当时并对论坛并没有什么概念，也没想到要做什么主题的网站，就随便开了一个追星性质的论坛。。真的是三分热度，刚开始天天忙于论坛的管理，不过一阵子就失去了兴趣 = = 然后就没有然后了。。</p>

<p>接着是07年的时候，那是又兴趣来了。百度找到了Discuz！旗下的免费论坛托管拼台我的领地。。原来是觉得这个论坛比较符合我的感觉，呵，当时又是在上初二，就来个 “学习交流论坛” （完全对建站没有任何概念，主题广泛的很，现在也是）后来发现是不是大家对学习不感兴趣还是学习在网上就行不通？后来改成了交友性质的“青春社区”  这个论坛建了最久，期间断断续续管理了不少时间，也是花费我最大精力的网站。会员后来也达到了600人，但其中一部分不是真实活跃的会员。现在这个网站pr还是2。。</p>

<p>在做免费论坛的那段时间也看到很多人去做独立网站了，但是我没有网银，也只好知足了。今年我才开始学做独立网站。先是购买了一个域名 wyane.net 然后再寻找着合适的空间，在淘宝上买过美国空间和国内的双线空间，上传FTP时的速度让我抛弃了美国的空间，因为国内的一对比，美国的空间太慢了。。第一次程序当然还是Discuz！的。。。说了这么多废话，不说了</p>

<p>百度下建站程序，发现wordpress很出名。。原来都不知道这个。。真的是孤陋寡闻啊。下载 -安装  发现这个程序真的巨好，有种相见恨晚的感觉，前两天向老薛申请了一个免费空间做一个个人博客耍耍</p>

<h2 id="wake-me-up-when-september-ends-http-cd05-static-jango-com-music-17-89-61-1789610821-mp3"><a href="http://cd05.static.jango.com/music/17/89/61/1789610821.mp3" rel="nofollow noreferrer" target="_blank">wake me up when september ends</a></h2>

<p>title: 沉痛悼念云南地震和日本地震遇难者
id: 214
date: 2011-03-12
tags:
categories: [生活随想]</p>

<h2 id="url-life-yunnan-japan-earthquake">url: /life/yunnan-japan-earthquake</h2>

<p>都说水火无情人有情，2011年3月10日12时58分，云南省德宏傣族景颇族自治州盈江县发生里氏5.8级地震，截至目前已造成25人遇难250人受伤，而就在云南地震的第二天，也就是2011年3月11日13时46分，日本东北部宫城县以东太平洋海域发生里氏8.9级特大地震，而后又发生6次强烈余震 最大一次震级7.1级并且引发了10米高的海啸，波及了20多个国家和地区，截至目前可能已造成1800人遇难失踪。现在真是灾难不断，而地震是人类最手足无措的一种灾害，无法提前预知，提前警报，所以往往导致重大伤亡。<!--more--></p>

<h1 id="沉痛悼念云南地震和日本地震遇难者"><strong>沉痛悼念云南地震和日本地震遇难者</strong></h1>

<p>云南地震的地点房屋比较破旧，所以5.8级的地震就导致了比较大的伤亡和财产损失。下面这张图片说明了地震造成的破坏</p>

<p>图片地址已经失效</p>

<p>下面是日本特大地震和海啸后的情况</p>

<p>图片地址已经失效</p>

<p>相信看过《2012》的朋友都会感受到此次日本大地震的海啸，和电影中的场景好像，近期频发的地震活动（新西兰地震、中国云南地震、日本特大地震）和我们2012距离越来越近，不少人不禁会想世界末日真的快到了吗？</p>
    </div>

    <div class="post-copyright">
            <p class="copyright-item">
              <span><i class="fa fa-user"></i></span>
                
             <span> <a itemprop="name" href="https://huaien.co/" rel="author">Wyane</a> </span>
                </p>

             
            <p class="copyright-item">
              <span><i class="fa fa-link"></i></span>
                   
                    <span><a href=https://huaien.co/technology/linux-tar-zcvf-command-of-invisible-file/>https://huaien.co/technology/linux-tar-zcvf-command-of-invisible-file/</span>
            </p>
            
              
      
             
            <p class="copyright-item lincese">
              <span><i class="fa fa-copyright"></i></span>
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
      
        


                  
  




    </div>
      
      

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://huaien.co/tags/linux/">
                    #Linux</a></span>
            
            <span class="tag"><a href="https://huaien.co/tags/shell/">
                    #Shell</a></span>
            
            <span class="tag"><a href="https://huaien.co/tags/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/">
                    #后端技术</a></span>
            
            </section>
        
        <section>
                <span><a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://huaien.co/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://huaien.co/technology/how-to-backup-hexo-to-github/" class="prev" rel="prev" title="Windows,Linux多平台下共同维护Hexo 备份Hexo到GitHub"><i class="iconfont icon-left"></i>&nbsp;Windows,Linux多平台下共同维护Hexo 备份Hexo到GitHub</a>
         
        
        <a href="https://huaien.co/technology/linux-tar-zcvf-command-of-invisible-file/" class="next" rel="next" title="Linux打包压缩目录中的隐藏文件命令">Linux打包压缩目录中的隐藏文件命令&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>
<br>
<style>
.before-comment { height: 3rem; }
@media(min-width: 500px) { .before-comment { height: 2rem; }
@media(min-width: 800px) { .before-comment { height: 1rem; }
</style>       
<div class="before-comment"></div>  

          
			
			<div align="center">
<style>
.adsbygoogle-comment { width: 99%; height: 60px; padding: 1rem 0px }
@media(min-width: 500px) { .adsbygoogle-comment { width: 99%; height: 70px; padding: 1rem 0px} }
@media(min-width: 800px) { .adsbygoogle-comment { width: 99%; height: 90px; padding: 1rem 0px} }
</style> 
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>



<ins class="adsbygoogle adsbygoogle-comment"
     style="display:inline-block"
     data-ad-client="ca-pub-4547757701057415"
     data-ad-slot="9118682280"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
          

      <p></p>
<div class="post-comment">
		
                 
            
			
  
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'NW2s1QV41zVBXsHRzTeVJWPf-MdYXbMMI',
        appKey: 'BhNP1gtLFJ7aF5QfM89DpbFv',
        notify:  false , 
        verify:  false , 
        avatar:'monsterid', 
        placeholder: '说说你的看法~(*填写邮箱的话若有人回复，将可以收到提醒邮件哦^_^)',
        visitor: 'false'
    });
  </script>

  

		

</div>
      
 
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2010 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://huaien.co/">Wyane</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
  
    
  
  
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/5d4384e9e5ae967ef80e0653/default';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>

  
 <script src="https://embed.small.chat/TLZK60LJ2GLL3K6R8B.js" async></script> 
  
    

  

</footer>













    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
